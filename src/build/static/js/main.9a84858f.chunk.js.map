{"version":3,"sources":["conference/Logger.js","conference/cookiesManager.js","conference/RoomClient.js","conference/redux/stateActions.js","conference/redux/requestActions.js","conference/urlFactory.js","conference/redux/reducers/room.js","conference/redux/reducers/me.js","conference/redux/reducers/producers.js","conference/redux/reducers/dataProducers.js","conference/redux/reducers/peers.js","conference/redux/reducers/consumers.js","conference/redux/reducers/dataConsumers.js","conference/redux/reducers/notifications.js","conference/redux/reducers/displayMode.js","conference/redux/reducers/textMessaging.js","conference/redux/reducers/rightSideMode.js","conference/redux/reducers/meetingLoader.js","conference/redux/reducers/recordingMessage.js","conference/redux/reducers/recordingBarUtil.js","conference/redux/reducers/index.js","conference/logo.png","firebase.js","Home.js","conference/RoomContext.js","conference/components/BottomRecordingBar.js","conference/components/appPropTypes.js","conference/components/MirrorButton.js","conference/components/BottomMenu.js","conference/components/screen/ScreenDetailsView.jsx","conference/components/screen/MeScreenDetails.jsx","conference/components/screen/ScreenDetails.jsx","conference/components/img/speakerview.svg","conference/components/img/grid_view.svg","conference/components/Header.js","conference/components/screen/ScreenView.js","conference/components/AllAudioView.jsx","conference/components/AllAudio.jsx","conference/components/grid/PeerViewGrid.jsx","conference/components/poster.png","conference/components/grid/PeerGrid.jsx","conference/components/grid/Me.jsx","conference/components/grid/GridMain.js","conference/components/slider/MeBottomPortionView.jsx","conference/components/slider/SliderParticipant.js","conference/components/slider/TopPortion.js","conference/components/slider/MeBottomPortion.jsx","conference/components/slider/PeerBottomPortion.jsx","conference/components/slider/LeftPanelPart.js","conference/components/slider/SiderBarFooter.js","conference/components/slider/ChatSidebar.js","conference/components/slider/SidebarMember.js","conference/components/slider/SidebarMemberMe.js","conference/components/slider/SideBarUserFooter.js","conference/components/slider/SidebarUserList.js","conference/components/slider/SliderView.js","conference/components/slider/SliderMain.js","conference/components/Main.js","conference/components/Footer.js","conference/components/EndMeeting.js","conference/components/MyDivMain.js","conference/components/Notifications.jsx","conference/components/Room.jsx","conference/PreRoom.js","conference/deviceInfo.js","SignIn.js","SignUp.js","userPhoto.png","JoinMeeting.js","PrivateRoute.js","ForgotPassword.js","Schedule.js","index.jsx"],"names":["APP_NAME","Logger","prefix","this","_debug","debug","_warn","_error","log","console","info","bind","warn","error","USER_COOKIE","DEVICES_COOKIE","setUser","displayName","jsCookie","set","getDevices","getJSON","setDevices","webcamEnabled","store","setRoomState","state","type","payload","setRoomActiveSpeaker","peerId","setRoomStatsPeerId","setDisplayName","setAudioOnlyState","enabled","setAudioOnlyInProgress","flag","setAudioMutedState","setRestartIceInProgress","addProducer","producer","removeProducer","producerId","setProducerTrack","track","setProducerScore","score","addDataProducer","dataProducer","setWebcamInProgress","setShareInProgress","addPeer","peer","removePeer","setPeerDisplayName","addConsumer","consumer","removeConsumer","consumerId","setConsumerPaused","originator","setConsumerResumed","setConsumerCurrentLayers","spatialLayer","temporalLayer","setConsumerPreferredLayers","setConsumerPriority","priority","setConsumerScore","addDataConsumer","dataConsumer","removeDataConsumer","dataConsumerId","removeNotification","notificationId","changeDisplayMode","mode","screenId","addNewTextMessage","message","changeMeetingLoaderState","visible","changeRecordingMessage","notify","text","title","timeout","notification","id","randomString","length","toLowerCase","dispatch","stateActions","setTimeout","VIDEO_CONSTRAINS","qvga","width","ideal","height","vga","hd","PC_PROPRIETARY_CONSTRAINTS","optional","googDscp","WEBCAM_SIMULCAST_ENCODINGS","scaleResolutionDownBy","maxBitrate","WEBCAM_KSVC_ENCODINGS","scalabilityMode","SCREEN_SHARING_SIMULCAST_ENCODINGS","dtx","SCREEN_SHARING_SVC_ENCODINGS","logger","RoomClient","roomId","device","handlerName","useSimulcast","useSharingSimulcast","forceTcp","produce","consume","forceH264","forceVP9","svc","datachannel","externalVideo","_closed","_displayName","_device","_forceTcp","_produce","_consume","_useDataChannel","_forceH264","Boolean","_forceVP9","_externalVideo","_externalVideoStream","_nextDataChannelTestNumber","document","createElement","controls","muted","loop","setAttribute","src","play","catch","_handlerName","_useSimulcast","_useSharingSimulcast","_protooUrl","getProtooUrl","_protoo","_mediasoupDevice","_sendTransport","_recvTransport","_micProducer","_webcamProducer","_shareProducer","_chatDataProducer","_botDataProducer","_consumers","Map","_dataConsumers","_webcams","_webcam","resolution","data","close","protooTransport","protooClient","WebSocketTransport","Peer","on","_joinRoom","requestActions","request","accept","reject","a","method","kind","rtpParameters","appData","producerPaused","delete","mediasoupClient","encodings","spatialLayers","temporalLayers","locallyPaused","remotelyPaused","preferredSpatialLayer","preferredTemporalLayer","codec","codecs","mimeType","split","getState","me","audioOnly","_pauseConsumer","dataProducerId","sctpStreamParameters","label","protocol","consumeData","streamId","window","DC_MESSAGE","ArrayBuffer","number","DataView","getUint32","Math","pow","peers","sendingPeer","Object","keys","map","_peerId","find","dataConsumers","includes","DC","consumers","oldDisplayName","get","pause","resume","displayMode","sender","shareScreenId","disableWebcam","muteMic","getElementById","remove","style","display","canProduce","navigator","mediaDevices","getUserMedia","audio","stream","getAudioTracks","_getExternalVideoStream","clone","codecOptions","opusStereo","opusDtx","paused","disableMic","stop","disableShare","_updateWebcams","Error","video","deviceId","getVideoTracks","videoGoogleStartBitrate","rtpCapabilities","c","firstVideoCodec","deviceLabel","_getWebcamType","array","Array","from","len","undefined","idx","indexOf","exact","replaceTrack","getDisplayMedia","displaySurface","logicalSurface","cursor","max","frameRate","encoding","share","name","values","cookiesManager","enableWebcam","_resumeConsumer","transportId","iceParameters","restartIce","setMaxSpatialLayer","produceData","ordered","maxRetransmits","maxPacketLifeTime","send","getStats","uplink","downlink","rtt","secret","silent","routerRtpCapabilities","load","audioTrack","producing","consuming","sctpCapabilities","transportInfo","iceCandidates","dtlsParameters","sctpParameters","createSendTransport","iceServers","proprietaryConstraints","callback","errback","then","createRecvTransport","canSendMic","canSendWebcam","enableMic","devicesCookie","connectionState","enableChatDataProducer","enableBotDataProducer","SHOW_INFO","enumerateDevices","devices","currentWebcamId","has","size","test","readyState","Promise","resolve","addEventListener","captureStream","mozCaptureStream","initialState","url","activeSpeakerId","statsPeerId","faceDetection","room","action","roomState","newState","displayNameSet","canChangeWebcam","webcamInProgress","shareInProgress","audioOnlyInProgress","audioMuted","restartIceInProgress","producers","newProducer","dataProducers","newPeer","newConsumers","slice","splice","newDataConsumers","newConsumer","currentSpatialLayer","currentTemporalLayer","notifications","filter","textMessaging","rightSideMode","meetingLoader","recordingMessage","start","recordingBarUtil","key","value","reducers","combineReducers","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Home","history","useHistory","React","useState","user","setRoomId","baseUrl","setBaseUrl","inputType","setInputType","useEffect","JSON","parse","localStorage","getItem","uid","formToggle","fid","className","Helmet","backgroundImage","href","onClick","event","preventDefault","logo","data-toggle","data-target","aria-controls","aria-expanded","aria-label","push","meetingId","collection","add","userId","created","Date","doc","padding","removeItem","position","zIndex","WebkitFontSmoothing","backgroundColor","borderRadius","color","top","right","aria-hidden","role","photo","alt","encType","margin","placeholder","email","condition","maxWidth","htmlFor","maxLength","data-learn-more","paddingLeft","marginLeft","vaction","defaultValue","aria-describedby","border","RoomContext","createContext","withRoomContext","Component","props","Consumer","roomClient","recorder","Device","PropTypes","shape","string","isRequired","oneOf","activeSpeakerName","version","bool","any","object","arrayOf","BottomRecordingBarContainer","connect","startVisible","playVisible","pauseVisible","stopVisible","operateRecording","comingSoon","rid","useParams","playAnchorEl","setPlayAnchorEl","onlyAudioRecording","recording","download","completeBlob","URL","createObjectURL","extension","body","appendChild","click","removeChild","revokeObjectURL","screen","MediaStream","getTracks","MediaRecorder","chunks","ondataavailable","e","onstop","Blob","recordingStatus","onstart","onpause","onresume","data-placement","data-original-title","Menu","anchorEl","keepMounted","open","onClose","MenuItem","ListItemIcon","fontSize","MirrorButton","setFlag","querySelector","transform","BottomMenu","endCall","match","params","showMeetingLoader","where","querySnapshot","endCallForAll","forEach","micState","webcamState","connected","audioProducer","videoProducer","onRoomLinkCopy","onSetStatsPeerId","changeRightSideMode","copyRoomUrl","renderChildren","tag","blocking","loader","left","active","unmuteMic","ctrlKey","shiftKey","metaKey","button","clipboardCopy","marginTop","disabled","data-tooltip","BottomMenuContainer","producersArray","func","withRouter","tinyFaceDetectorOptions","faceapi","inputSize","scoreThreshold","ScreenDetailsView","audioVolume","showInfo","videoResolutionWidth","videoResolutionHeight","videoCanPlay","videoElemPaused","maxSpatialLayer","_videoTrack","_hark","_videoResolutionPeriodicTimer","_faceDetectionRequestAnimationFrame","isMe","audioProducerId","videoProducerId","audioConsumerId","videoConsumerId","videoRtpParameters","consumerSpatialLayers","consumerTemporalLayers","consumerCurrentSpatialLayer","consumerCurrentTemporalLayer","consumerPreferredSpatialLayer","consumerPreferredTemporalLayer","consumerPriority","videoVisible","videoMultiLayer","audioCodec","videoCodec","audioScore","videoScore","onChangeDisplayName","onChangeMaxSendingSpatialLayer","onChangeVideoPreferredLayers","onChangeVideoPriority","onRequestKeyFrame","onStatsClick","audioEnabled","ref","outlineStyle","autoPlay","playsInline","str","substring","videoTrack","_setTracks","clearInterval","cancelAnimationFrame","videoElem","refs","oncanplay","onplay","setState","_audioTrack","_stopVideoResolution","_stopFaceDetection","addTrack","srcObject","_startVideoResolution","_startFaceDetection","hark","dBs","threshold","round","setInterval","videoWidth","videoHeight","canvas","step","requestAnimationFrame","detection","offsetWidth","offsetHeight","resizedDetections","drawDetections","MeScreenDetails","_mounted","_rootNode","audioRtpParameters","changeDisplayName","setMaxSendingSpatialLayer","ReactTooltip","show","prevProps","hide","MeScreenDetailsContainer","ScreenDetailsContainer","consumersArray","audioConsumer","videoConsumer","requestConsumerKeyFrame","HeaderContainer","ScreenViewContainer","peersArray","speakerView","gridView","m","AllAudioView","audioElem","_runHark","AllAudioContainer","PeerViewGridContainer","dynamicStyle","makeScreenDetails","maxHeight","poster","borderColor","truncatedText","stopPropagation","hostMuteUnmute","controlOverAudioVideoByHost","PeerGridContainer","Me","MeContainer","GridMainContainer","count","setCount","pagination","items","current_page","per_page_items","page","per_page","offset","paginatedItems","total_pages","ceil","pre_page","next_page","total","MeBottomPortionView","weight","MeBottomPortion","MeMeBottomPortionContainer","PeerBottomPortionContainer","LeftPanelPartContainer","amActiveSpeaker","SiderBarFooterContainer","invalidMessage","setMessage","receiver","setReceiver","members","setMembers","background","onChange","target","onKeyPress","messagePayload","time","getTime","Number","some","member","group","meetingChat","sendMessageEnter","ChatSidebarContainer","sort","b","obj","i","classnames","textAlign","SidebarMemberContainer","SidebarMemberMe","SideBarUserFooterContainer","audioEnabledCount","videoVisibleCount","hostMuteUnmuteAll","controlOverAudioVideoByHostAll","SidebarUserListContainer","search","setSearch","float","SliderViewContainer","SliderMain","MainContainer","Footer","EndMeeting","MyDivMain","NotificationsContainer","aria-live","Room","invalidMeetingMessage","roomFullMessage","trim","join","RoomContainer","PreRoomContainer","setMyself","setUrl","roomUrl","resetTextMessage","setRoomClient","ua","userAgent","browser","bowser","getParser","satisfies","chrome","chromium","firefox","safari","opera","getBrowserName","getBrowserVersion","deviceInfo","location","rc","Provider","SignIn","useLocation","setEmail","password","setPassword","setError","toggle","empty","setItem","stringify","redirectPage","SignUp","emailExists","setEmailExists","dob","setDob","useForm","register","errors","watch","handleSubmit","useRef","current","insertIntoDB","firstName","confirmPassword","onSubmit","concat","lastName","required","pattern","showMonthDropdown","showYearDropdown","isClearable","dropdownMode","placeholderText","maxDate","dateFormat","selected","date","minLength","validate","JoinMeeting","mySubmitHandler","myChangeHandler","homePage","PrivateRoute","component","rest","render","to","pathname","ForgotPassword","encodeURIComponent","success","fetch","response","json","Schedule","setInfo","topic","setTopic","newMeetingId","setNewMeetingId","scheduleDate","setScheduleDate","scheduleTime","setScheduleTime","scheduleDocId","setScheduleDocId","scheduleList","setScheduleList","scheduleListStartTime","setScheduleListStartTime","scheduleListEndTime","setScheduleListEndTime","scheduleListPrevious","setScheduleListPrevious","scheduleListPreviousStartTime","setScheduleListPreviousStartTime","scheduleListPreviousEndTime","setScheduleListPreviousEndTime","refresh","setRefresh","scheduleListLoader","setScheduleListLoader","scheduleListPreviousLoader","setScheduleListPreviousLoader","lst","sid","filterLst","f","scheduleAt","toDate","lstPrevious","filterLstPrevious","copyInvitation","toLocaleString","weekday","month","getDate","getHours","getMinutes","deleteSchedule","editSchedule","startSchedule","update","status","aria-selected","aria-labelledby","startDate","endDate","setDate","minDate","monthFormat","startDatePlaceholder","endDatePlaceholder","startWeekDay","highlightToday","st","minutes","mod","setMinutes","createScheduleBtnClk","paddingTop","marginBottom","personalMeeting","copyPersonalInvitation","tabIndex","data-backdrop","paddingBottom","showTimeSelect","showTimeSelectOnly","timeIntervals","timeCaption","data-dismiss","setHours","schedule","saveSchedule","reduxMiddlewares","thunk","createReduxStore","applyReduxMiddleware","run","path","PreRoom","init","domready"],"mappings":"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","file":"static/js/main.9a84858f.chunk.js","sourcesContent":["import debug from 'debug';\n\nconst APP_NAME = 'mediasoup-demo';\n\nexport default class Logger\n{\n\tconstructor(prefix)\n\t{\n\t\tif (prefix)\n\t\t{\n\t\t\tthis._debug = debug(`${APP_NAME}:${prefix}`);\n\t\t\tthis._warn = debug(`${APP_NAME}:WARN:${prefix}`);\n\t\t\tthis._error = debug(`${APP_NAME}:ERROR:${prefix}`);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._debug = debug(APP_NAME);\n\t\t\tthis._warn = debug(`${APP_NAME}:WARN`);\n\t\t\tthis._error = debug(`${APP_NAME}:ERROR`);\n\t\t}\n\n\t\t/* eslint-disable no-console */\n\t\tthis._debug.log = console.info.bind(console);\n\t\tthis._warn.log = console.warn.bind(console);\n\t\tthis._error.log = console.error.bind(console);\n\t\t/* eslint-enable no-console */\n\t}\n\n\tget debug()\n\t{\n\t\treturn this._debug;\n\t}\n\n\tget warn()\n\t{\n\t\treturn this._warn;\n\t}\n\n\tget error()\n\t{\n\t\treturn this._error;\n\t}\n}\n","import jsCookie from 'js-cookie';\n\nconst USER_COOKIE = 'mediasoup-demo.user';\nconst DEVICES_COOKIE = 'mediasoup-demo.devices';\n\nexport function getUser()\n{\n\treturn jsCookie.getJSON(USER_COOKIE);\n}\n\nexport function setUser({ displayName })\n{\n\tjsCookie.set(USER_COOKIE, { displayName });\n}\n\nexport function getDevices()\n{\n\treturn jsCookie.getJSON(DEVICES_COOKIE);\n}\n\nexport function setDevices({ webcamEnabled })\n{\n\tjsCookie.set(DEVICES_COOKIE, { webcamEnabled });\n}\n","import protooClient from 'protoo-client';\nimport * as mediasoupClient from 'mediasoup-client';\nimport Logger from './Logger';\nimport {getProtooUrl} from './urlFactory';\nimport * as cookiesManager from './cookiesManager';\nimport * as requestActions from './redux/requestActions';\nimport * as stateActions from './redux/stateActions';\n\nconst VIDEO_CONSTRAINS =\n{\n\tqvga : { width: { ideal: 320 }, height: { ideal: 240 } },\n\tvga  : { width: { ideal: 640 }, height: { ideal: 480 } },\n\thd   : { width: { ideal: 1280 }, height: { ideal: 720 } }\n};\n\nconst PC_PROPRIETARY_CONSTRAINTS =\n{\n\toptional : [ { googDscp: true } ]\n};\n\n// Used for simulcast webcam video.\nconst WEBCAM_SIMULCAST_ENCODINGS =\n[\n\t{ scaleResolutionDownBy: 4, maxBitrate: 500000 },\n\t{ scaleResolutionDownBy: 2, maxBitrate: 1000000 },\n\t{ scaleResolutionDownBy: 1, maxBitrate: 5000000 }\n];\n\n// Used for VP9 webcam video.\nconst WEBCAM_KSVC_ENCODINGS =\n[\n\t{ scalabilityMode: 'S3T3_KEY' }\n];\n\n// Used for simulcast screen sharing.\nconst SCREEN_SHARING_SIMULCAST_ENCODINGS =\n[\n\t{ dtx: true, maxBitrate: 1500000 },\n\t{ dtx: true, maxBitrate: 6000000 }\n];\n\n// Used for VP9 screen sharing.\nconst SCREEN_SHARING_SVC_ENCODINGS =\n[\n\t{ scalabilityMode: 'S3T3', dtx: true }\n];\n\nconst EXTERNAL_VIDEO_SRC = '/resources/videos/video-audio-stereo.mp4';\n\nconst logger = new Logger('RoomClient');\n\nlet store;\n\nexport default class RoomClient\n{\n\t/**\n\t * @param  {Object} data\n\t * @param  {Object} data.store - The Redux store.\n\t */\n\tstatic init(data)\n\t{\n\t\tstore = data.store;\n\t}\n\n\tconstructor(\n\t\t{\n\t\t\troomId,\n\t\t\tpeerId,\n\t\t\tdisplayName,\n\t\t\tdevice,\n\t\t\thandlerName,\n\t\t\tuseSimulcast,\n\t\t\tuseSharingSimulcast,\n\t\t\tforceTcp,\n\t\t\tproduce,\n\t\t\tconsume,\n\t\t\tforceH264,\n\t\t\tforceVP9,\n\t\t\tsvc,\n\t\t\tdatachannel,\n\t\t\texternalVideo\n\t\t}\n\t)\n\t{\n\t\tlogger.debug(\n\t\t\t'constructor() [roomId:\"%s\", peerId:\"%s\", displayName:\"%s\", device:%s]',\n\t\t\troomId, peerId, displayName, device.flag);\n\n\t\t// Closed flag.\n\t\t// @type {Boolean}\n\t\tthis._closed = false;\n\n\t\t// Display name.\n\t\t// @type {String}\n\t\tthis._displayName = displayName;\n\n\t\t// Device info.\n\t\t// @type {Object}\n\t\tthis._device = device;\n\n\t\t// Whether we want to force RTC over TCP.\n\t\t// @type {Boolean}\n\t\tthis._forceTcp = forceTcp;\n\n\t\t// Whether we want to produce audio/video.\n\t\t// @type {Boolean}\n\t\tthis._produce = produce;\n\n\t\t// Whether we should consume.\n\t\t// @type {Boolean}\n\t\tthis._consume = consume;\n\n\t\t// Whether we want DataChannels.\n\t\t// @type {Boolean}\n\t\tthis._useDataChannel = datachannel;\n\n\t\t// Force H264 codec for sending.\n\t\tthis._forceH264 = Boolean(forceH264);\n\n\t\t// Force VP9 codec for sending.\n\t\tthis._forceVP9 = Boolean(forceVP9);\n\n\t\t// External video.\n\t\t// @type {HTMLVideoElement}\n\t\tthis._externalVideo = null;\n\n\t\t// MediaStream of the external video.\n\t\t// @type {MediaStream}\n\t\tthis._externalVideoStream = null;\n\n\t\t// Next expected dataChannel test number.\n\t\t// @type {Number}\n\t\tthis._nextDataChannelTestNumber = 0;\n\n\t\tif (externalVideo)\n\t\t{\n\t\t\tthis._externalVideo = document.createElement('video');\n\n\t\t\tthis._externalVideo.controls = true;\n\t\t\tthis._externalVideo.muted = true;\n\t\t\tthis._externalVideo.loop = true;\n\t\t\tthis._externalVideo.setAttribute('playsinline', '');\n\t\t\tthis._externalVideo.src = EXTERNAL_VIDEO_SRC;\n\n\t\t\tthis._externalVideo.play()\n\t\t\t\t.catch((error) => logger.warn('externalVideo.play() failed:%o', error));\n\t\t}\n\n\t\t// Custom mediasoup-client handler name (to override default browser\n\t\t// detection if desired).\n\t\t// @type {String}\n\t\tthis._handlerName = handlerName;\n\n\t\t// Whether simulcast should be used.\n\t\t// @type {Boolean}\n\t\tthis._useSimulcast = useSimulcast;\n\n\t\t// Whether simulcast should be used in desktop sharing.\n\t\t// @type {Boolean}\n\t\tthis._useSharingSimulcast = useSharingSimulcast;\n\n\t\t// Protoo URL.\n\t\t// @type {String}\n\t\tthis._protooUrl = getProtooUrl({ roomId, peerId });\n\n\t\t// protoo-client Peer instance.\n\t\t// @type {protooClient.Peer}\n\t\tthis._protoo = null;\n\n\t\t// mediasoup-client Device instance.\n\t\t// @type {mediasoupClient.Device}\n\t\tthis._mediasoupDevice = null;\n\n\t\t// mediasoup Transport for sending.\n\t\t// @type {mediasoupClient.Transport}\n\t\tthis._sendTransport = null;\n\n\t\t// mediasoup Transport for receiving.\n\t\t// @type {mediasoupClient.Transport}\n\t\tthis._recvTransport = null;\n\n\t\t// Local mic mediasoup Producer.\n\t\t// @type {mediasoupClient.Producer}\n\t\tthis._micProducer = null;\n\n\t\t// Local webcam mediasoup Producer.\n\t\t// @type {mediasoupClient.Producer}\n\t\tthis._webcamProducer = null;\n\n\t\t// Local share mediasoup Producer.\n\t\t// @type {mediasoupClient.Producer}\n\t\tthis._shareProducer = null;\n\n\t\t// Local chat DataProducer.\n\t\t// @type {mediasoupClient.DataProducer}\n\t\tthis._chatDataProducer = null;\n\n\t\t// Local bot DataProducer.\n\t\t// @type {mediasoupClient.DataProducer}\n\t\tthis._botDataProducer = null;\n\n\t\t// mediasoup Consumers.\n\t\t// @type {Map<String, mediasoupClient.Consumer>}\n\t\tthis._consumers = new Map();\n\n\t\t// mediasoup DataConsumers.\n\t\t// @type {Map<String, mediasoupClient.DataConsumer>}\n\t\tthis._dataConsumers = new Map();\n\n\t\t// Map of webcam MediaDeviceInfos indexed by deviceId.\n\t\t// @type {Map<String, MediaDeviceInfos>}\n\t\tthis._webcams = new Map();\n\n\t\t// Local Webcam.\n\t\t// @type {Object} with:\n\t\t// - {MediaDeviceInfo} [device]\n\t\t// - {String} [resolution] - 'qvga' / 'vga' / 'hd'.\n\t\tthis._webcam =\n\t\t{\n\t\t\tdevice     : null,\n\t\t\tresolution : 'hd'\n\t\t};\n\n\t\t// Set custom SVC scalability mode.\n\t\tif (svc)\n\t\t{\n\t\t\tWEBCAM_KSVC_ENCODINGS[0].scalabilityMode = `${svc}_KEY`;\n\t\t\tSCREEN_SHARING_SVC_ENCODINGS[0].scalabilityMode = svc;\n\t\t}\n\t}\n\n\tclose()\n\t{\n\t\tif (this._closed)\n\t\t\treturn;\n\n\t\tthis._closed = true;\n\n\t\tlogger.debug('close()');\n\n\t\t// Close protoo Peer\n\t\tthis._protoo.close();\n\n\t\t// Close mediasoup Transports.\n\t\tif (this._sendTransport)\n\t\t\tthis._sendTransport.close();\n\n\t\tif (this._recvTransport)\n\t\t\tthis._recvTransport.close();\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setRoomState('closed'));\n\t}\n\n\tasync join()\n\t{\n\t\tconst protooTransport = new protooClient.WebSocketTransport(this._protooUrl);\n\n\t\tthis._protoo = new protooClient.Peer(protooTransport);\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setRoomState('connecting'));\n\n\t\tthis._protoo.on('open', () => this._joinRoom());\n\n\t\tthis._protoo.on('failed', () =>\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : 'WebSocket connection failed'\n\t\t\t\t}));\n\t\t});\n\n\t\tthis._protoo.on('disconnected', () =>\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : 'WebSocket disconnected'\n\t\t\t\t}));\n\n\t\t\t// Close mediasoup Transports.\n\t\t\tif (this._sendTransport)\n\t\t\t{\n\t\t\t\tthis._sendTransport.close();\n\t\t\t\tthis._sendTransport = null;\n\t\t\t}\n\n\t\t\tif (this._recvTransport)\n\t\t\t{\n\t\t\t\tthis._recvTransport.close();\n\t\t\t\tthis._recvTransport = null;\n\t\t\t}\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setRoomState('closed'));\n\t\t});\n\n\t\tthis._protoo.on('close', () =>\n\t\t{\n\t\t\tif (this._closed)\n\t\t\t\treturn;\n\n\t\t\tthis.close();\n\t\t});\n\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tthis._protoo.on('request', async (request, accept, reject) =>\n\t\t{\n\t\t\tlogger.debug(\n\t\t\t\t'proto \"request\" event [method:%s, data:%o]',\n\t\t\t\trequest.method, request.data);\n\n\t\t\tswitch (request.method)\n\t\t\t{\n\t\t\t\tcase 'newConsumer':\n\t\t\t\t{\n\t\t\t\t\tif (!this._consume)\n\t\t\t\t\t{\n\t\t\t\t\t\treject(403, 'I do not want to consume');\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\tpeerId,\n\t\t\t\t\t\tproducerId,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tkind,\n\t\t\t\t\t\trtpParameters,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tappData,\n\t\t\t\t\t\tproducerPaused\n\t\t\t\t\t} = request.data;\n\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tconst consumer = await this._recvTransport.consume(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tproducerId,\n\t\t\t\t\t\t\t\tkind,\n\t\t\t\t\t\t\t\trtpParameters,\n\t\t\t\t\t\t\t\tappData : { ...appData, peerId } // Trick.\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Store in the map.\n\t\t\t\t\t\tthis._consumers.set(consumer.id, consumer);\n\n\t\t\t\t\t\tconsumer.on('transportclose', () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._consumers.delete(consumer.id);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst { spatialLayers, temporalLayers } =\n\t\t\t\t\t\t\tmediasoupClient.parseScalabilityMode(\n\t\t\t\t\t\t\t\tconsumer.rtpParameters.encodings[0].scalabilityMode);\n\n\t\t\t\t\t\tstore.dispatch(stateActions.addConsumer(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid                     : consumer.id,\n\t\t\t\t\t\t\t\ttype                   : type,\n\t\t\t\t\t\t\t\tlocallyPaused          : false,\n\t\t\t\t\t\t\t\tremotelyPaused         : producerPaused,\n\t\t\t\t\t\t\t\trtpParameters          : consumer.rtpParameters,\n\t\t\t\t\t\t\t\tspatialLayers          : spatialLayers,\n\t\t\t\t\t\t\t\ttemporalLayers         : temporalLayers,\n\t\t\t\t\t\t\t\tpreferredSpatialLayer  : spatialLayers - 1,\n\t\t\t\t\t\t\t\tpreferredTemporalLayer : temporalLayers - 1,\n\t\t\t\t\t\t\t\tpriority               : 1,\n\t\t\t\t\t\t\t\tcodec                  : consumer.rtpParameters.codecs[0].mimeType.split('/')[1],\n\t\t\t\t\t\t\t\ttrack                  : consumer.track\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpeerId));\n\n\t\t\t\t\t\t// We are ready. Answer the protoo request so the server will\n\t\t\t\t\t\t// resume this Consumer (which was paused for now if video).\n\t\t\t\t\t\taccept();\n\n\t\t\t\t\t\t// If audio-only mode is enabled, pause it.\n\t\t\t\t\t\tif (consumer.kind === 'video' && store.getState().me.audioOnly)\n\t\t\t\t\t\t\tthis._pauseConsumer(consumer);\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error)\n\t\t\t\t\t{\n\t\t\t\t\t\tlogger.error('\"newConsumer\" request failed:%o', error);\n\n\t\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\t\t\ttext : `Error creating a Consumer: ${error}`\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'newDataConsumer':\n\t\t\t\t{\n\t\t\t\t\tif (!this._consume)\n\t\t\t\t\t{\n\t\t\t\t\t\treject(403, 'I do not want to data consume');\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this._useDataChannel)\n\t\t\t\t\t{\n\t\t\t\t\t\treject(403, 'I do not want DataChannels');\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\tpeerId, // NOTE: Null if bot.\n\t\t\t\t\t\tdataProducerId,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tsctpStreamParameters,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tprotocol,\n\t\t\t\t\t\tappData\n\t\t\t\t\t} = request.data;\n\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\tconst dataConsumer = await this._recvTransport.consumeData(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tdataProducerId,\n\t\t\t\t\t\t\t\tsctpStreamParameters,\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tprotocol,\n\t\t\t\t\t\t\t\tappData : { ...appData, peerId } // Trick.\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Store in the map.\n\t\t\t\t\t\tthis._dataConsumers.set(dataConsumer.id, dataConsumer);\n\n\t\t\t\t\t\tdataConsumer.on('transportclose', () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._dataConsumers.delete(dataConsumer.id);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdataConsumer.on('open', () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlogger.debug('DataConsumer \"open\" event');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdataConsumer.on('close', () =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlogger.warn('DataConsumer \"close\" event');\n\n\t\t\t\t\t\t\tthis._dataConsumers.delete(dataConsumer.id);\n\n\t\t\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\t\t\t\ttext : 'DataConsumer closed'\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdataConsumer.on('error', (error) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlogger.error('DataConsumer \"error\" event:%o', error);\n\n\t\t\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\t\t\t\ttext : `DataConsumer error: ${error}`\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdataConsumer.on('message', (message) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlogger.debug(\n\t\t\t\t\t\t\t\t'DataConsumer \"message\" event [streamId:%d]',\n\t\t\t\t\t\t\t\tdataConsumer.sctpStreamParameters.streamId);\n\n\t\t\t\t\t\t\t// TODO: For debugging.\n\t\t\t\t\t\t\twindow.DC_MESSAGE = message;\n\n\t\t\t\t\t\t\tif (message instanceof ArrayBuffer)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst view = new DataView(message);\n\t\t\t\t\t\t\t\tconst number = view.getUint32();\n\n\t\t\t\t\t\t\t\tif (number == Math.pow(2, 32) - 1)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlogger.warn('dataChannelTest finished!');\n\n\t\t\t\t\t\t\t\t\tthis._nextDataChannelTestNumber = 0;\n\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (number > this._nextDataChannelTestNumber)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t\t\t\t\t'dataChannelTest: %s packets missing',\n\t\t\t\t\t\t\t\t\t\tnumber - this._nextDataChannelTestNumber);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis._nextDataChannelTestNumber = number + 1;\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (typeof message !== 'string')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlogger.warn('ignoring DataConsumer \"message\" (not a string)');\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tswitch (dataConsumer.label)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcase 'chat':\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tconst { peers } = store.getState();\n\t\t\t\t\t\t\t\t\tconst peersArray = Object.keys(peers)\n\t\t\t\t\t\t\t\t\t\t.map((_peerId) => peers[_peerId]);\n\t\t\t\t\t\t\t\t\tconst sendingPeer = peersArray\n\t\t\t\t\t\t\t\t\t\t.find((peer) => peer.dataConsumers.includes(dataConsumer.id));\n\n\t\t\t\t\t\t\t\t\tif (!sendingPeer)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlogger.warn('DataConsumer \"message\" from unknown peer');\n\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle   : `${sendingPeer.displayName} says:`,\n\t\t\t\t\t\t\t\t\t\t\ttext    : message,\n\t\t\t\t\t\t\t\t\t\t\ttimeout : 5000\n\t\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcase 'bot':\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttitle   : 'Message from Bot:',\n\t\t\t\t\t\t\t\t\t\t\ttext    : message,\n\t\t\t\t\t\t\t\t\t\t\ttimeout : 5000\n\t\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// TODO: REMOVE\n\t\t\t\t\t\twindow.DC = dataConsumer;\n\n\t\t\t\t\t\tstore.dispatch(stateActions.addDataConsumer(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid                   : dataConsumer.id,\n\t\t\t\t\t\t\t\tsctpStreamParameters : dataConsumer.sctpStreamParameters,\n\t\t\t\t\t\t\t\tlabel                : dataConsumer.label,\n\t\t\t\t\t\t\t\tprotocol             : dataConsumer.protocol\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpeerId));\n\n\t\t\t\t\t\t// We are ready. Answer the protoo request.\n\t\t\t\t\t\taccept();\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error)\n\t\t\t\t\t{\n\t\t\t\t\t\tlogger.error('\"newDataConsumer\" request failed:%o', error);\n\n\t\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\t\t\ttext : `Error creating a DataConsumer: ${error}`\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._protoo.on('notification', (notification) =>\n\t\t{\n\t\t\tlogger.debug(\n\t\t\t\t'proto \"notification\" event [method:%s, data:%o]',\n\t\t\t\tnotification.method, notification.data);\n\n\t\t\tswitch (notification.method)\n\t\t\t{\n\t\t\t\tcase 'producerScore':\n\t\t\t\t{\n\t\t\t\t\tconst { producerId, score } = notification.data;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.setProducerScore(producerId, score));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'newPeer':\n\t\t\t\t{\n\t\t\t\t\tconst peer = notification.data;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.addPeer(\n\t\t\t\t\t\t\t{ ...peer, consumers: [], dataConsumers: [] }));\n\n\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext : `${peer.displayName} has joined the room`\n\t\t\t\t\t\t}));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'peerClosed':\n\t\t\t\t{\n\t\t\t\t\tconst { peerId } = notification.data;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.removePeer(peerId));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'peerDisplayNameChanged':\n\t\t\t\t{\n\t\t\t\t\tconst { peerId, displayName, oldDisplayName } = notification.data;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.setPeerDisplayName(displayName, peerId));\n\n\t\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext : `${oldDisplayName} is now ${displayName}`\n\t\t\t\t\t\t}));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'downlinkBwe':\n\t\t\t\t{\n\t\t\t\t\tlogger.debug('\\'downlinkBwe\\' event:%o', notification.data);\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'consumerClosed':\n\t\t\t\t{\n\t\t\t\t\tconst { consumerId } = notification.data;\n\t\t\t\t\tconst consumer = this._consumers.get(consumerId);\n\n\t\t\t\t\tif (!consumer)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tconsumer.close();\n\t\t\t\t\tthis._consumers.delete(consumerId);\n\n\t\t\t\t\tconst { peerId } = consumer.appData;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.removeConsumer(consumerId, peerId));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'consumerPaused':\n\t\t\t\t{\n\t\t\t\t\tconst { consumerId } = notification.data;\n\t\t\t\t\tconst consumer = this._consumers.get(consumerId);\n\n\t\t\t\t\tif (!consumer)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tconsumer.pause();\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.setConsumerPaused(consumerId, 'remote'));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'consumerResumed':\n\t\t\t\t{\n\t\t\t\t\tconst { consumerId } = notification.data;\n\t\t\t\t\tconst consumer = this._consumers.get(consumerId);\n\n\t\t\t\t\tif (!consumer)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tconsumer.resume();\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.setConsumerResumed(consumerId, 'remote'));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'consumerLayersChanged':\n\t\t\t\t{\n\t\t\t\t\tconst { consumerId, spatialLayer, temporalLayer } = notification.data;\n\t\t\t\t\tconst consumer = this._consumers.get(consumerId);\n\n\t\t\t\t\tif (!consumer)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tstore.dispatch(stateActions.setConsumerCurrentLayers(\n\t\t\t\t\t\tconsumerId, spatialLayer, temporalLayer));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'consumerScore':\n\t\t\t\t{\n\t\t\t\t\tconst { consumerId, score } = notification.data;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.setConsumerScore(consumerId, score));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'dataConsumerClosed':\n\t\t\t\t{\n\t\t\t\t\tconst { dataConsumerId } = notification.data;\n\t\t\t\t\tconst dataConsumer = this._dataConsumers.get(dataConsumerId);\n\n\t\t\t\t\tif (!dataConsumer)\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdataConsumer.close();\n\t\t\t\t\tthis._dataConsumers.delete(dataConsumerId);\n\n\t\t\t\t\tconst { peerId } = dataConsumer.appData;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.removeDataConsumer(dataConsumerId, peerId));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcase 'activeSpeaker':\n\t\t\t\t{\n\t\t\t\t\tconst { peerId } = notification.data;\n\n\t\t\t\t\tstore.dispatch(\n\t\t\t\t\t\tstateActions.setRoomActiveSpeaker(peerId));\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n                case 'peerMeetingChat':\n                {\n                    store.dispatch(stateActions.addNewTextMessage(notification.data));\n                    if (store.getState().displayMode.mode !== 'speaker') {\n                        const {sender, message} = notification.data;\n                        store.dispatch(requestActions.notify({\n                            text: `${sender} said ${message}`\n                        }));\n                    }\n                    break;\n                }\n\n\t\t\t\tcase 'peerSharingMyScreen':\n\t\t\t\t{\n                    const {shareScreenId} = notification.data;\n\n                    if (Boolean(shareScreenId)) {\n                        store.dispatch(stateActions.changeDisplayMode('screen', notification.data.shareScreenId));\n                    } else {\n                        store.dispatch(stateActions.changeDisplayMode('grid', null));\n                    }\n\n\n                    break;\n                }\n\n                case 'peerControlOverAudioVideoByHost':\n\t\t\t\t{\n\t\t\t\t\tconst {type} = notification.data;\n\t\t\t\t\tif (type === 'VIDEO') {\n\t\t\t\t\t\tthis.disableWebcam();\n\t\t\t\t\t\tstore.dispatch(requestActions.notify({\n\t\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\t\ttext: 'Host turn off your camera'\n\t\t\t\t\t\t}));\n\t\t\t\t\t}else if (type === 'AUDIO') {\n\t\t\t\t\t\tthis.muteMic();\n\t\t\t\t\t\tstore.dispatch(requestActions.notify({\n\t\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\t\ttext: 'Host muted your microphone'\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n                }\n\n                case 'peerEndCallForAll':\n\t\t\t\t{\n\t\t\t\t\tthis.close();\n\t\t\t\t\t// window.location.replace(window.location.origin);\n\t\t\t\t\tdocument.getElementById(\"unlockMeetingBodyId\").remove();\n\t\t\t\t\tdocument.getElementById(\"unlockMeetingEndId\").style.display = \"block\";\n\t\t\t\t\tbreak;\n                }\n\n                case 'peerRecordingStatus':\n\t\t\t\t{\n\t\t\t\t\tconst {message} = notification.data;\n\t\t\t\t\tstore.dispatch(stateActions.changeRecordingMessage(message));\n\t\t\t\t\tbreak;\n                }\n\n\t\t\t\tdefault:\n\t\t\t\t{\n\t\t\t\t\tlogger.error(\n\t\t\t\t\t\t'unknown protoo notification.method \"%s\"', notification.method);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tasync enableMic()\n\t{\n\t\tlogger.debug('enableMic()');\n\n\t\tif (this._micProducer)\n\t\t\treturn;\n\n\t\tif (!this._mediasoupDevice.canProduce('audio'))\n\t\t{\n\t\t\tlogger.error('enableMic() | cannot produce audio');\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet track;\n\n\t\ttry\n\t\t{\n\t\t\tif (!this._externalVideo)\n\t\t\t{\n\t\t\t\tlogger.debug('enableMic() | calling getUserMedia()');\n\n\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n\n\t\t\t\ttrack = stream.getAudioTracks()[0];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst stream = await this._getExternalVideoStream();\n\n\t\t\t\ttrack = stream.getAudioTracks()[0].clone();\n\t\t\t}\n\n\t\t\tthis._micProducer = await this._sendTransport.produce(\n\t\t\t\t{\n\t\t\t\t\ttrack,\n\t\t\t\t\tcodecOptions :\n\t\t\t\t\t{\n\t\t\t\t\t\topusStereo : 1,\n\t\t\t\t\t\topusDtx    : 1\n\t\t\t\t\t}\n\t\t\t\t\t// NOTE: for testing codec selection.\n\t\t\t\t\t// codec : this._mediasoupDevice.rtpCapabilities.codecs\n\t\t\t\t\t// \t.find((codec) => codec.mimeType.toLowerCase() === 'audio/pcma')\n\t\t\t\t});\n\n\t\t\tstore.dispatch(stateActions.addProducer(\n\t\t\t\t{\n\t\t\t\t\tid            : this._micProducer.id,\n\t\t\t\t\tpaused        : this._micProducer.paused,\n\t\t\t\t\ttrack         : this._micProducer.track,\n\t\t\t\t\trtpParameters : this._micProducer.rtpParameters,\n\t\t\t\t\tcodec         : this._micProducer.rtpParameters.codecs[0].mimeType.split('/')[1]\n\t\t\t\t}));\n\n\t\t\tthis._micProducer.on('transportclose', () =>\n\t\t\t{\n\t\t\t\tthis._micProducer = null;\n\t\t\t});\n\n\t\t\tthis._micProducer.on('trackended', () =>\n\t\t\t{\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : 'Microphone disconnected!'\n\t\t\t\t\t}));\n\n\t\t\t\tthis.disableMic()\n\t\t\t\t\t.catch(() => {});\n\t\t\t});\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('enableMic() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error enabling microphone: ${error}`\n\t\t\t\t}));\n\n\t\t\tif (track)\n\t\t\t\ttrack.stop();\n\t\t}\n\t}\n\n\tasync disableMic()\n\t{\n\t\tlogger.debug('disableMic()');\n\n\t\tif (!this._micProducer)\n\t\t\treturn;\n\n\t\tthis._micProducer.close();\n\n\t\tstore.dispatch(\n\t\t\tstateActions.removeProducer(this._micProducer.id));\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'closeProducer', { producerId: this._micProducer.id });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error closing server-side mic Producer: ${error}`\n\t\t\t\t}));\n\t\t}\n\n\t\tthis._micProducer = null;\n\t}\n\n\tasync muteMic()\n\t{\n\t\tlogger.debug('muteMic()');\n\n\t\tthis._micProducer.pause();\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'pauseProducer', { producerId: this._micProducer.id });\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setProducerPaused(this._micProducer.id));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('muteMic() | failed: %o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error pausing server-side mic Producer: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync unmuteMic()\n\t{\n\t\tlogger.debug('unmuteMic()');\n\n\t\tthis._micProducer.resume();\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'resumeProducer', { producerId: this._micProducer.id });\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setProducerResumed(this._micProducer.id));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('unmuteMic() | failed: %o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error resuming server-side mic Producer: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync enableWebcam()\n\t{\n\t\tlogger.debug('enableWebcam()');\n\n\t\tif (this._webcamProducer)\n\t\t\treturn;\n\t\telse if (this._shareProducer)\n\t\t\tawait this.disableShare();\n\n\t\tif (!this._mediasoupDevice.canProduce('video'))\n\t\t{\n\t\t\tlogger.error('enableWebcam() | cannot produce video');\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet track;\n\t\tlet device;\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setWebcamInProgress(true));\n\n\t\ttry\n\t\t{\n\t\t\tif (!this._externalVideo)\n\t\t\t{\n\t\t\t\tawait this._updateWebcams();\n\t\t\t\tdevice = this._webcam.device;\n\n\t\t\t\tconst { resolution } = this._webcam;\n\n\t\t\t\tif (!device)\n\t\t\t\t\tthrow new Error('no webcam devices');\n\n\t\t\t\tlogger.debug('enableWebcam() | calling getUserMedia()');\n\n\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia(\n\t\t\t\t\t{\n\t\t\t\t\t\tvideo :\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdeviceId : { ideal: device.deviceId },\n\t\t\t\t\t\t\t...VIDEO_CONSTRAINS[resolution]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\ttrack = stream.getVideoTracks()[0];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdevice = { label: 'external video' };\n\n\t\t\t\tconst stream = await this._getExternalVideoStream();\n\n\t\t\t\ttrack = stream.getVideoTracks()[0].clone();\n\t\t\t}\n\n\t\t\tlet encodings;\n\t\t\tlet codec;\n\t\t\tconst codecOptions =\n\t\t\t{\n\t\t\t\tvideoGoogleStartBitrate : 1000\n\t\t\t};\n\n\t\t\tif (this._forceH264)\n\t\t\t{\n\t\t\t\tcodec = this._mediasoupDevice.rtpCapabilities.codecs\n\t\t\t\t\t.find((c) => c.mimeType.toLowerCase() === 'video/h264');\n\n\t\t\t\tif (!codec)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error('desired H264 codec+configuration is not supported');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this._forceVP9)\n\t\t\t{\n\t\t\t\tcodec = this._mediasoupDevice.rtpCapabilities.codecs\n\t\t\t\t\t.find((c) => c.mimeType.toLowerCase() === 'video/vp9');\n\n\t\t\t\tif (!codec)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error('desired VP9 codec+configuration is not supported');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._useSimulcast)\n\t\t\t{\n\t\t\t\t// If VP9 is the only available video codec then use SVC.\n\t\t\t\tconst firstVideoCodec = this._mediasoupDevice\n\t\t\t\t\t.rtpCapabilities\n\t\t\t\t\t.codecs\n\t\t\t\t\t.find((c) => c.kind === 'video');\n\n\t\t\t\tif (\n\t\t\t\t\t(this._forceVP9 && codec) ||\n\t\t\t\t\tfirstVideoCodec.mimeType.toLowerCase() === 'video/vp9'\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tencodings = WEBCAM_KSVC_ENCODINGS;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tencodings = WEBCAM_SIMULCAST_ENCODINGS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._webcamProducer = await this._sendTransport.produce(\n\t\t\t\t{\n\t\t\t\t\ttrack,\n\t\t\t\t\tencodings,\n\t\t\t\t\tcodecOptions,\n\t\t\t\t\tcodec\n\t\t\t\t});\n\n\t\t\tstore.dispatch(stateActions.addProducer(\n\t\t\t\t{\n\t\t\t\t\tid            : this._webcamProducer.id,\n\t\t\t\t\tdeviceLabel   : device.label,\n\t\t\t\t\ttype          : this._getWebcamType(device),\n\t\t\t\t\tpaused        : this._webcamProducer.paused,\n\t\t\t\t\ttrack         : this._webcamProducer.track,\n\t\t\t\t\trtpParameters : this._webcamProducer.rtpParameters,\n\t\t\t\t\tcodec         : this._webcamProducer.rtpParameters.codecs[0].mimeType.split('/')[1]\n\t\t\t\t}));\n\n\t\t\tthis._webcamProducer.on('transportclose', () =>\n\t\t\t{\n\t\t\t\tthis._webcamProducer = null;\n\t\t\t});\n\n\t\t\tthis._webcamProducer.on('trackended', () =>\n\t\t\t{\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : 'Webcam disconnected!'\n\t\t\t\t\t}));\n\n\t\t\t\tthis.disableWebcam()\n\t\t\t\t\t.catch(() => {});\n\t\t\t});\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('enableWebcam() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error enabling webcam: ${error}`\n\t\t\t\t}));\n\n\t\t\tif (track)\n\t\t\t\ttrack.stop();\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setWebcamInProgress(false));\n\t}\n\n\tasync disableWebcam()\n\t{\n\t\tlogger.debug('disableWebcam()');\n\n\t\tif (!this._webcamProducer)\n\t\t\treturn;\n\n\t\tthis._webcamProducer.close();\n\n\t\tstore.dispatch(\n\t\t\tstateActions.removeProducer(this._webcamProducer.id));\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'closeProducer', { producerId: this._webcamProducer.id });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error closing server-side webcam Producer: ${error}`\n\t\t\t\t}));\n\t\t}\n\n\t\tthis._webcamProducer = null;\n\t}\n\n\tasync changeWebcam()\n\t{\n\t\tlogger.debug('changeWebcam()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setWebcamInProgress(true));\n\n\t\ttry\n\t\t{\n\t\t\tawait this._updateWebcams();\n\n\t\t\tconst array = Array.from(this._webcams.keys());\n\t\t\tconst len = array.length;\n\t\t\tconst deviceId =\n\t\t\t\tthis._webcam.device ? this._webcam.device.deviceId : undefined;\n\t\t\tlet idx = array.indexOf(deviceId);\n\n\t\t\tif (idx < len - 1)\n\t\t\t\tidx++;\n\t\t\telse\n\t\t\t\tidx = 0;\n\n\t\t\tthis._webcam.device = this._webcams.get(array[idx]);\n\n\t\t\tlogger.debug(\n\t\t\t\t'changeWebcam() | new selected webcam [device:%o]',\n\t\t\t\tthis._webcam.device);\n\n\t\t\t// Reset video resolution to HD.\n\t\t\tthis._webcam.resolution = 'hd';\n\n\t\t\tif (!this._webcam.device)\n\t\t\t\tthrow new Error('no webcam devices');\n\n\t\t\t// Closing the current video track before asking for a new one (mobiles do not like\n\t\t\t// having both front/back cameras open at the same time).\n\t\t\tthis._webcamProducer.track.stop();\n\n\t\t\tlogger.debug('changeWebcam() | calling getUserMedia()');\n\n\t\t\tconst stream = await navigator.mediaDevices.getUserMedia(\n\t\t\t\t{\n\t\t\t\t\tvideo :\n\t\t\t\t\t{\n\t\t\t\t\t\tdeviceId : { exact: this._webcam.device.deviceId },\n\t\t\t\t\t\t...VIDEO_CONSTRAINS[this._webcam.resolution]\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tconst track = stream.getVideoTracks()[0];\n\n\t\t\tawait this._webcamProducer.replaceTrack({ track });\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setProducerTrack(this._webcamProducer.id, track));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('changeWebcam() | failed: %o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Could not change webcam: ${error}`\n\t\t\t\t}));\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setWebcamInProgress(false));\n\t}\n\n\tasync changeWebcamResolution()\n\t{\n\t\tlogger.debug('changeWebcamResolution()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setWebcamInProgress(true));\n\n\t\ttry\n\t\t{\n\t\t\tswitch (this._webcam.resolution)\n\t\t\t{\n\t\t\t\tcase 'qvga':\n\t\t\t\t\tthis._webcam.resolution = 'vga';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'vga':\n\t\t\t\t\tthis._webcam.resolution = 'hd';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'hd':\n\t\t\t\t\tthis._webcam.resolution = 'qvga';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis._webcam.resolution = 'hd';\n\t\t\t}\n\n\t\t\tlogger.debug('changeWebcamResolution() | calling getUserMedia()');\n\n\t\t\tconst stream = await navigator.mediaDevices.getUserMedia(\n\t\t\t\t{\n\t\t\t\t\tvideo :\n\t\t\t\t\t{\n\t\t\t\t\t\tdeviceId : { exact: this._webcam.device.deviceId },\n\t\t\t\t\t\t...VIDEO_CONSTRAINS[this._webcam.resolution]\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tconst track = stream.getVideoTracks()[0];\n\n\t\t\tawait this._webcamProducer.replaceTrack({ track });\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setProducerTrack(this._webcamProducer.id, track));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('changeWebcamResolution() | failed: %o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Could not change webcam resolution: ${error}`\n\t\t\t\t}));\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setWebcamInProgress(false));\n\t}\n\n\tasync enableShare()\n\t{\n\t\tlogger.debug('enableShare()');\n\n\t\tif (this._shareProducer)\n\t\t\treturn;\n\t\telse if (this._webcamProducer)\n\t\t\tawait this.disableWebcam();\n\n\t\tif (!this._mediasoupDevice.canProduce('video'))\n\t\t{\n\t\t\tlogger.error('enableShare() | cannot produce video');\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet track;\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setShareInProgress(true));\n\n\t\ttry\n\t\t{\n\t\t\tlogger.debug('enableShare() | calling getUserMedia()');\n\n\t\t\tconst stream = await navigator.mediaDevices.getDisplayMedia(\n\t\t\t\t{\n\t\t\t\t\taudio : false,\n\t\t\t\t\tvideo :\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplaySurface : 'monitor',\n\t\t\t\t\t\tlogicalSurface : true,\n\t\t\t\t\t\tcursor         : true,\n\t\t\t\t\t\twidth          : { max: 1920 },\n\t\t\t\t\t\theight         : { max: 1080 },\n\t\t\t\t\t\tframeRate      : { max: 30 }\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t// May mean cancelled (in some implementations).\n\t\t\tif (!stream)\n\t\t\t{\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tstateActions.setShareInProgress(true));\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttrack = stream.getVideoTracks()[0];\n\n\t\t\tlet encodings;\n\t\t\tlet codec;\n\t\t\tconst codecOptions =\n\t\t\t{\n\t\t\t\tvideoGoogleStartBitrate : 1000\n\t\t\t};\n\n\t\t\tif (this._forceH264)\n\t\t\t{\n\t\t\t\tcodec = this._mediasoupDevice.rtpCapabilities.codecs\n\t\t\t\t\t.find((c) => c.mimeType.toLowerCase() === 'video/h264');\n\n\t\t\t\tif (!codec)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error('desired H264 codec+configuration is not supported');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this._forceVP9)\n\t\t\t{\n\t\t\t\tcodec = this._mediasoupDevice.rtpCapabilities.codecs\n\t\t\t\t\t.find((c) => c.mimeType.toLowerCase() === 'video/vp9');\n\n\t\t\t\tif (!codec)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error('desired VP9 codec+configuration is not supported');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._useSharingSimulcast)\n\t\t\t{\n\t\t\t\t// If VP9 is the only available video codec then use SVC.\n\t\t\t\tconst firstVideoCodec = this._mediasoupDevice\n\t\t\t\t\t.rtpCapabilities\n\t\t\t\t\t.codecs\n\t\t\t\t\t.find((c) => c.kind === 'video');\n\n\t\t\t\tif (\n\t\t\t\t\t(this._forceVP9 && codec) ||\n\t\t\t\t\tfirstVideoCodec.mimeType.toLowerCase() === 'video/vp9'\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tencodings = SCREEN_SHARING_SVC_ENCODINGS;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tencodings = SCREEN_SHARING_SIMULCAST_ENCODINGS\n\t\t\t\t\t\t.map((encoding) => ({ ...encoding, dtx: true }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._shareProducer = await this._sendTransport.produce(\n\t\t\t\t{\n\t\t\t\t\ttrack,\n\t\t\t\t\tencodings,\n\t\t\t\t\tcodecOptions,\n\t\t\t\t\tcodec,\n\t\t\t\t\tappData :\n\t\t\t\t\t{\n\t\t\t\t\t\tshare : true\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tstore.dispatch(stateActions.addProducer(\n\t\t\t\t{\n\t\t\t\t\tid            : this._shareProducer.id,\n\t\t\t\t\ttype          : 'share',\n\t\t\t\t\tpaused        : this._shareProducer.paused,\n\t\t\t\t\ttrack         : this._shareProducer.track,\n\t\t\t\t\trtpParameters : this._shareProducer.rtpParameters,\n\t\t\t\t\tcodec         : this._shareProducer.rtpParameters.codecs[0].mimeType.split('/')[1]\n\t\t\t\t}));\n\n            const { me } = store.getState();\n            try\n            {\n                await this._protoo.request('sharingMyScreen', {shareScreenId: me.id});\n            }\n            catch (error)\n            {\n                logger.error('sharingMyScreen() | failed: %o', error);\n            }\n            store.dispatch(stateActions.changeDisplayMode('screen', me.id));\n\n\t\t\tthis._shareProducer.on('transportclose', () =>\n\t\t\t{\n\t\t\t\tthis._shareProducer = null;\n\t\t\t});\n\n\t\t\tthis._shareProducer.on('trackended', () =>\n\t\t\t{\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : 'Share disconnected!'\n\t\t\t\t\t}));\n\n\t\t\t\tthis.disableShare()\n\t\t\t\t\t.catch(() => {});\n\t\t\t});\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('enableShare() | failed:%o', error);\n\n\t\t\tif (error.name !== 'NotAllowedError')\n\t\t\t{\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : `Error sharing: ${error}`\n\t\t\t\t\t}));\n\t\t\t}\n\n\t\t\tif (track)\n\t\t\t\ttrack.stop();\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setShareInProgress(false));\n\t}\n\n\tasync disableShare()\n\t{\n\t\tlogger.debug('disableShare()');\n\n\t\tif (!this._shareProducer)\n\t\t\treturn;\n\n\t\tthis._shareProducer.close();\n\n\t\tstore.dispatch(\n\t\t\tstateActions.removeProducer(this._shareProducer.id));\n\n\n        try\n        {\n            await this._protoo.request('sharingMyScreen', {shareScreenId: null});\n        }\n        catch (error)\n        {\n            logger.error('sharingMyScreen() | failed: %o', error);\n        }\n        store.dispatch(stateActions.changeDisplayMode('grid', null));\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'closeProducer', { producerId: this._shareProducer.id });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error closing server-side share Producer: ${error}`\n\t\t\t\t}));\n\t\t}\n\n\t\tthis._shareProducer = null;\n\t}\n\n\tasync enableAudioOnly()\n\t{\n\t\tlogger.debug('enableAudioOnly()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioOnlyInProgress(true));\n\n\t\tthis.disableWebcam();\n\n\t\tfor (const consumer of this._consumers.values())\n\t\t{\n\t\t\tif (consumer.kind !== 'video')\n\t\t\t\tcontinue;\n\n\t\t\tthis._pauseConsumer(consumer);\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioOnlyState(true));\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioOnlyInProgress(false));\n\t}\n\n\tasync disableAudioOnly()\n\t{\n\t\tlogger.debug('disableAudioOnly()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioOnlyInProgress(true));\n\n\t\tif (\n\t\t\t!this._webcamProducer &&\n\t\t\tthis._produce &&\n\t\t\t(cookiesManager.getDevices() || {}).webcamEnabled\n\t\t)\n\t\t{\n\t\t\tthis.enableWebcam();\n\t\t}\n\n\t\tfor (const consumer of this._consumers.values())\n\t\t{\n\t\t\tif (consumer.kind !== 'video')\n\t\t\t\tcontinue;\n\n\t\t\tthis._resumeConsumer(consumer);\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioOnlyState(false));\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioOnlyInProgress(false));\n\t}\n\n\tasync muteAudio()\n\t{\n\t\tlogger.debug('muteAudio()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioMutedState(true));\n\t}\n\n\tasync unmuteAudio()\n\t{\n\t\tlogger.debug('unmuteAudio()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setAudioMutedState(false));\n\t}\n\n\tasync restartIce()\n\t{\n\t\tlogger.debug('restartIce()');\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setRestartIceInProgress(true));\n\n\t\ttry\n\t\t{\n\t\t\tif (this._sendTransport)\n\t\t\t{\n\t\t\t\tconst iceParameters = await this._protoo.request(\n\t\t\t\t\t'restartIce',\n\t\t\t\t\t{ transportId: this._sendTransport.id });\n\n\t\t\t\tawait this._sendTransport.restartIce({ iceParameters });\n\t\t\t}\n\n\t\t\tif (this._recvTransport)\n\t\t\t{\n\t\t\t\tconst iceParameters = await this._protoo.request(\n\t\t\t\t\t'restartIce',\n\t\t\t\t\t{ transportId: this._recvTransport.id });\n\n\t\t\t\tawait this._recvTransport.restartIce({ iceParameters });\n\t\t\t}\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttext : 'ICE restarted'\n\t\t\t\t}));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('restartIce() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `ICE restart failed: ${error}`\n\t\t\t\t}));\n\t\t}\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setRestartIceInProgress(false));\n\t}\n\n\tasync setMaxSendingSpatialLayer(spatialLayer)\n\t{\n\t\tlogger.debug('setMaxSendingSpatialLayer() [spatialLayer:%s]', spatialLayer);\n\n\t\ttry\n\t\t{\n\t\t\tif (this._webcamProducer)\n\t\t\t\tawait this._webcamProducer.setMaxSpatialLayer(spatialLayer);\n\t\t\telse if (this._shareProducer)\n\t\t\t\tawait this._shareProducer.setMaxSpatialLayer(spatialLayer);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('setMaxSendingSpatialLayer() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error setting max sending video spatial layer: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync setConsumerPreferredLayers(consumerId, spatialLayer, temporalLayer)\n\t{\n\t\tlogger.debug(\n\t\t\t'setConsumerPreferredLayers() [consumerId:%s, spatialLayer:%s, temporalLayer:%s]',\n\t\t\tconsumerId, spatialLayer, temporalLayer);\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'setConsumerPreferredLayers', { consumerId, spatialLayer, temporalLayer });\n\n\t\t\tstore.dispatch(stateActions.setConsumerPreferredLayers(\n\t\t\t\tconsumerId, spatialLayer, temporalLayer));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('setConsumerPreferredLayers() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error setting Consumer preferred layers: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync setConsumerPriority(consumerId, priority)\n\t{\n\t\tlogger.debug(\n\t\t\t'setConsumerPriority() [consumerId:%s, priority:%d]',\n\t\t\tconsumerId, priority);\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('setConsumerPriority', { consumerId, priority });\n\n\t\t\tstore.dispatch(stateActions.setConsumerPriority(consumerId, priority));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('setConsumerPriority() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error setting Consumer priority: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync requestConsumerKeyFrame(consumerId)\n\t{\n\t\tlogger.debug('requestConsumerKeyFrame() [consumerId:%s]', consumerId);\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('requestConsumerKeyFrame', { consumerId });\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttext : 'Keyframe requested for video consumer'\n\t\t\t\t}));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('requestConsumerKeyFrame() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error requesting key frame for Consumer: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync enableChatDataProducer()\n\t{\n\t\tlogger.debug('enableChatDataProducer()');\n\n\t\tif (!this._useDataChannel)\n\t\t\treturn;\n\n\t\t// NOTE: Should enable this code but it's useful for testing.\n\t\t// if (this._chatDataProducer)\n\t\t// \treturn;\n\n\t\ttry\n\t\t{\n\t\t\t// Create chat DataProducer.\n\t\t\tthis._chatDataProducer = await this._sendTransport.produceData(\n\t\t\t\t{\n\t\t\t\t\tordered        : false,\n\t\t\t\t\tmaxRetransmits : 1,\n\t\t\t\t\tlabel          : 'chat',\n\t\t\t\t\tpriority       : 'medium',\n\t\t\t\t\tappData        : { info: 'my-chat-DataProducer' }\n\t\t\t\t});\n\n\t\t\tstore.dispatch(stateActions.addDataProducer(\n\t\t\t\t{\n\t\t\t\t\tid                   : this._chatDataProducer.id,\n\t\t\t\t\tsctpStreamParameters : this._chatDataProducer.sctpStreamParameters,\n\t\t\t\t\tlabel                : this._chatDataProducer.label,\n\t\t\t\t\tprotocol             : this._chatDataProducer.protocol\n\t\t\t\t}));\n\n\t\t\tthis._chatDataProducer.on('transportclose', () =>\n\t\t\t{\n\t\t\t\tthis._chatDataProducer = null;\n\t\t\t});\n\n\t\t\tthis._chatDataProducer.on('open', () =>\n\t\t\t{\n\t\t\t\tlogger.debug('chat DataProducer \"open\" event');\n\t\t\t});\n\n\t\t\tthis._chatDataProducer.on('close', () =>\n\t\t\t{\n\t\t\t\tlogger.error('chat DataProducer \"close\" event');\n\n\t\t\t\tthis._chatDataProducer = null;\n\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : 'Chat DataProducer closed'\n\t\t\t\t\t}));\n\t\t\t});\n\n\t\t\tthis._chatDataProducer.on('error', (error) =>\n\t\t\t{\n\t\t\t\tlogger.error('chat DataProducer \"error\" event:%o', error);\n\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : `Chat DataProducer error: ${error}`\n\t\t\t\t\t}));\n\t\t\t});\n\n\t\t\tthis._chatDataProducer.on('bufferedamountlow', () =>\n\t\t\t{\n\t\t\t\tlogger.debug('chat DataProducer \"bufferedamountlow\" event');\n\t\t\t});\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('enableChatDataProducer() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error enabling chat DataProducer: ${error}`\n\t\t\t\t}));\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tasync enableBotDataProducer()\n\t{\n\t\tlogger.debug('enableBotDataProducer()');\n\n\t\tif (!this._useDataChannel)\n\t\t\treturn;\n\n\t\t// NOTE: Should enable this code but it's useful for testing.\n\t\t// if (this._botDataProducer)\n\t\t// \treturn;\n\n\t\ttry\n\t\t{\n\t\t\t// Create chat DataProducer.\n\t\t\tthis._botDataProducer = await this._sendTransport.produceData(\n\t\t\t\t{\n\t\t\t\t\tordered           : false,\n\t\t\t\t\tmaxPacketLifeTime : 2000,\n\t\t\t\t\tlabel             : 'bot',\n\t\t\t\t\tpriority          : 'medium',\n\t\t\t\t\tappData           : { info: 'my-bot-DataProducer' }\n\t\t\t\t});\n\n\t\t\tstore.dispatch(stateActions.addDataProducer(\n\t\t\t\t{\n\t\t\t\t\tid                   : this._botDataProducer.id,\n\t\t\t\t\tsctpStreamParameters : this._botDataProducer.sctpStreamParameters,\n\t\t\t\t\tlabel                : this._botDataProducer.label,\n\t\t\t\t\tprotocol             : this._botDataProducer.protocol\n\t\t\t\t}));\n\n\t\t\tthis._botDataProducer.on('transportclose', () =>\n\t\t\t{\n\t\t\t\tthis._botDataProducer = null;\n\t\t\t});\n\n\t\t\tthis._botDataProducer.on('open', () =>\n\t\t\t{\n\t\t\t\tlogger.debug('bot DataProducer \"open\" event');\n\t\t\t});\n\n\t\t\tthis._botDataProducer.on('close', () =>\n\t\t\t{\n\t\t\t\tlogger.error('bot DataProducer \"close\" event');\n\n\t\t\t\tthis._botDataProducer = null;\n\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : 'Bot DataProducer closed'\n\t\t\t\t\t}));\n\t\t\t});\n\n\t\t\tthis._botDataProducer.on('error', (error) =>\n\t\t\t{\n\t\t\t\tlogger.error('bot DataProducer \"error\" event:%o', error);\n\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : `Bot DataProducer error: ${error}`\n\t\t\t\t\t}));\n\t\t\t});\n\n\t\t\tthis._botDataProducer.on('bufferedamountlow', () =>\n\t\t\t{\n\t\t\t\tlogger.debug('bot DataProducer \"bufferedamountlow\" event');\n\t\t\t});\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('enableBotDataProducer() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error enabling bot DataProducer: ${error}`\n\t\t\t\t}));\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tasync sendChatMessage(text)\n\t{\n\t\tlogger.debug('sendChatMessage() [text:\"%s]', text);\n\n\t\tif (!this._chatDataProducer)\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : 'No chat DataProducer'\n\t\t\t\t}));\n\n\t\t\treturn;\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tthis._chatDataProducer.send(text);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('chat DataProducer.send() failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `chat DataProducer.send() failed: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync sendBotMessage(text)\n\t{\n\t\tlogger.debug('sendBotMessage() [text:\"%s]', text);\n\n\t\tif (!this._botDataProducer)\n\t\t{\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : 'No bot DataProducer'\n\t\t\t\t}));\n\n\t\t\treturn;\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tthis._botDataProducer.send(text);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('bot DataProducer.send() failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `bot DataProducer.send() failed: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync changeDisplayName(displayName)\n\t{\n\t\tlogger.debug('changeDisplayName() [displayName:\"%s\"]', displayName);\n\n\t\t// Store in cookie.\n\t\tcookiesManager.setUser({ displayName });\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('changeDisplayName', { displayName });\n\n\t\t\tthis._displayName = displayName;\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setDisplayName(displayName));\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttext : 'Display name changed'\n\t\t\t\t}));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('changeDisplayName() | failed: %o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Could not change display name: ${error}`\n\t\t\t\t}));\n\n\t\t\t// We need to refresh the component for it to render the previous\n\t\t\t// displayName again.\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setDisplayName());\n\t\t}\n\t}\n\n\tasync getSendTransportRemoteStats()\n\t{\n\t\tlogger.debug('getSendTransportRemoteStats()');\n\n\t\tif (!this._sendTransport)\n\t\t\treturn;\n\n\t\treturn this._protoo.request(\n\t\t\t'getTransportStats', { transportId: this._sendTransport.id });\n\t}\n\n\tasync getRecvTransportRemoteStats()\n\t{\n\t\tlogger.debug('getRecvTransportRemoteStats()');\n\n\t\tif (!this._recvTransport)\n\t\t\treturn;\n\n\t\treturn this._protoo.request(\n\t\t\t'getTransportStats', { transportId: this._recvTransport.id });\n\t}\n\n\tasync getAudioRemoteStats()\n\t{\n\t\tlogger.debug('getAudioRemoteStats()');\n\n\t\tif (!this._micProducer)\n\t\t\treturn;\n\n\t\treturn this._protoo.request(\n\t\t\t'getProducerStats', { producerId: this._micProducer.id });\n\t}\n\n\tasync getVideoRemoteStats()\n\t{\n\t\tlogger.debug('getVideoRemoteStats()');\n\n\t\tconst producer = this._webcamProducer || this._shareProducer;\n\n\t\tif (!producer)\n\t\t\treturn;\n\n\t\treturn this._protoo.request(\n\t\t\t'getProducerStats', { producerId: producer.id });\n\t}\n\n\tasync getConsumerRemoteStats(consumerId)\n\t{\n\t\tlogger.debug('getConsumerRemoteStats()');\n\n\t\tconst consumer = this._consumers.get(consumerId);\n\n\t\tif (!consumer)\n\t\t\treturn;\n\n\t\treturn this._protoo.request('getConsumerStats', { consumerId });\n\t}\n\n\tasync getChatDataProducerRemoteStats()\n\t{\n\t\tlogger.debug('getChatDataProducerRemoteStats()');\n\n\t\tconst dataProducer = this._chatDataProducer;\n\n\t\tif (!dataProducer)\n\t\t\treturn;\n\n\t\treturn this._protoo.request(\n\t\t\t'getDataProducerStats', { dataProducerId: dataProducer.id });\n\t}\n\n\tasync getBotDataProducerRemoteStats()\n\t{\n\t\tlogger.debug('getBotDataProducerRemoteStats()');\n\n\t\tconst dataProducer = this._botDataProducer;\n\n\t\tif (!dataProducer)\n\t\t\treturn;\n\n\t\treturn this._protoo.request(\n\t\t\t'getDataProducerStats', { dataProducerId: dataProducer.id });\n\t}\n\n\tasync getDataConsumerRemoteStats(dataConsumerId)\n\t{\n\t\tlogger.debug('getDataConsumerRemoteStats()');\n\n\t\tconst dataConsumer = this._dataConsumers.get(dataConsumerId);\n\n\t\tif (!dataConsumer)\n\t\t\treturn;\n\n\t\treturn this._protoo.request('getDataConsumerStats', { dataConsumerId });\n\t}\n\n\tasync getSendTransportLocalStats()\n\t{\n\t\tlogger.debug('getSendTransportLocalStats()');\n\n\t\tif (!this._sendTransport)\n\t\t\treturn;\n\n\t\treturn this._sendTransport.getStats();\n\t}\n\n\tasync getRecvTransportLocalStats()\n\t{\n\t\tlogger.debug('getRecvTransportLocalStats()');\n\n\t\tif (!this._recvTransport)\n\t\t\treturn;\n\n\t\treturn this._recvTransport.getStats();\n\t}\n\n\tasync getAudioLocalStats()\n\t{\n\t\tlogger.debug('getAudioLocalStats()');\n\n\t\tif (!this._micProducer)\n\t\t\treturn;\n\n\t\treturn this._micProducer.getStats();\n\t}\n\n\tasync getVideoLocalStats()\n\t{\n\t\tlogger.debug('getVideoLocalStats()');\n\n\t\tconst producer = this._webcamProducer || this._shareProducer;\n\n\t\tif (!producer)\n\t\t\treturn;\n\n\t\treturn producer.getStats();\n\t}\n\n\tasync getConsumerLocalStats(consumerId)\n\t{\n\t\tconst consumer = this._consumers.get(consumerId);\n\n\t\tif (!consumer)\n\t\t\treturn;\n\n\t\treturn consumer.getStats();\n\t}\n\n\tasync applyNetworkThrottle({ uplink, downlink, rtt, secret })\n\t{\n\t\tlogger.debug(\n\t\t\t'applyNetworkThrottle() [uplink:%s, downlink:%s, rtt:%s]',\n\t\t\tuplink, downlink, rtt);\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request(\n\t\t\t\t'applyNetworkThrottle',\n\t\t\t\t{ uplink, downlink, rtt, secret });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('applyNetworkThrottle() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error applying network throttle: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync resetNetworkThrottle({ silent = false, secret })\n\t{\n\t\tlogger.debug('resetNetworkThrottle()');\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('resetNetworkThrottle', { secret });\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tif (!silent)\n\t\t\t{\n\t\t\t\tlogger.error('resetNetworkThrottle() | failed:%o', error);\n\n\t\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype : 'error',\n\t\t\t\t\t\ttext : `Error resetting network throttle: ${error}`\n\t\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\tasync _joinRoom()\n\t{\n\t\tlogger.debug('_joinRoom()');\n\n\t\ttry\n\t\t{\n\t\t\tthis._mediasoupDevice = new mediasoupClient.Device(\n\t\t\t\t{\n\t\t\t\t\thandlerName : this._handlerName\n\t\t\t\t});\n\n\t\t\tconst routerRtpCapabilities =\n\t\t\t\tawait this._protoo.request('getRouterRtpCapabilities');\n\n\t\t\tawait this._mediasoupDevice.load({ routerRtpCapabilities });\n\n\t\t\t// NOTE: Stuff to play remote audios due to browsers' new autoplay policy.\n\t\t\t//\n\t\t\t// Just get access to the mic and DO NOT close the mic track for a while.\n\t\t\t// Super hack!\n\t\t\t{\n\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n\t\t\t\tconst audioTrack = stream.getAudioTracks()[0];\n\n\t\t\t\taudioTrack.enabled = false;\n\n\t\t\t\tsetTimeout(() => audioTrack.stop(), 120000);\n\t\t\t}\n\t\t\t// Create mediasoup Transport for sending (unless we don't want to produce).\n\t\t\tif (this._produce)\n\t\t\t{\n\t\t\t\tconst transportInfo = await this._protoo.request(\n\t\t\t\t\t'createWebRtcTransport',\n\t\t\t\t\t{\n\t\t\t\t\t\tforceTcp         : this._forceTcp,\n\t\t\t\t\t\tproducing        : true,\n\t\t\t\t\t\tconsuming        : false,\n\t\t\t\t\t\tsctpCapabilities : this._useDataChannel\n\t\t\t\t\t\t\t? this._mediasoupDevice.sctpCapabilities\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t});\n\n\t\t\t\tconst {\n\t\t\t\t\tid,\n\t\t\t\t\ticeParameters,\n\t\t\t\t\ticeCandidates,\n\t\t\t\t\tdtlsParameters,\n\t\t\t\t\tsctpParameters\n\t\t\t\t} = transportInfo;\n\n\t\t\t\tthis._sendTransport = this._mediasoupDevice.createSendTransport(\n\t\t\t\t\t{\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ticeParameters,\n\t\t\t\t\t\ticeCandidates,\n\t\t\t\t\t\tdtlsParameters,\n\t\t\t\t\t\tsctpParameters,\n\t\t\t\t\t\ticeServers             : [],\n\t\t\t\t\t\tproprietaryConstraints : PC_PROPRIETARY_CONSTRAINTS\n\t\t\t\t\t});\n\n\t\t\t\tthis._sendTransport.on(\n\t\t\t\t\t'connect', ({ dtlsParameters }, callback, errback) => // eslint-disable-line no-shadow\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._protoo.request(\n\t\t\t\t\t\t\t'connectWebRtcTransport',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttransportId : this._sendTransport.id,\n\t\t\t\t\t\t\t\tdtlsParameters\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(callback)\n\t\t\t\t\t\t\t.catch(errback);\n\t\t\t\t\t});\n\n\t\t\t\tthis._sendTransport.on(\n\t\t\t\t\t'produce', async ({ kind, rtpParameters, appData }, callback, errback) =>\n\t\t\t\t\t{\n\t\t\t\t\t\ttry\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// eslint-disable-next-line no-shadow\n\t\t\t\t\t\t\tconst { id } = await this._protoo.request(\n\t\t\t\t\t\t\t\t'produce',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttransportId : this._sendTransport.id,\n\t\t\t\t\t\t\t\t\tkind,\n\t\t\t\t\t\t\t\t\trtpParameters,\n\t\t\t\t\t\t\t\t\tappData\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcallback({ id });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (error)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terrback(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\tthis._sendTransport.on('producedata', async (\n\t\t\t\t\t{\n\t\t\t\t\t\tsctpStreamParameters,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\tprotocol,\n\t\t\t\t\t\tappData\n\t\t\t\t\t},\n\t\t\t\t\tcallback,\n\t\t\t\t\terrback\n\t\t\t\t) =>\n\t\t\t\t{\n\t\t\t\t\tlogger.debug(\n\t\t\t\t\t\t'\"producedata\" event: [sctpStreamParameters:%o, appData:%o]',\n\t\t\t\t\t\tsctpStreamParameters, appData);\n\n\t\t\t\t\ttry\n\t\t\t\t\t{\n\t\t\t\t\t\t// eslint-disable-next-line no-shadow\n\t\t\t\t\t\tconst { id } = await this._protoo.request(\n\t\t\t\t\t\t\t'produceData',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttransportId : this._sendTransport.id,\n\t\t\t\t\t\t\t\tsctpStreamParameters,\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tprotocol,\n\t\t\t\t\t\t\t\tappData\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcallback({ id });\n\t\t\t\t\t}\n\t\t\t\t\tcatch (error)\n\t\t\t\t\t{\n\t\t\t\t\t\terrback(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Create mediasoup Transport for sending (unless we don't want to consume).\n\t\t\tif (this._consume)\n\t\t\t{\n\t\t\t\tconst transportInfo = await this._protoo.request(\n\t\t\t\t\t'createWebRtcTransport',\n\t\t\t\t\t{\n\t\t\t\t\t\tforceTcp         : this._forceTcp,\n\t\t\t\t\t\tproducing        : false,\n\t\t\t\t\t\tconsuming        : true,\n\t\t\t\t\t\tsctpCapabilities : this._useDataChannel\n\t\t\t\t\t\t\t? this._mediasoupDevice.sctpCapabilities\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t});\n\n\t\t\t\tconst {\n\t\t\t\t\tid,\n\t\t\t\t\ticeParameters,\n\t\t\t\t\ticeCandidates,\n\t\t\t\t\tdtlsParameters,\n\t\t\t\t\tsctpParameters\n\t\t\t\t} = transportInfo;\n\n\t\t\t\tthis._recvTransport = this._mediasoupDevice.createRecvTransport(\n\t\t\t\t\t{\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ticeParameters,\n\t\t\t\t\t\ticeCandidates,\n\t\t\t\t\t\tdtlsParameters,\n\t\t\t\t\t\tsctpParameters,\n\t\t\t\t\t\ticeServers : []\n\t\t\t\t\t});\n\n\t\t\t\tthis._recvTransport.on(\n\t\t\t\t\t'connect', ({ dtlsParameters }, callback, errback) => // eslint-disable-line no-shadow\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._protoo.request(\n\t\t\t\t\t\t\t'connectWebRtcTransport',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttransportId : this._recvTransport.id,\n\t\t\t\t\t\t\t\tdtlsParameters\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(callback)\n\t\t\t\t\t\t\t.catch(errback);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Join now into the room.\n\t\t\t// NOTE: Don't send our RTP capabilities if we don't want to consume.\n\t\t\tconst { peers } = await this._protoo.request(\n\t\t\t\t'join',\n\t\t\t\t{\n\t\t\t\t\tdisplayName     : this._displayName,\n\t\t\t\t\tdevice          : this._device,\n\t\t\t\t\trtpCapabilities : this._consume\n\t\t\t\t\t\t? this._mediasoupDevice.rtpCapabilities\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\tsctpCapabilities : this._useDataChannel && this._consume\n\t\t\t\t\t\t? this._mediasoupDevice.sctpCapabilities\n\t\t\t\t\t\t: undefined\n\t\t\t\t});\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setRoomState('connected'));\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.changeMeetingLoaderState(false));\n\n\t\t\t// Clean all the existing notifcations.\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.removeAllNotifications());\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttext    : 'You are in the room!',\n\t\t\t\t\ttimeout : 3000\n\t\t\t\t}));\n\n\t\t\tfor (const peer of peers)\n\t\t\t{\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tstateActions.addPeer(\n\t\t\t\t\t\t{ ...peer, consumers: [], dataConsumers: [] }));\n\t\t\t}\n\n\t\t\t// Enable mic/webcam.\n\t\t\tif (this._produce)\n\t\t\t{\n\t\t\t\t// Set our media capabilities.\n\t\t\t\tstore.dispatch(stateActions.setMediaCapabilities(\n\t\t\t\t\t{\n\t\t\t\t\t\tcanSendMic    : this._mediasoupDevice.canProduce('audio'),\n\t\t\t\t\t\tcanSendWebcam : this._mediasoupDevice.canProduce('video')\n\t\t\t\t\t}));\n\n\t\t\t\tthis.enableMic();\n\n\t\t\t\tconst devicesCookie = cookiesManager.getDevices();\n\n\t\t\t\tif (!devicesCookie || devicesCookie.webcamEnabled || this._externalVideo)\n\t\t\t\t\tthis.enableWebcam();\n\n\t\t\t\tthis._sendTransport.on('connectionstatechange', (connectionState) =>\n\t\t\t\t{\n\t\t\t\t\tif (connectionState === 'connected')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.enableChatDataProducer();\n\t\t\t\t\t\tthis.enableBotDataProducer();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// NOTE: For testing.\n\t\t\tif (window.SHOW_INFO)\n\t\t\t{\n\t\t\t\tconst { me } = store.getState();\n\n\t\t\t\tstore.dispatch(\n\t\t\t\t\tstateActions.setRoomStatsPeerId(me.id));\n\t\t\t}\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('_joinRoom() failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Could not join the room: ${error}`\n\t\t\t\t}));\n\n\t\t\tthis.close();\n\t\t}\n\t}\n\n\tasync _updateWebcams()\n\t{\n\t\tlogger.debug('_updateWebcams()');\n\n\t\t// Reset the list.\n\t\tthis._webcams = new Map();\n\n\t\tlogger.debug('_updateWebcams() | calling enumerateDevices()');\n\n\t\tconst devices = await navigator.mediaDevices.enumerateDevices();\n\n\t\tfor (const device of devices)\n\t\t{\n\t\t\tif (device.kind !== 'videoinput')\n\t\t\t\tcontinue;\n\n\t\t\tthis._webcams.set(device.deviceId, device);\n\t\t}\n\n\t\tconst array = Array.from(this._webcams.values());\n\t\tconst len = array.length;\n\t\tconst currentWebcamId =\n\t\t\tthis._webcam.device ? this._webcam.device.deviceId : undefined;\n\n\t\tlogger.debug('_updateWebcams() [webcams:%o]', array);\n\n\t\tif (len === 0)\n\t\t\tthis._webcam.device = null;\n\t\telse if (!this._webcams.has(currentWebcamId))\n\t\t\tthis._webcam.device = array[0];\n\n\t\tstore.dispatch(\n\t\t\tstateActions.setCanChangeWebcam(this._webcams.size > 1));\n\t}\n\n\t_getWebcamType(device)\n\t{\n\t\tif (/(back|rear)/i.test(device.label))\n\t\t{\n\t\t\tlogger.debug('_getWebcamType() | it seems to be a back camera');\n\n\t\t\treturn 'back';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlogger.debug('_getWebcamType() | it seems to be a front camera');\n\n\t\t\treturn 'front';\n\t\t}\n\t}\n\n\tasync _pauseConsumer(consumer)\n\t{\n\t\tif (consumer.paused)\n\t\t\treturn;\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('pauseConsumer', { consumerId: consumer.id });\n\n\t\t\tconsumer.pause();\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setConsumerPaused(consumer.id, 'local'));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('_pauseConsumer() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error pausing Consumer: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync _resumeConsumer(consumer)\n\t{\n\t\tif (!consumer.paused)\n\t\t\treturn;\n\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('resumeConsumer', { consumerId: consumer.id });\n\n\t\t\tconsumer.resume();\n\n\t\t\tstore.dispatch(\n\t\t\t\tstateActions.setConsumerResumed(consumer.id, 'local'));\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('_resumeConsumer() | failed:%o', error);\n\n\t\t\tstore.dispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype : 'error',\n\t\t\t\t\ttext : `Error resuming Consumer: ${error}`\n\t\t\t\t}));\n\t\t}\n\t}\n\n\tasync _getExternalVideoStream()\n\t{\n\t\tif (this._externalVideoStream)\n\t\t\treturn this._externalVideoStream;\n\n\t\tif (this._externalVideo.readyState < 3)\n\t\t{\n\t\t\tawait new Promise((resolve) => (\n\t\t\t\tthis._externalVideo.addEventListener('canplay', resolve)\n\t\t\t));\n\t\t}\n\n\t\tif (this._externalVideo.captureStream)\n\t\t\tthis._externalVideoStream = this._externalVideo.captureStream();\n\t\telse if (this._externalVideo.mozCaptureStream)\n\t\t\tthis._externalVideoStream = this._externalVideo.mozCaptureStream();\n\t\telse\n\t\t\tthrow new Error('video.captureStream() not supported');\n\n\t\treturn this._externalVideoStream;\n\t}\n\n    async meetingChat(payload)\n    {\n        try\n        {\n            await this._protoo.request('meetingChat', payload);\n        }\n        catch (error)\n        {\n            logger.error('meetingChat() | failed: %o', error);\n\n        }\n    }\n\n    async controlOverAudioVideoByHost(payload)\n    {\n        try\n        {\n            await this._protoo.request('controlOverAudioVideoByHost', payload);\n        }\n        catch (error)\n        {\n            logger.error('meetingChat() | failed: %o', error);\n\n        }\n    }\n\n    async controlOverAudioVideoByHostAll(payload)\n    {\n        try\n        {\n            await this._protoo.request('controlOverAudioVideoByHostAll', payload);\n        }\n        catch (error)\n        {\n            logger.error('meetingChat() | failed: %o', error);\n        }\n    }\n\n    async endCallForAll()\n    {\n    \ttry\n        {\n            await this._protoo.request('endCallForAll', {});\n        }\n        catch (error)\n        {\n            logger.error('meetingChat() | failed: %o', error);\n        }\n    }\n\n\tasync recordingStatus(payload)\n\t{\n\t\ttry\n\t\t{\n\t\t\tawait this._protoo.request('recordingStatus', payload);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('meetingChat() | failed: %o', error);\n\n\t\t}\n\t}\n}\n","export const setRoomUrl = (url) =>\n{\n\treturn {\n\t\ttype    : 'SET_ROOM_URL',\n\t\tpayload : { url }\n\t};\n};\n\nexport const setRoomState = (state) =>\n{\n\treturn {\n\t\ttype    : 'SET_ROOM_STATE',\n\t\tpayload : { state }\n\t};\n};\n\nexport const setRoomActiveSpeaker = (peerId) =>\n{\n\treturn {\n\t\ttype    : 'SET_ROOM_ACTIVE_SPEAKER',\n\t\tpayload : { peerId }\n\t};\n};\n\nexport const setRoomStatsPeerId = (peerId) =>\n{\n\treturn {\n\t\ttype    : 'SET_ROOM_STATS_PEER_ID',\n\t\tpayload : { peerId }\n\t};\n};\n\nexport const setRoomFaceDetection = (flag) =>\n{\n\treturn {\n\t\ttype    : 'SET_FACE_DETECTION',\n\t\tpayload : flag\n\t};\n};\n\nexport const setMe = ({ peerId, displayName, displayNameSet, device }) =>\n{\n\treturn {\n\t\ttype    : 'SET_ME',\n\t\tpayload : { peerId, displayName, displayNameSet, device }\n\t};\n};\n\nexport const setMediaCapabilities = ({ canSendMic, canSendWebcam }) =>\n{\n\treturn {\n\t\ttype    : 'SET_MEDIA_CAPABILITIES',\n\t\tpayload : { canSendMic, canSendWebcam }\n\t};\n};\n\nexport const setCanChangeWebcam = (flag) =>\n{\n\treturn {\n\t\ttype    : 'SET_CAN_CHANGE_WEBCAM',\n\t\tpayload : flag\n\t};\n};\n\nexport const setDisplayName = (displayName) =>\n{\n\treturn {\n\t\ttype    : 'SET_DISPLAY_NAME',\n\t\tpayload : { displayName }\n\t};\n};\n\nexport const setAudioOnlyState = (enabled) =>\n{\n\treturn {\n\t\ttype    : 'SET_AUDIO_ONLY_STATE',\n\t\tpayload : { enabled }\n\t};\n};\n\nexport const setAudioOnlyInProgress = (flag) =>\n{\n\treturn {\n\t\ttype    : 'SET_AUDIO_ONLY_IN_PROGRESS',\n\t\tpayload : { flag }\n\t};\n};\n\nexport const setAudioMutedState = (enabled) =>\n{\n\treturn {\n\t\ttype    : 'SET_AUDIO_MUTED_STATE',\n\t\tpayload : { enabled }\n\t};\n};\n\nexport const setRestartIceInProgress = (flag) =>\n{\n\treturn {\n\t\ttype    : 'SET_RESTART_ICE_IN_PROGRESS',\n\t\tpayload : { flag }\n\t};\n};\n\nexport const addProducer = (producer) =>\n{\n\treturn {\n\t\ttype    : 'ADD_PRODUCER',\n\t\tpayload : { producer }\n\t};\n};\n\nexport const removeProducer = (producerId) =>\n{\n\treturn {\n\t\ttype    : 'REMOVE_PRODUCER',\n\t\tpayload : { producerId }\n\t};\n};\n\nexport const setProducerPaused = (producerId) =>\n{\n\treturn {\n\t\ttype    : 'SET_PRODUCER_PAUSED',\n\t\tpayload : { producerId }\n\t};\n};\n\nexport const setProducerResumed = (producerId) =>\n{\n\treturn {\n\t\ttype    : 'SET_PRODUCER_RESUMED',\n\t\tpayload : { producerId }\n\t};\n};\n\nexport const setProducerTrack = (producerId, track) =>\n{\n\treturn {\n\t\ttype    : 'SET_PRODUCER_TRACK',\n\t\tpayload : { producerId, track }\n\t};\n};\n\nexport const setProducerScore = (producerId, score) =>\n{\n\treturn {\n\t\ttype    : 'SET_PRODUCER_SCORE',\n\t\tpayload : { producerId, score }\n\t};\n};\n\nexport const addDataProducer = (dataProducer) =>\n{\n\treturn {\n\t\ttype    : 'ADD_DATA_PRODUCER',\n\t\tpayload : { dataProducer }\n\t};\n};\n\nexport const removeDataProducer = (dataProducerId) =>\n{\n\treturn {\n\t\ttype    : 'REMOVE_DATA_PRODUCER',\n\t\tpayload : { dataProducerId }\n\t};\n};\n\nexport const setWebcamInProgress = (flag) =>\n{\n\treturn {\n\t\ttype    : 'SET_WEBCAM_IN_PROGRESS',\n\t\tpayload : { flag }\n\t};\n};\n\nexport const setShareInProgress = (flag) =>\n{\n\treturn {\n\t\ttype    : 'SET_SHARE_IN_PROGRESS',\n\t\tpayload : { flag }\n\t};\n};\n\nexport const addPeer = (peer) =>\n{\n\treturn {\n\t\ttype    : 'ADD_PEER',\n\t\tpayload : { peer }\n\t};\n};\n\nexport const removePeer = (peerId) =>\n{\n\treturn {\n\t\ttype    : 'REMOVE_PEER',\n\t\tpayload : { peerId }\n\t};\n};\n\nexport const setPeerDisplayName = (displayName, peerId) =>\n{\n\treturn {\n\t\ttype    : 'SET_PEER_DISPLAY_NAME',\n\t\tpayload : { displayName, peerId }\n\t};\n};\n\nexport const addConsumer = (consumer, peerId) =>\n{\n\treturn {\n\t\ttype    : 'ADD_CONSUMER',\n\t\tpayload : { consumer, peerId }\n\t};\n};\n\nexport const removeConsumer = (consumerId, peerId) =>\n{\n\treturn {\n\t\ttype    : 'REMOVE_CONSUMER',\n\t\tpayload : { consumerId, peerId }\n\t};\n};\n\nexport const setConsumerPaused = (consumerId, originator) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_PAUSED',\n\t\tpayload : { consumerId, originator }\n\t};\n};\n\nexport const setConsumerResumed = (consumerId, originator) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_RESUMED',\n\t\tpayload : { consumerId, originator }\n\t};\n};\n\nexport const setConsumerCurrentLayers = (consumerId, spatialLayer, temporalLayer) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_CURRENT_LAYERS',\n\t\tpayload : { consumerId, spatialLayer, temporalLayer }\n\t};\n};\n\nexport const setConsumerPreferredLayers = (consumerId, spatialLayer, temporalLayer) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_PREFERRED_LAYERS',\n\t\tpayload : { consumerId, spatialLayer, temporalLayer }\n\t};\n};\n\nexport const setConsumerPriority = (consumerId, priority) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_PRIORITY',\n\t\tpayload : { consumerId, priority }\n\t};\n};\n\nexport const setConsumerTrack = (consumerId, track) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_TRACK',\n\t\tpayload : { consumerId, track }\n\t};\n};\n\nexport const setConsumerScore = (consumerId, score) =>\n{\n\treturn {\n\t\ttype    : 'SET_CONSUMER_SCORE',\n\t\tpayload : { consumerId, score }\n\t};\n};\n\nexport const addDataConsumer = (dataConsumer, peerId) =>\n{\n\treturn {\n\t\ttype    : 'ADD_DATA_CONSUMER',\n\t\tpayload : { dataConsumer, peerId }\n\t};\n};\n\nexport const removeDataConsumer = (dataConsumerId, peerId) =>\n{\n\treturn {\n\t\ttype    : 'REMOVE_DATA_CONSUMER',\n\t\tpayload : { dataConsumerId, peerId }\n\t};\n};\n\nexport const addNotification = (notification) =>\n{\n\treturn {\n\t\ttype    : 'ADD_NOTIFICATION',\n\t\tpayload : { notification }\n\t};\n};\n\nexport const removeNotification = (notificationId) =>\n{\n\treturn {\n\t\ttype    : 'REMOVE_NOTIFICATION',\n\t\tpayload : { notificationId }\n\t};\n};\n\nexport const removeAllNotifications = () =>\n{\n\treturn {\n\t\ttype : 'REMOVE_ALL_NOTIFICATIONS'\n\t};\n};\n\nexport const changeDisplayMode = (mode, screenId) => {\n    return {\n        type: 'SET_DISPLAY_MODE',\n        payload: {mode, screenId}\n    };\n};\n\nexport const addNewTextMessage = (message) => {\n    return {\n        type: 'ADD_MESSAGE',\n        payload: { message }\n    };\n};\n\nexport const resetTextMessage = () => {\n    return {\n        type: 'RESET_MESSAGE',\n    };\n};\n\nexport const changeRightSideMode = (mode) => {\n    return {\n        type: 'SET_RIGHT_SIDE_MODE',\n        payload: {mode}\n    };\n};\n\nexport const changeMeetingLoaderState = (visible) => {\n    return {\n        type: 'SET_LOADER',\n        payload: {visible}\n    };\n};\n\nexport const changeRecordingMessage = (message) => {\n    return {\n        type: 'SET_RECORDING_MESSAGE',\n        payload: {message}\n    };\n};\n\nexport const operateRecording = (key, value) => {\n    return {\n        type: 'SET_RECORDING_OPERATION',\n        payload: {key, value}\n    };\n};\n","import randomString from 'random-string';\nimport * as stateActions from './stateActions';\n\n// This returns a redux-thunk action (a function).\nexport const notify = ({ type = 'info', text, title, timeout }) =>\n{\n\tif (!timeout)\n\t{\n\t\tswitch (type)\n\t\t{\n\t\t\tcase 'info':\n\t\t\t\ttimeout = 3000;\n\t\t\t\tbreak;\n\t\t\tcase 'error':\n\t\t\t\ttimeout = 5000;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst notification =\n\t{\n\t\tid : randomString({ length: 6 }).toLowerCase(),\n\t\ttype,\n\t\ttitle,\n\t\ttext,\n\t\ttimeout\n\t};\n\n\treturn (dispatch) =>\n\t{\n\t\tdispatch(stateActions.addNotification(notification));\n\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tdispatch(stateActions.removeNotification(notification.id));\n\t\t}, timeout);\n\t};\n};\n","let protooPort = 4443;\n\nexport function getProtooUrl({ roomId, peerId })\n{\n\t// const hostname = window.location.hostname;\n\tconst hostname = 'meeting.unlockworld.net';\n\treturn `wss://${hostname}/?roomId=${roomId}&peerId=${peerId}`;\n\n\n\t// const hostname = '45.251.59.73'; //Office Server\n\t// const hostname = '192.168.70.215'; //Localhost\n\t// const hostname = '192.168.70.8'; //Localhost\n\t// return `wss://${hostname}:${protooPort}/?roomId=${roomId}&peerId=${peerId}`;\n}\n","const initialState =\n{\n\turl             : null,\n\tstate           : 'new', // new/connecting/connected/disconnected/closed,\n\tactiveSpeakerId : null,\n\tstatsPeerId     : null,\n\tfaceDetection   : false\n};\n\nconst room = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_URL':\n\t\t{\n\t\t\tconst { url } = action.payload;\n\n\t\t\treturn { ...state, url };\n\t\t}\n\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'connected')\n\t\t\t\treturn { ...state, state: roomState };\n\t\t\telse\n\t\t\t\treturn { ...state, state: roomState, activeSpeakerId: null, statsPeerId: null };\n\t\t}\n\n\t\tcase 'SET_ROOM_ACTIVE_SPEAKER':\n\t\t{\n\t\t\tconst { peerId } = action.payload;\n\n\t\t\treturn { ...state, activeSpeakerId: peerId };\n\t\t}\n\n\t\tcase 'SET_ROOM_STATS_PEER_ID':\n\t\t{\n\t\t\tconst { peerId } = action.payload;\n\n\t\t\tif (state.statsPeerId === peerId)\n\t\t\t\treturn { ...state, statsPeerId: null };\n\n\t\t\treturn { ...state, statsPeerId: peerId };\n\t\t}\n\n\t\tcase 'SET_FACE_DETECTION':\n\t\t{\n\t\t\tconst flag = action.payload;\n\n\t\t\treturn { ...state, faceDetection: flag };\n\t\t}\n\n\t\tcase 'REMOVE_PEER':\n\t\t{\n\t\t\tconst { peerId } = action.payload;\n\t\t\tconst newState = { ...state };\n\n\t\t\tif (peerId && peerId === state.activeSpeakerId)\n\t\t\t\tnewState.activeSpeakerId = null;\n\n\t\t\tif (peerId && peerId === state.statsPeerId)\n\t\t\t\tnewState.statsPeerId = null;\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default room;\n","const initialState =\n{\n\tid                   : null,\n\tdisplayName          : null,\n\tdisplayNameSet       : false,\n\tdevice               : null,\n\tcanSendMic           : false,\n\tcanSendWebcam        : false,\n\tcanChangeWebcam      : false,\n\twebcamInProgress     : false,\n\tshareInProgress      : false,\n\taudioOnly            : false,\n\taudioOnlyInProgress  : false,\n\taudioMuted           : false,\n\trestartIceInProgress : false\n};\n\nconst me = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'closed')\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\twebcamInProgress     : false,\n\t\t\t\t\tshareInProgress      : false,\n\t\t\t\t\taudioOnly            : false,\n\t\t\t\t\taudioOnlyInProgress  : false,\n\t\t\t\t\taudioMuted           : false,\n\t\t\t\t\trestartIceInProgress : false\n\t\t\t\t};\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn state;\n\t\t\t}\n\t\t}\n\n\t\tcase 'SET_ME':\n\t\t{\n\t\t\tconst { peerId, displayName, displayNameSet, device } = action.payload;\n\n\t\t\treturn { ...state, id: peerId, displayName, displayNameSet, device };\n\t\t}\n\n\t\tcase 'SET_MEDIA_CAPABILITIES':\n\t\t{\n\t\t\tconst { canSendMic, canSendWebcam } = action.payload;\n\n\t\t\treturn { ...state, canSendMic, canSendWebcam };\n\t\t}\n\n\t\tcase 'SET_CAN_CHANGE_WEBCAM':\n\t\t{\n\t\t\tconst canChangeWebcam = action.payload;\n\n\t\t\treturn { ...state, canChangeWebcam };\n\t\t}\n\n\t\tcase 'SET_WEBCAM_IN_PROGRESS':\n\t\t{\n\t\t\tconst { flag } = action.payload;\n\n\t\t\treturn { ...state, webcamInProgress: flag };\n\t\t}\n\n\t\tcase 'SET_SHARE_IN_PROGRESS':\n\t\t{\n\t\t\tconst { flag } = action.payload;\n\n\t\t\treturn { ...state, shareInProgress: flag };\n\t\t}\n\n\t\tcase 'SET_DISPLAY_NAME':\n\t\t{\n\t\t\tlet { displayName } = action.payload;\n\n\t\t\t// Be ready for undefined displayName (so keep previous one).\n\t\t\tif (!displayName)\n\t\t\t\tdisplayName = state.displayName;\n\n\t\t\treturn { ...state, displayName, displayNameSet: true };\n\t\t}\n\n\t\tcase 'SET_AUDIO_ONLY_STATE':\n\t\t{\n\t\t\tconst { enabled } = action.payload;\n\n\t\t\treturn { ...state, audioOnly: enabled };\n\t\t}\n\n\t\tcase 'SET_AUDIO_ONLY_IN_PROGRESS':\n\t\t{\n\t\t\tconst { flag } = action.payload;\n\n\t\t\treturn { ...state, audioOnlyInProgress: flag };\n\t\t}\n\n\t\tcase 'SET_AUDIO_MUTED_STATE':\n\t\t{\n\t\t\tconst { enabled } = action.payload;\n\n\t\t\treturn { ...state, audioMuted: enabled };\n\t\t}\n\n\t\tcase 'SET_RESTART_ICE_IN_PROGRESS':\n\t\t{\n\t\t\tconst { flag } = action.payload;\n\n\t\t\treturn { ...state, restartIceInProgress: flag };\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default me;\n","const initialState = {};\n\nconst producers = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'closed')\n\t\t\t\treturn {};\n\t\t\telse\n\t\t\t\treturn state;\n\t\t}\n\n\t\tcase 'ADD_PRODUCER':\n\t\t{\n\t\t\tconst { producer } = action.payload;\n\n\t\t\treturn { ...state, [producer.id]: producer };\n\t\t}\n\n\t\tcase 'REMOVE_PRODUCER':\n\t\t{\n\t\t\tconst { producerId } = action.payload;\n\t\t\tconst newState = { ...state };\n\n\t\t\tdelete newState[producerId];\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase 'SET_PRODUCER_PAUSED':\n\t\t{\n\t\t\tconst { producerId } = action.payload;\n\t\t\tconst producer = state[producerId];\n\t\t\tconst newProducer = { ...producer, paused: true };\n\n\t\t\treturn { ...state, [producerId]: newProducer };\n\t\t}\n\n\t\tcase 'SET_PRODUCER_RESUMED':\n\t\t{\n\t\t\tconst { producerId } = action.payload;\n\t\t\tconst producer = state[producerId];\n\t\t\tconst newProducer = { ...producer, paused: false };\n\n\t\t\treturn { ...state, [producerId]: newProducer };\n\t\t}\n\n\t\tcase 'SET_PRODUCER_TRACK':\n\t\t{\n\t\t\tconst { producerId, track } = action.payload;\n\t\t\tconst producer = state[producerId];\n\t\t\tconst newProducer = { ...producer, track };\n\n\t\t\treturn { ...state, [producerId]: newProducer };\n\t\t}\n\n\t\tcase 'SET_PRODUCER_SCORE':\n\t\t{\n\t\t\tconst { producerId, score } = action.payload;\n\t\t\tconst producer = state[producerId];\n\n\t\t\tif (!producer)\n\t\t\t\treturn state;\n\n\t\t\tconst newProducer = { ...producer, score };\n\n\t\t\treturn { ...state, [producerId]: newProducer };\n\t\t}\n\n\t\tdefault:\n\t\t{\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nexport default producers;\n","const initialState = {};\n\nconst dataProducers = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'closed')\n\t\t\t\treturn {};\n\t\t\telse\n\t\t\t\treturn state;\n\t\t}\n\n\t\tcase 'ADD_DATA_PRODUCER':\n\t\t{\n\t\t\tconst { dataProducer } = action.payload;\n\n\t\t\treturn { ...state, [dataProducer.id]: dataProducer };\n\t\t}\n\n\t\tcase 'REMOVE_DATA_PRODUCER':\n\t\t{\n\t\t\tconst { dataProducerId } = action.payload;\n\t\t\tconst newState = { ...state };\n\n\t\t\tdelete newState[dataProducerId];\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tdefault:\n\t\t{\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nexport default dataProducers;\n","const initialState = {};\n\nconst peers = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'closed')\n\t\t\t\treturn {};\n\t\t\telse\n\t\t\t\treturn state;\n\t\t}\n\n\t\tcase 'ADD_PEER':\n\t\t{\n\t\t\tconst { peer } = action.payload;\n\n\t\t\treturn { ...state, [peer.id]: peer };\n\t\t}\n\n\t\tcase 'REMOVE_PEER':\n\t\t{\n\t\t\tconst { peerId } = action.payload;\n\t\t\tconst newState = { ...state };\n\n\t\t\tdelete newState[peerId];\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase 'SET_PEER_DISPLAY_NAME':\n\t\t{\n\t\t\tconst { displayName, peerId } = action.payload;\n\t\t\tconst peer = state[peerId];\n\n\t\t\tif (!peer)\n\t\t\t\tthrow new Error('no Peer found');\n\n\t\t\tconst newPeer = { ...peer, displayName };\n\n\t\t\treturn { ...state, [newPeer.id]: newPeer };\n\t\t}\n\n\t\tcase 'ADD_CONSUMER':\n\t\t{\n\t\t\tconst { consumer, peerId } = action.payload;\n\t\t\tconst peer = state[peerId];\n\n\t\t\tif (!peer)\n\t\t\t\tthrow new Error('no Peer found for new Consumer');\n\n\t\t\tconst newConsumers = [ ...peer.consumers, consumer.id ];\n\t\t\tconst newPeer = { ...peer, consumers: newConsumers };\n\n\t\t\treturn { ...state, [newPeer.id]: newPeer };\n\t\t}\n\n\t\tcase 'REMOVE_CONSUMER':\n\t\t{\n\t\t\tconst { consumerId, peerId } = action.payload;\n\t\t\tconst peer = state[peerId];\n\n\t\t\t// NOTE: This means that the Peer was closed before, so it's ok.\n\t\t\tif (!peer)\n\t\t\t\treturn state;\n\n\t\t\tconst idx = peer.consumers.indexOf(consumerId);\n\n\t\t\tif (idx === -1)\n\t\t\t\tthrow new Error('Consumer not found');\n\n\t\t\tconst newConsumers = peer.consumers.slice();\n\n\t\t\tnewConsumers.splice(idx, 1);\n\n\t\t\tconst newPeer = { ...peer, consumers: newConsumers };\n\n\t\t\treturn { ...state, [newPeer.id]: newPeer };\n\t\t}\n\n\t\tcase 'ADD_DATA_CONSUMER':\n\t\t{\n\t\t\tconst { dataConsumer, peerId } = action.payload;\n\n\t\t\t// special case for bot DataConsumer.\n\t\t\tif (!peerId)\n\t\t\t\treturn state;\n\n\t\t\tconst peer = state[peerId];\n\n\t\t\tif (!peer)\n\t\t\t\tthrow new Error('no Peer found for new DataConsumer');\n\n\t\t\tconst newDataConsumers = [ ...peer.dataConsumers, dataConsumer.id ];\n\t\t\tconst newPeer = { ...peer, dataConsumers: newDataConsumers };\n\n\t\t\treturn { ...state, [newPeer.id]: newPeer };\n\t\t}\n\n\t\tcase 'REMOVE_DATA_CONSUMER':\n\t\t{\n\t\t\tconst { dataConsumerId, peerId } = action.payload;\n\n\t\t\t// special case for bot DataConsumer.\n\t\t\tif (!peerId)\n\t\t\t\treturn state;\n\n\t\t\tconst peer = state[peerId];\n\n\t\t\t// NOTE: This means that the Peer was closed before, so it's ok.\n\t\t\tif (!peer)\n\t\t\t\treturn state;\n\n\t\t\tconst idx = peer.dataConsumers.indexOf(dataConsumerId);\n\n\t\t\tif (idx === -1)\n\t\t\t\tthrow new Error('DataConsumer not found');\n\n\t\t\tconst newDataConsumers = peer.dataConsumers.slice();\n\n\t\t\tnewDataConsumers.splice(idx, 1);\n\n\t\t\tconst newPeer = { ...peer, dataConsumers: newDataConsumers };\n\n\t\t\treturn { ...state, [newPeer.id]: newPeer };\n\t\t}\n\n\t\tdefault:\n\t\t{\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nexport default peers;\n","const initialState = {};\n\nconst consumers = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'closed')\n\t\t\t\treturn {};\n\t\t\telse\n\t\t\t\treturn state;\n\t\t}\n\n\t\tcase 'ADD_CONSUMER':\n\t\t{\n\t\t\tconst { consumer } = action.payload;\n\n\t\t\treturn { ...state, [consumer.id]: consumer };\n\t\t}\n\n\t\tcase 'REMOVE_CONSUMER':\n\t\t{\n\t\t\tconst { consumerId } = action.payload;\n\t\t\tconst newState = { ...state };\n\n\t\t\tdelete newState[consumerId];\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tcase 'SET_CONSUMER_PAUSED':\n\t\t{\n\t\t\tconst { consumerId, originator } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\t\t\tlet newConsumer;\n\n\t\t\tif (originator === 'local')\n\t\t\t\tnewConsumer = { ...consumer, locallyPaused: true };\n\t\t\telse\n\t\t\t\tnewConsumer = { ...consumer, remotelyPaused: true };\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tcase 'SET_CONSUMER_RESUMED':\n\t\t{\n\t\t\tconst { consumerId, originator } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\t\t\tlet newConsumer;\n\n\t\t\tif (originator === 'local')\n\t\t\t\tnewConsumer = { ...consumer, locallyPaused: false };\n\t\t\telse\n\t\t\t\tnewConsumer = { ...consumer, remotelyPaused: false };\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tcase 'SET_CONSUMER_CURRENT_LAYERS':\n\t\t{\n\t\t\tconst { consumerId, spatialLayer, temporalLayer } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\t\t\tconst newConsumer =\n\t\t\t{\n\t\t\t\t...consumer,\n\t\t\t\tcurrentSpatialLayer  : spatialLayer,\n\t\t\t\tcurrentTemporalLayer : temporalLayer\n\t\t\t};\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tcase 'SET_CONSUMER_PREFERRED_LAYERS':\n\t\t{\n\t\t\tconst { consumerId, spatialLayer, temporalLayer } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\t\t\tconst newConsumer =\n\t\t\t{\n\t\t\t\t...consumer,\n\t\t\t\tpreferredSpatialLayer  : spatialLayer,\n\t\t\t\tpreferredTemporalLayer : temporalLayer\n\t\t\t};\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tcase 'SET_CONSUMER_PRIORITY':\n\t\t{\n\t\t\tconst { consumerId, priority } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\t\t\tconst newConsumer = { ...consumer, priority };\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tcase 'SET_CONSUMER_TRACK':\n\t\t{\n\t\t\tconst { consumerId, track } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\t\t\tconst newConsumer = { ...consumer, track };\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tcase 'SET_CONSUMER_SCORE':\n\t\t{\n\t\t\tconst { consumerId, score } = action.payload;\n\t\t\tconst consumer = state[consumerId];\n\n\t\t\tif (!consumer)\n\t\t\t\treturn state;\n\n\t\t\tconst newConsumer = { ...consumer, score };\n\n\t\t\treturn { ...state, [consumerId]: newConsumer };\n\t\t}\n\n\t\tdefault:\n\t\t{\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nexport default consumers;\n","const initialState = {};\n\nconst dataConsumers = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_ROOM_STATE':\n\t\t{\n\t\t\tconst roomState = action.payload.state;\n\n\t\t\tif (roomState === 'closed')\n\t\t\t\treturn {};\n\t\t\telse\n\t\t\t\treturn state;\n\t\t}\n\n\t\tcase 'ADD_DATA_CONSUMER':\n\t\t{\n\t\t\tconst { dataConsumer } = action.payload;\n\n\t\t\treturn { ...state, [dataConsumer.id]: dataConsumer };\n\t\t}\n\n\t\tcase 'REMOVE_DATA_CONSUMER':\n\t\t{\n\t\t\tconst { dataConsumerId } = action.payload;\n\t\t\tconst newState = { ...state };\n\n\t\t\tdelete newState[dataConsumerId];\n\n\t\t\treturn newState;\n\t\t}\n\n\t\tdefault:\n\t\t{\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nexport default dataConsumers;\n","const initialState = [];\n\nconst notifications = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'ADD_NOTIFICATION':\n\t\t{\n\t\t\tconst { notification } = action.payload;\n\n\t\t\treturn [ ...state, notification ];\n\t\t}\n\n\t\tcase 'REMOVE_NOTIFICATION':\n\t\t{\n\t\t\tconst { notificationId } = action.payload;\n\n\t\t\treturn state.filter((notification) => notification.id !== notificationId);\n\t\t}\n\n\t\tcase 'REMOVE_ALL_NOTIFICATIONS':\n\t\t{\n\t\t\treturn [];\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default notifications;\n","const initialState = {\n    mode: 'grid',\n    screenId: null\n};\n\nconst displayMode = (state = initialState, action) =>\n{\n    switch (action.type)\n    {\n        case 'SET_DISPLAY_MODE':\n        {\n            const {mode, screenId} = action.payload;\n            return {...state, mode, screenId};\n        }\n\n        default:\n            return state;\n    }\n};\n\nexport default displayMode;","const initialState = [];\n\nconst textMessaging = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'ADD_MESSAGE':\n\t\t{\n\t\t\tconst { message } = action.payload;\n\n\t\t\treturn [ ...state, message ];\n\t\t}\n\n\t\tcase 'RESET_MESSAGE':\n\t\t{\n\t\t\treturn [];\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default textMessaging;\n","const initialState = {\n    mode: 'list'\n};\n\nconst rightSideMode = (state = initialState, action) =>\n{\n    switch (action.type)\n    {\n        case 'SET_RIGHT_SIDE_MODE':\n        {\n            const {mode} = action.payload;\n            return {...state, mode};\n        }\n\n        default:\n            return state;\n    }\n};\n\nexport default rightSideMode;","const initialState = {\n    visible: true\n};\n\nconst meetingLoader = (state = initialState, action) =>\n{\n    switch (action.type)\n    {\n        case 'SET_LOADER':\n        {\n            const {visible} = action.payload;\n            return {...state, visible};\n        }\n\n        default:\n            return state;\n    }\n};\n\nexport default meetingLoader;","const initialState = {\n    message: \"\"\n};\n\nconst recordingMessage = (state = initialState, action) =>\n{\n    switch (action.type)\n    {\n        case 'SET_RECORDING_MESSAGE':\n        {\n            const {message} = action.payload;\n            return {...state, message};\n        }\n\n        default:\n            return state;\n    }\n};\n\nexport default recordingMessage;","const initialState =\n\t{\n\t\tstart: 'inline',\n\t\tplay: 'none',\n\t\tpause: 'none',\n\t\tstop: 'none'\n\t};\n\nconst recordingBarUtil = (state = initialState, action) =>\n{\n\tswitch (action.type)\n\t{\n\t\tcase 'SET_RECORDING_OPERATION':\n\t\t{\n\t\t\tconst { key, value } = action.payload;\n\t\t\treturn {...state, [key]: value};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default recordingBarUtil;\n","import { combineReducers } from 'redux';\nimport room from './room';\nimport me from './me';\nimport producers from './producers';\nimport dataProducers from './dataProducers';\nimport peers from './peers';\nimport consumers from './consumers';\nimport dataConsumers from './dataConsumers';\nimport notifications from './notifications';\nimport displayMode from './displayMode';\nimport textMessaging from \"./textMessaging\";\nimport rightSideMode from \"./rightSideMode\";\nimport meetingLoader from \"./meetingLoader\";\nimport recordingMessage from \"./recordingMessage\";\nimport recordingBarUtil from \"./recordingBarUtil\";\n\nconst reducers = combineReducers(\n\t{\n\t\troom,\n\t\tme,\n\t\tproducers,\n\t\tdataProducers,\n\t\tpeers,\n\t\tconsumers,\n\t\tdataConsumers,\n\t\tnotifications,\n        displayMode,\n        textMessaging,\n        rightSideMode,\n\t\tmeetingLoader,\n\t\trecordingMessage,\n\t\trecordingBarUtil\n\t});\n\nexport default reducers;\n","export default __webpack_public_path__ + \"static/media/logo.a97fb749.png\";","import firebase from \"firebase\";\n\n//Production\nconst firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyAn0yBDVbWi13B1qYgqPMlBa4r1dd-G930\",\n    authDomain: \"gentle-presence-298508.firebaseapp.com\",\n    projectId: \"gentle-presence-298508\",\n    storageBucket: \"gentle-presence-298508.appspot.com\",\n    messagingSenderId: \"281044823578\",\n    appId: \"1:281044823578:web:d06f283abe038338a1aba3\",\n    measurementId: \"G-9H0KLJLG8H\"\n});\n\n//Development\n/*const firebaseApp = firebase.initializeApp({\n    apiKey: \"AIzaSyCUJz24IWD2HW29uRpB3xeOktpYY2U_F8w\",\n    authDomain: \"rich-tome-235607.firebaseapp.com\",\n    databaseURL: \"https://rich-tome-235607.firebaseio.com\",\n    projectId: \"rich-tome-235607\",\n    storageBucket: \"rich-tome-235607.appspot.com\",\n    messagingSenderId: \"469850491209\",\n    appId: \"1:469850491209:web:eb24e0263c71b5f9c37298\",\n    measurementId: \"G-EQC5Z3BDKT\"\n});*/\n\nconst db = firebaseApp.firestore();\n\nexport {db};\n\n","import React from 'react';\nimport logo from './conference/logo.png';\nimport { useHistory } from \"react-router-dom\";\nimport randomString from \"random-string\";\nimport {If} from \"react-if\";\nimport {Helmet} from \"react-helmet\";\nimport {db} from \"./firebase\";\n\nconst Home = () => {\n    const history = useHistory();\n\n    const [user, setUser] = React.useState({});\n    const [roomId, setRoomId] = React.useState(null);\n    const [baseUrl, setBaseUrl] = React.useState(null);\n    const [inputType, setInputType] = React.useState(\"password\");\n\n    React.useEffect(() => {\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        setUser(user);\n\n        const uid = user.id;\n        setRoomId(uid);\n        setBaseUrl('https://meeting.unlockworld.net' + '/room/' + uid);\n\n    }, []);\n\n    const joinMeeting = () => {\n        history.push(\"/join\");\n    };\n\n    const homePage = () => {\n        history.push(\"/\");\n    };\n\n    const schedule = () => {\n        history.push(\"/schedule\");\n    };\n\n    const hostMeeting = () => {\n        const meetingId = randomString({length: 8}).toLowerCase();\n\n        db.collection(\"meeting\").add({\n            meetingId,\n            userId: user.id,\n            created: new Date(),\n            user\n        }).then(doc => {\n            history.push('/room/' + meetingId);\n        }).catch(error => console.error(\"Error adding document: \", error));\n\n    };\n\n    const instantMeeting = () => {\n        history.push('/room/' + roomId);\n    };\n\n    const logout = () => {\n        localStorage.removeItem('user');\n        history.push(\"/signin\");\n    };\n\n    const formToggle = fid => {\n        document.getElementById(fid).style.display = document.getElementById(fid).style.display === 'none' ? 'block' : 'none';\n    };\n\n    return <div className=\"container-full bg-white\">\n        <Helmet>\n            <title>Home</title>\n        </Helmet>\n        {/*====================================================================================================\n      Section 1 Grod view\n      ========================================================================================================*/}\n        <header\n            className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n            style={{backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))', height: 25}}>\n            <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters\"/>\n        </header>\n        <nav className=\" navbar navbar-expand-lg navbar-light bg-white overright-nabbar  border-bottom\">\n            <a className=\"navbar-brand\" href=\"\" onClick={event => event.preventDefault()}>\n                <img src={logo} style={{height: 44}}/>\n            </a>\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\"\n                    aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"/>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n                <ul className=\"nav navbar-nav ml-auto mt-2 mt-lg-0\">\n                    <li className=\"nav-item c-text \">\n                        <a className=\"nav-link c-text \" onClick={joinMeeting}>Join a Meeting</a>\n                    </li>\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link c-text \" onClick={hostMeeting}>Host a Meeting</a>\n                    </li>\n                    <li className=\"nav-item\">\n                        <button className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\"\n                                style={{width: '100%', padding: '1px 32px'}} onClick={logout}>Logout\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n        <a className=\"d-sm-block d-md-none \" style={{\n            position: 'absolute',\n            zIndex: 999999,\n            WebkitFontSmoothing: 'subpixel-antialiased',\n            backgroundColor: '#f7023e',\n            borderRadius: '49px 0 0 49px',\n            padding: '1px   9px',\n            color: '#fff',\n            top: '18%',\n            right: 0\n        }}><i className=\"fa fa-cogs\" aria-hidden=\"true\"/></a>\n        <div className=\"row\">\n            <nav id=\"sidebar\" className=\"col-md-2 d-none d-md-block bg-common sidebar mobile-absolute\">\n                <div className=\"sidebar-sticky\">\n                    <ul className=\"nav flex-column\">\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link active\" href=\"#\" onClick={event => {\n                                event.preventDefault();\n                                homePage();\n                            }}> Profile</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\" onClick={event => {\n                                event.preventDefault();\n                                schedule();\n                            }}>Meetings</a>\n                        </li>\n                        {/*<li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\">Webinars</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\">Recordings</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\">Settings</a>\n                        </li>\n                        <li className=\"nav-item\">\n                        </li>*/}\n                    </ul>\n                </div>\n            </nav>\n            <main role=\"main\" className=\"col-md-8 col-lg-9 px-4 pt-5\">\n                <div className=\"form-horizontal\">\n                    <div className=\"row\">\n                        <div className=\"col-sm-5 col-md-3 control-label my-profile text-center\">\n                            <figure className=\"figure\">\n                                <img src={user.photo} className=\"profile\" alt=\"Figure.\"/>\n                            </figure>\n                            <p>\n                                {/*<a data-toggle=\"modal\" data-target=\"#exampleModal\" className=\"c-text\">Change</a>*/}\n                                &nbsp;&nbsp;&nbsp;\n                                {/*<a href=\"#\"  className=\"c-text\">Delete</a>*/}\n                            </p>\n                        </div>\n                        <div className=\"col-sm-7 col-md-7 control-label my-profile\">\n                            <h4>{user.name}</h4>\n                            <ul>\n                                {/*<li>iteam</li>\n                                <li>iteam</li>\n                                <li>iteam</li>*/}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"profile-info\">\n                    <div className=\"col-12 border-top p-2\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-3 lable\">\n                                Personal Meeting ID:\n                            </div>\n                            <div className=\"col-sm-9 position-relative\">\n                                <ul>\n                                    <li>{roomId}</li>\n                                    <li>{baseUrl}</li>\n                                    <li>Use this ID for instant meetings</li>\n                                    <li/>\n                                </ul>\n                                <form id=\"profile-sec1\" className=\"profilrfrom\" action=\"#\" encType=\"multipart/form-data\"\n                                      style={{display: 'none'}}>\n                                    <div id=\"profile-detail-el\">\n                                        <div className=\"row\">\n                                            <div className=\"form-group col-6\">\n                                                <div className=\"col-sm-12\">\n                                                    <p className=\"form-control-static detail-label\">Full Name</p>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: 0}}>\n                                                    <input type=\"text\" className=\"form-control\"\n                                                           placeholder=\"Full Name\"/>\n                                                    <div className=\"valid-feedback\">Looks good!</div>\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group col-6\">\n                                                <div className=\"col-sm-12\">\n                                                    <p className=\"form-control-static detail-label\">Display Name</p>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: 0}}>\n                                                    <input type=\"text\" className=\"form-control\"\n                                                           placeholder=\"Display Name\"/>\n                                                    <div className=\"invalid-feedback\"> Please provide a valid city.\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"form-group col-6\">\n                                                <div className=\"col-sm-12\">\n                                                    <p className=\"form-control-static detail-label\">Job Title</p>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: 0}}>\n                                                    <input type=\"text\" className=\"form-control\"\n                                                           placeholder=\"Job Title\"/>\n                                                </div>\n                                            </div>\n                                            <div className=\"form-group col-6\">\n                                                <div className=\"col-sm-12\">\n                                                    <p className=\"form-control-static detail-label\">Company</p>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: 0}}>\n                                                    <input type=\"text\" className=\"form-control\" placeholder=\"Company\"/>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"form-group col-6\">\n                                                <div className=\"col-sm-12\">\n                                                    <p className=\"form-control-static detail-label\">Location</p>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: 0}}>\n                                                    <input type=\"text\" className=\"form-control\" placeholder=\"Location\"/>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-12\">\n                                        <button type=\"button\" onClick={() => formToggle('profile-sec1')}\n                                                className=\"btn shado-baground-textS btn-sm\">Savs change\n                                        </button>\n                                        <button type=\"button\" onClick={() => formToggle('profile-sec1')}\n                                                className=\"btn shado-baground-textC btn-sm\">Cancel\n                                        </button>\n                                    </div>\n                                </form>\n                                <a className=\"edit position-absolute c-text\" style={{display: 'none'}}\n                                   onClick={() => formToggle('profile-sec1')}>Edit</a>\n                            </div>\n                        </div>\n                    </div>\n                    {/*info col-12*/}\n                    <div className=\"col-12 border-top p-2\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-3 lable\">\n                                Sign-In Email:\n                            </div>\n                            <div className=\"col-sm-9 position-relative\">\n                                <ul>\n                                    <li>{user.email}</li>\n                                </ul>\n                                <div className=\"col-sm-12\">\n                                    License Type:\n                                    <If condition={user.type === 'Google'}>\n                                        <a type=\"button\"><i className=\"fa fa-google\"/></a>\n                                    </If>\n                                    <If condition={user.type === 'Facebook'}>\n                                        <a type=\"button\"><i className=\"fa fa-facebook\"/></a>\n                                    </If>\n                                    <If condition={user.type === 'Normal'}>\n                                        Normal\n                                    </If>\n                                </div>\n                                <form className=\"profilrfrom\" id=\"profile-sec2\" action=\"#\" encType=\"text/plain\"\n                                      style={{display: 'none'}}>\n                                    <div className=\"form-group\" style={{maxWidth: 330}}>\n                                        <div className=\"col-sm-12\">\n                                            <label htmlFor=\"newEmail\">Please enter a new email address</label>\n                                            <input id=\"newEmail\" name=\"newEmail\" className=\"form-control\" maxLength={64}\n                                                   placeholder=\"Please enter a new email address\"/>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-12\">\n                                        <button type=\"button\" onClick={() => formToggle('profile-sec2')}\n                                                className=\"btn shado-baground-textS btn-sm\">Save change\n                                        </button>\n                                        <button type=\"button\"\n                                                onClick={() => formToggle('profile-sec2')}\n                                                className=\"btn shado-baground-textC btn-sm\">Cancel\n                                        </button>\n                                    </div>\n                                </form>\n                                <a className=\"edit position-absolute c-text\" style={{display: 'none'}}\n                                   onClick={() => formToggle('profile-sec2')}\n                                >Edit</a>\n                            </div>\n                        </div>\n                    </div>\n                    {/*info col-12*/}\n                    <div className=\"col-12 border-top p-2\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-3\">\n                                License Type\n                            </div>\n                            <div className=\"col-sm-9 position-relative\">\n                                <div className=\"form-control-static\">\n                                    Basic <a data-toggle=\"collapse\" href=\"#multiCollapseExample1\" role=\"button\"\n                                             aria-expanded=\"false\" aria-controls=\"multiCollapseExample1\"><i\n                                    className=\"fa fa-info-circle\" aria-hidden=\"true\"/></a> <a\n                                    href=\"#billing\">Upgrade</a>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col\">\n                                        <div className=\"collapse multi-collapse\" id=\"multiCollapseExample1\">\n                                            Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry\n                                            richardson ad squid. Nihil anim keffiyeh helvetica, craft beer labore wes\n                                            anderson cred nesciunt sapiente ea proident.<br/>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-sm-3\"><b>Meeting</b></div>\n                                    <div className=\"col-sm-9\">\n                  <span>\n                    100 participants</span>\n                                        <a className=\"help learn-more-button\"\n                                           data-learn-more=\"more11\"><span> Learn More</span><i\n                                            className=\"glyphicon glyphicon-question-sign\"/></a>&nbsp;\n                                    </div>\n                                </div>\n                                {/*<a className=\"edit position-absolute\">Edit</a>*/}\n                            </div>\n                        </div>\n                    </div>\n                    {/*info col-12*/}\n                    <div className=\"col-12 border-top p-2\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-3 lable\">\n                                Language:\n                            </div>\n                            <div className=\"col-sm-9 position-relative\">\n                                <ul>\n                                    <li>English</li>\n                                </ul>\n                                <form id=\"profile-sec3\" className=\"profilrfrom\" action=\"#\" encType=\"text/plain\"\n                                      style={{display: 'none'}}>\n                                    <div className=\"col-sm-12\">\n                                        <div className=\"form-group\" style={{maxWidth: 330}}>\n                                            <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Select\n                                                Language</label>\n                                            <select className=\"form-control\" id=\"exampleFormControlSelect1\">\n                                                <option>1</option>\n                                                <option>2</option>\n                                                <option>3</option>\n                                                <option>4</option>\n                                                <option>5</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-12\">\n                                        <button type=\"button\" onClick={() => formToggle('profile-sec3')}\n                                                className=\"btn shado-baground-textS btn-sm\">Savs change\n                                        </button>\n                                        <button type=\"button\"\n                                                onClick={() => formToggle('profile-sec3')}\n                                                className=\"btn shado-baground-textC btn-sm\">Cancel\n                                        </button>\n                                    </div>\n                                </form>\n                                {/*<a  className=\"edit position-absolute c-text\"\n                                    onClick={() => formToggle('profile-sec3')}\n                                  >Edit</a>*/}\n                            </div>\n                        </div>\n                    </div>\n                    {/*info col-12*/}\n                    <div className=\"col-12 border-top p-2\">\n                        <div className=\"row\">\n                            <div className=\"col-sm-3 lable\">\n                                Date and Time\n                            </div>\n                            <div className=\"col-sm-9 position-relative\">\n                                <div className=\"row\">\n                                    <div className=\"form-group\">\n                                        <div className=\"col-sm-2\"><b>Time Zone</b></div>\n                                        <div className=\"col-sm-10\"><span className=\"timezone-label\">(GMT+6:00) Astana, Dhaka</span>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <div className=\"col-sm-2\"><b>Date Format</b></div>\n                                        <div className=\"col-sm-3\"><span className=\"dateFormat-label\">dd/mm/yyyy</span>\n                                        </div>\n                                        <div className=\"col-sm-7\"><span\n                                            style={{color: 'rgb(116, 116, 135)'}}>Example:</span> <span\n                                            className=\"dateExample-label\"\n                                            style={{paddingLeft: 2, color: 'rgb(116, 116, 135)'}}>15/02/2011</span>\n                                        </div>\n                                        <div className=\"col-sm-2\"><b>Time Format</b></div>\n                                        <div className=\"col-sm-10\"><span><label id=\"timeFormatLabel\"><i\n                                            className=\"status-icon\" style={{marginLeft: 0}}/><span\n                                            style={{color: 'rgb(116, 116, 135)'}}>Use 24-hour time</span></label></span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <form className=\"profilrfrom\" id=\"profile-sec4\" vaction=\"#\" encType=\"text/plain\"\n                                      style={{display: 'none'}}>\n                                    <div className=\"col-12\">\n                                        <div className=\"form-group\" style={{maxWidth: 330}}>\n                                            <label htmlFor=\"exampleFormControlSelect1\">Time Zone</label>\n                                            <select className=\"form-control\" id=\"exampleFormControlSelect1\">\n                                                <option>1</option>\n                                                <option>2</option>\n                                                <option>3</option>\n                                                <option>4</option>\n                                                <option>5</option>\n                                            </select>\n                                        </div>\n                                        <div className=\"form-group\" style={{maxWidth: 330}}>\n                                            <label htmlFor=\"exampleFormControlSelect1\">Date Format</label>\n                                            <select className=\"form-control\" id=\"exampleFormControlSelect1\">\n                                                <option>1</option>\n                                                <option>2</option>\n                                                <option>3</option>\n                                                <option>4</option>\n                                                <option>5</option>\n                                            </select>\n                                        </div>\n                                        <div className=\"form-check\">\n                                            <input className=\"form-check-input\" type=\"checkbox\" defaultValue\n                                                   id=\"defaultCheck1\"/>\n                                            <label className=\"form-check-label\" htmlFor=\"defaultCheck1\">\n                                                Use 24-hour time\n                                            </label>\n                                        </div>\n                                    </div>\n                                    <div className=\"col-12\">\n                                        <button type=\"button\" className=\"btn shado-baground-textS btn-sm\">Savs change\n                                        </button>\n                                        <button type=\"button\" onClick={() => formToggle('profile-sec4')}\n                                                className=\"btn shado-baground-textC btn-sm\">Cancel\n                                        </button>\n                                    </div>\n                                </form>\n                                {/*<a  className=\"edit position-absolute c-text\"\n                                    onClick={() => formToggle('profile-sec4')}>Edit</a>*/}\n                            </div>\n                        </div>\n                        {/*info col-12*/}\n                        <div className=\"col-12 border-top p-2\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-3 lable\">\n                                    Sign-In Password:\n                                </div>\n                                <div className=\"col-sm-9 position-relative\">***************\n                                    <form id=\"profile-pass\" className=\"profilrfrom\" action=\"#\" encType=\"text/plain\"\n                                          style={{display: 'none'}}>\n                                        <div className=\"col-12\">\n                                            <div className=\"form-group\" style={{maxWidth: 330}}>\n                                                <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email\n                                                    address</label>\n                                                <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\"\n                                                       aria-describedby=\"emailHelp\"/>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-12\">\n                                            <button type=\"button\" className=\"btn shado-baground-textS btn-sm\">Savs\n                                                change\n                                            </button>\n                                            <button type=\"button\" onClick={() => formToggle('profile-pass')}\n                                                    className=\"btn shado-baground-textC btn-sm\">Cancel\n                                            </button>\n                                        </div>\n                                    </form>\n\n                                    {/*<a className=\"edit position-absolute c-text\"\n                                       onClick={() => formToggle('profile-pass')}>Edit</a>*/}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-12 border-top p-2\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-3 lable\">\n                                    Host Key:\n                                </div>\n                                <div className=\"col-sm-9 position-relative\">\n                                    <div className=\"input-group col-sm-5\">\n                                        <input type={inputType} className=\"form-control pwd\" defaultValue={user.id}\n                                               style={{border: 0, margin: 0, padding: 0, height: 25}}/>\n                                        <span className=\"input-group-btn\">\n                                        <a className=\"reveal c-text\" type=\"button\"\n                                           onClick={() => setInputType(inputType === 'password' ? 'text' : 'password')}\n                                        >Show</a>\n                                        </span>\n                                    </div>\n                                    <form className=\"profilrfrom\" id=\"profile-sec5\" action=\"#\" encType=\"text/plain\"\n                                          style={{display: 'none'}}>\n                                        <div className=\"col-12\">\n                                            <div className=\"form-group\" style={{maxWidth: 330}}>\n                                                <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email\n                                                    address</label>\n                                                <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\"\n                                                       aria-describedby=\"emailHelp\"/>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-12\">\n                                            <button type=\"button\" className=\"btn shado-baground-textS btn-sm\">Savs\n                                                change\n                                            </button>\n                                            <button type=\"button\" onClick={() => formToggle('profile-sec5')}\n                                                    className=\"btn shado-baground-textC btn-sm\">Cancel\n                                            </button>\n                                        </div>\n                                    </form>\n                                    {/*<a className=\"edit position-absolute c-text\"\n                                       onClick={() => formToggle('profile-sec5')}>Edit</a>*/}\n                                </div>\n                            </div>\n                        </div>\n                        {/*<div className=\"col-12 border-top p-2\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-3 lable\">\n                                    Two-factor Authentication:\n                                </div>\n                                <div className=\"col-sm-9 position-relative\">\n                                    <form action=\"#\" encType=\"text/plain\">\n                                        <label className=\"switch\">\n                                            <input type=\"checkbox\" defaultChecked/>\n                                            <span className=\"slider round\"/>\n                                        </label>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>*/}\n                        {/*<div className=\"col-12 border-top p-2\">\n                            <div className=\"row\">\n                                <div className=\"col-sm-3 lable\">\n                                    Signed-In Device:\n                                </div>\n                                <div className=\"col-sm-9 position-relative\">\n                                    Sign Me Out From All Devices Learn More <a data-toggle=\"collapse\"\n                                                                               href=\"#logoutfromall\" role=\"button\"\n                                                                               aria-expanded=\"false\"\n                                                                               aria-controls=\"multiCollapseExample1\"><i\n                                    className=\"fa fa-info-circle\" aria-hidden=\"true\"/></a>\n                                    <div className=\"row\">\n                                        <div className=\"col\">\n                                            <div className=\"collapse multi-collapse\" id=\"logoutfromall\">\n                                                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus\n                                                terry richardson ad squid. Nihil anim keffiyeh helvetica, craft beer\n                                                labore wes anderson cred nesciunt sapiente ea proident.<br/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <a className=\"edit position-absolute c-text\">Edit</a>\n                                </div>\n                            </div>\n                        </div>*/}\n                        {/*info col-12*/}\n                    </div>\n                </div>\n            </main>\n        </div>\n    </div>;\n\n};\n\n\nexport default Home;","import React from 'react';\n\nconst RoomContext = React.createContext();\n\nexport default RoomContext;\n\nexport function withRoomContext(Component)\n{\n\treturn (props) => ( // eslint-disable-line react/display-name\n\t\t<RoomContext.Consumer>\n\t\t\t{(roomClient) => <Component {...props} roomClient={roomClient} />}\n\t\t</RoomContext.Consumer>\n\t);\n}\n","import React from \"react\";\nimport {useParams} from \"react-router-dom\";\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport AudiotrackIcon from '@material-ui/icons/Audiotrack';\nimport VideocamIcon from '@material-ui/icons/Videocam';\nimport {withRoomContext} from \"../RoomContext\";\nimport {connect} from \"react-redux\";\nimport * as stateActions from \"../redux/stateActions\";\nimport * as requestActions from \"../redux/requestActions\";\n\nlet recorder;\n\nconst BottomRecordingBar = (props) => {\n\n    const {\n        roomClient,\n        startVisible,\n        playVisible,\n        pauseVisible,\n        stopVisible,\n        operateRecording,\n        comingSoon\n    } = props;\n\n    let { rid } = useParams();\n\n    const [playAnchorEl, setPlayAnchorEl] = React.useState(null);\n\n    const start = async (onlyAudioRecording = true) => {\n        setPlayAnchorEl(null);\n        await recording(onlyAudioRecording);\n        operateRecording('start', 'none');\n        operateRecording('play', 'none');\n        operateRecording('pause', 'inline');\n        operateRecording('stop', 'inline');\n    };\n\n    const play = async () => {\n        await recorder.resume();\n        operateRecording('play','none');\n        operateRecording('pause','inline');\n    };\n\n    const pause = async () => {\n        await recorder.pause();\n        operateRecording('pause', 'none');\n        operateRecording('play', 'inline');\n    };\n\n    const stop = async () => {\n        await recorder.stop();\n        operateRecording('start', 'inline');\n        operateRecording('play', 'none');\n        operateRecording('pause', 'none');\n        operateRecording('stop', 'none');\n    };\n\n    const download = (completeBlob, onlyAudioRecording) => {\n        const url = URL.createObjectURL(completeBlob);\n        const a = document.createElement('a');\n        const extension = onlyAudioRecording ? '.mp3' : '.mp4';\n        a.style.display = 'none';\n        a.href = url;\n        a.download = rid + extension;\n\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(() => {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 100);\n    };\n\n    const recording = async onlyAudioRecording => {\n\n        let screen, audio, stream;\n\n        if (onlyAudioRecording) {\n            audio = await navigator.mediaDevices.getUserMedia({audio: true});\n        } else {\n            screen = await navigator.mediaDevices.getDisplayMedia({video: true});\n            audio = await navigator.mediaDevices.getUserMedia({audio: true});\n            stream = new MediaStream([audio.getTracks()[0], screen.getTracks()[0]]);\n        }\n\n        if (onlyAudioRecording)\n            recorder = new MediaRecorder(audio);\n        else\n            recorder = new MediaRecorder(stream);\n\n        const chunks = [];\n\n        recorder.ondataavailable = e => chunks.push(e.data);\n\n        recorder.onstop = e => {\n            const completeBlob = new Blob(chunks, {type: chunks[0].type});\n\n            if (onlyAudioRecording)\n                audio.getTracks()[0].stop();\n            else\n                stream.getVideoTracks()[0].stop();\n\n            roomClient.recordingStatus({message: \"\"});\n            download(completeBlob, onlyAudioRecording);\n        };\n\n        recorder.onstart = e => roomClient.recordingStatus({message: \"Recording...\"});\n        recorder.onpause = () => roomClient.recordingStatus({message: \"Recording paused\"});\n        recorder.onresume = () => roomClient.recordingStatus({message: \"Recording...\"});\n        recorder.start();\n    };\n\n    const playHandleClick = event => {\n        // setPlayAnchorEl(event.currentTarget);\n        comingSoon();\n    };\n\n    const handleClose = () => setPlayAnchorEl(null);\n\n    return <>\n        <button type=\"button\"\n                style={{display: startVisible}}\n                onClick={playHandleClick}\n                className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title=\"Recording\"\n                data-original-title=\"Record\">\n            <i className=\"fa fa-dot-circle-o\" aria-hidden=\"true\"/>\n        </button>\n\n        <button type=\"button\"\n                style={{display: playVisible}}\n                onClick={() => play()}\n                className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title=\"Play\"\n                data-original-title=\"Record\">\n            <i className=\"fa fa-play\" aria-hidden=\"true\"/>\n        </button>\n\n        <button type=\"button\"\n                style={{display: pauseVisible}}\n                onClick={() => pause()}\n                className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title=\"Pause\"\n                data-original-title=\"Record\">\n            <i className=\"fa fa-pause\" aria-hidden=\"true\"/>\n        </button>\n\n        <button type=\"button\"\n                style={{display: stopVisible}}\n                onClick={() => stop()}\n                className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                title=\"Stop\"\n                data-original-title=\"Record\">\n            <i className=\"fa fa-stop\" aria-hidden=\"true\"/>\n        </button>\n\n        <Menu\n            id=\"simple-menu\"\n            anchorEl={playAnchorEl}\n            keepMounted\n            open={Boolean(playAnchorEl)}\n            onClose={handleClose}\n        >\n            <MenuItem onClick={() => start()} key={0}>\n                <ListItemIcon>\n                    <AudiotrackIcon fontSize=\"small\"/>Audio\n                </ListItemIcon>\n            </MenuItem>\n            <MenuItem onClick={() => start(false)} key={1}>\n                <ListItemIcon>\n                    <VideocamIcon fontSize=\"small\"/>Screen\n                </ListItemIcon>\n            </MenuItem>\n        </Menu>\n    </>;\n};\n\nconst mapStateToProps = (state) =>\n{\n    const recordingBarUtil = state.recordingBarUtil;\n\n    return {\n        startVisible: recordingBarUtil.start,\n        playVisible: recordingBarUtil.play,\n        pauseVisible: recordingBarUtil.pause,\n        stopVisible: recordingBarUtil.stop\n    };\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n    return {\n        operateRecording: (key, value) => {\n            dispatch(stateActions.operateRecording(key, value));\n        },\n        comingSoon: () => {\n            dispatch(requestActions.notify(\n                {\n                    type: 'error',\n                    text: 'Coming soon...'\n                }));\n        },\n    };\n};\n\n\nconst BottomRecordingBarContainer = withRoomContext(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BottomRecordingBar));\n\nexport default BottomRecordingBarContainer;\n","import PropTypes from 'prop-types';\n\nexport const Room = PropTypes.shape(\n\t{\n\t\turl   : PropTypes.string.isRequired,\n\t\tstate : PropTypes.oneOf(\n\t\t\t[ 'new', 'connecting', 'connected', 'closed' ]).isRequired,\n\t\tactiveSpeakerName : PropTypes.string\n\t});\n\nexport const Device = PropTypes.shape(\n\t{\n\t\tflag    : PropTypes.string.isRequired,\n\t\tname    : PropTypes.string,\n\t\tversion : PropTypes.string\n\t});\n\nexport const Me = PropTypes.shape(\n\t{\n\t\tid                   : PropTypes.string.isRequired,\n\t\tdisplayName          : PropTypes.string,\n\t\tdisplayNameSet       : PropTypes.bool.isRequired,\n\t\tdevice               : Device.isRequired,\n\t\tcanSendMic           : PropTypes.bool.isRequired,\n\t\tcanSendWebcam        : PropTypes.bool.isRequired,\n\t\tcanChangeWebcam      : PropTypes.bool.isRequired,\n\t\twebcamInProgress     : PropTypes.bool.isRequired,\n\t\taudioOnly            : PropTypes.bool.isRequired,\n\t\taudioOnlyInProgress  : PropTypes.bool.isRequired,\n\t\trestartIceInProgress : PropTypes.bool.isRequired\n\t});\n\nexport const Producer = PropTypes.shape(\n\t{\n\t\tid            : PropTypes.string.isRequired,\n\t\tdeviceLabel   : PropTypes.string,\n\t\ttype          : PropTypes.oneOf([ 'front', 'back', 'share' ]),\n\t\tpaused        : PropTypes.bool.isRequired,\n\t\ttrack         : PropTypes.any.isRequired,\n\t\trtpParameters : PropTypes.object.isRequired,\n\t\tcodec         : PropTypes.string.isRequired\n\t});\n\nexport const DataProducer = PropTypes.shape(\n\t{\n\t\tid                   : PropTypes.string.isRequired,\n\t\tsctpStreamParameters : PropTypes.object.isRequired\n\t});\n\nexport const Peer = PropTypes.shape(\n\t{\n\t\tid          : PropTypes.string.isRequired,\n\t\tdisplayName : PropTypes.string,\n\t\tdevice      : Device.isRequired,\n\t\tconsumers   : PropTypes.arrayOf(PropTypes.string).isRequired\n\t});\n\nexport const Consumer = PropTypes.shape(\n\t{\n\t\tid                    : PropTypes.string.isRequired,\n\t\tlocallyPaused         : PropTypes.bool.isRequired,\n\t\tremotelyPaused        : PropTypes.bool.isRequired,\n\t\tcurrentSpatialLayer   : PropTypes.number,\n\t\tpreferredSpatialLayer : PropTypes.number,\n\t\ttrack                 : PropTypes.any,\n\t\tcodec                 : PropTypes.string\n\t});\n\nexport const DataConsumer = PropTypes.shape(\n\t{\n\t\tid                   : PropTypes.string.isRequired,\n\t\tsctpStreamParameters : PropTypes.object.isRequired\n\t});\n\nexport const Notification = PropTypes.shape(\n\t{\n\t\tid      : PropTypes.string.isRequired,\n\t\ttype    : PropTypes.oneOf([ 'info', 'error' ]).isRequired,\n\t\ttimeout : PropTypes.number\n\t});\n","import React, {useState} from \"react\";\n\nconst MirrorButton = () => {\n\n    const [flag, setFlag] = useState(true);\n\n    const transform = () => {\n        document.querySelector(\"a.thumbnail > video\").style.transform = flag ? 'scale(-1,1)' : 'scale(1,1)';\n        setFlag(!flag);\n    };\n\n\n    return <button type=\"button\"\n                   onClick={() => transform()}\n                   className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                   data-toggle=\"tooltip\"\n                   data-placement=\"top\"\n                   title=\"Mirror\"\n                   data-original-title=\"Record\">\n        {flag ? <i className=\"material-icons\">cached</i> : <i className=\"material-icons\">autorenew</i>}\n    </button>;\n};\n\nexport default MirrorButton;\n\n","import React, {Component} from \"react\";\nimport {withRoomContext} from \"../RoomContext\";\nimport {connect} from 'react-redux';\nimport PropTypes from \"prop-types\";\nimport * as appPropTypes from \"./appPropTypes\";\nimport * as stateActions from '../redux/stateActions';\nimport * as cookiesManager from '../cookiesManager';\nimport * as requestActions from '../redux/requestActions';\nimport clipboardCopy from 'clipboard-copy';\nimport {If} from \"react-if\";\nimport {withRouter} from \"react-router-dom\";\nimport {db} from \"../../firebase\";\nimport BlockUi from 'react-block-ui';\nimport {Loader} from 'react-loaders';\nimport 'react-block-ui/style.css';\nimport 'loaders.css/loaders.min.css';\nimport BottomRecordingBar from \"./BottomRecordingBar\";\nimport MirrorButton from \"./MirrorButton\";\nimport BottomPermissionBar from \"./BottomPermissionBar\";\n\nclass BottomMenu extends Component {\n\n    endCall = () => {\n        const meetingId = this.props.match.params.rid;\n        const userId = JSON.parse(localStorage.getItem(\"user\")).id;\n        this.props.showMeetingLoader();\n\n        db.collection(\"meeting\")\n            .where('userId', '==', userId)\n            .where('meetingId', '==', meetingId)\n            .get().then(querySnapshot => {\n\n            if (querySnapshot.size !== 0) {\n                this.props.roomClient.endCallForAll().then(() => {\n                    this.props.roomClient.close();\n                    this.props.history.push('/');\n                    // window.location.replace(window.location.origin);\n                });\n                querySnapshot.forEach((doc) => {\n                    db.collection(\"meeting\").doc(doc.id).delete().then(() => {\n                        console.log(\"Document successfully deleted!\");\n                        // window.location.replace(window.location.origin);\n                    }).catch(error => {\n                        console.error(\"Error removing document: \", error);\n                    });\n                });\n            } else {\n                this.props.roomClient.close();\n                this.props.history.push('/');\n                // window.location.replace(window.location.origin);\n            }\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n    };\n\n  render() {\n\n      const {\n          roomClient,\n          connected,\n          me,\n          audioProducer,\n          videoProducer,\n          faceDetection,\n          onSetStatsPeerId,\n          onRoomLinkCopy,\n          comingSoon,\n          room,\n          changeDisplayMode,\n          displayMode,\n          changeRightSideMode,\n          rightSideMode,\n          meetingLoader\n      } = this.props;\n\n      const copyRoomUrl = 'Unlock World\\nMake Your Life Easier with Unlock!\\n' +\n          'https://meeting.unlockworld.net/room/' + this.props.match.params.rid +\n          '\\nRoom ID: ' + this.props.match.params.rid;\n\n    let micState;\n\n    if (!me.canSendMic)\n      micState = 'unsupported';\n    else if (!audioProducer)\n      micState = 'unsupported';\n    else if (!audioProducer.paused)\n      micState = 'on';\n    else\n      micState = 'off';\n\n    let webcamState;\n\n    if (!me.canSendWebcam)\n      webcamState = 'unsupported';\n    else if (videoProducer && videoProducer.type !== 'share')\n      webcamState = 'on';\n    else\n      webcamState = 'off';\n\n    let changeWebcamState;\n\n    if (Boolean(videoProducer) && videoProducer.type !== 'share' && me.canChangeWebcam)\n      changeWebcamState = 'on';\n    else\n      changeWebcamState = 'unsupported';\n\n    let shareState;\n\n    if (Boolean(videoProducer) && videoProducer.type === 'share')\n      shareState = 'on';\n    else\n      shareState = 'off';\n\n    const videoVisible = Boolean(videoProducer) && !videoProducer.paused;\n\n    const loaderStyle = {position: \"fixed\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\"};\n\n      return (\n\n          <div className=\"col-md-12 col-sm-12\">\n              <BlockUi\n                  renderChildren={false}\n                  tag=\"div\"\n                  blocking={meetingLoader.visible}\n                  loader={<Loader style={loaderStyle} active type={\"semi-circle-spin\"} color=\"#FF5549\"/>}\n              >\n                  <div className=\"row\">\n                      <nav className=\"navbar navbar-expand-lg navbar-dark scrolling-navbar overright-nabbar nopadding\">\n\n\n                          <div className=\"col-12 show-mobail\">\n                              <div className=\"row\">\n                                  <div className=\"col-2 text-left\">\n                                      <button\n                                          className=\"navbar-toggler\"\n                                          type=\"button\"\n                                          data-toggle=\"collapse\"\n                                          data-target=\"\"\n                                          aria-controls=\"\"\n                                          aria-expanded=\"false\"\n                                          aria-label=\"Toggle navigation\"\n                                      >\n                                          <i className=\"material-icons c-text\">menu</i>\n                                      </button>\n                                  </div>\n                                  <div className=\"col-8 text-center\">\n                                      <a className=\"btn-floating\" onClick={() => {\n                                          micState === 'on'\n                                              ? roomClient.muteMic()\n                                              : roomClient.unmuteMic();\n                                      }}>\n                                          {(micState === 'on') ? <i className=\"material-icons\">mic_none</i> :\n                                              <i className=\"material-icons\">mic_off</i>}\n                                      </a>\n\n                                      <a className=\"btn-floating p-1\"\n                                         onClick={() => {\n                                             if (webcamState === 'on') {\n                                                 cookiesManager.setDevices({webcamEnabled: false});\n                                                 roomClient.disableWebcam();\n                                             } else {\n                                                 cookiesManager.setDevices({webcamEnabled: true});\n                                                 roomClient.enableWebcam();\n                                             }\n                                         }}>\n                                          {(webcamState === 'on') ? <i className=\"material-icons\">videocam</i> :\n                                              <i className=\"material-icons\">videocam_off</i>}\n                                      </a>\n\n                                      <a className=\"btn-floating  p-1\"\n                                         onClick={(event) => {\n                                             // If this is a 'Open in new window/tab' don't prevent\n                                             // click default action.\n                                             if (\n                                                 event.ctrlKey || event.shiftKey || event.metaKey ||\n                                                 // Middle click (IE > 9 and everyone else).\n                                                 (event.button && event.button === 1)\n                                             ) {\n                                                 return;\n                                             }\n\n                                             event.preventDefault();\n\n                                             clipboardCopy(copyRoomUrl)\n                                                 .then(onRoomLinkCopy);\n                                         }}>\n                                          <i className=\"material-icons \">person_add_alt_1</i>\n                                      </a>\n\n                                      <If condition={displayMode.mode === 'grid'}>\n                                          <a className=\"btn-floating p-1\"\n                                             onClick={() => {\n                                                 changeDisplayMode('speaker');\n                                             }}>\n                                              <span className=\"material-icons\">insert_comment</span>\n                                          </a>\n                                      </If>\n\n                                      <If condition={displayMode.mode === 'speaker'}>\n                                          <a className=\"btn-floating p-1\"\n                                             onClick={() => {\n                                                 changeDisplayMode('grid');\n                                             }}>\n                                              <span className=\"material-icons\">grid_on</span>\n                                          </a>\n                                      </If>\n\n                                      <If condition={displayMode.mode === 'screen'}>\n                                          <a className=\"btn-floating p-1\"\n                                             onClick={() => {\n                                                 changeDisplayMode('grid');\n                                             }}>\n                                              <span className=\"material-icons\">grid_on</span>\n                                          </a>\n                                      </If>\n\n                                      <If condition={displayMode.mode === 'speaker'}>\n                                          <a className=\"btn-floating p-1\"\n                                             onClick={() => {\n                                                 changeRightSideMode(rightSideMode.mode === 'chat' ? 'list' : 'chat');\n                                             }}>\n                                              <If condition={rightSideMode.mode === 'chat'}>\n                                                  <i className=\"material-icons\">people_alt</i>\n                                              </If>\n                                              <If condition={rightSideMode.mode === 'list'}>\n                                                  <span className=\"material-icons\">chat</span>\n                                              </If>\n                                          </a>\n                                      </If>\n                                  </div>\n                                  <div className=\"col-2 text-right\">\n                                      <div className=\"row\">\n                                          <a\n                                              onClick={() => this.endCall()}\n                                              className=\"btn-floating btn btn-danger btn-sm shado-baground-textC\"\n                                              style={{\n                                                  padding: \"5px\",\n                                                  marginTop: \"0px\"\n                                              }}\n                                          >\n                                              End Call\n                                          </a>\n                                      </div>\n\n                                  </div>\n                              </div>\n\n\n                          </div>\n\n                          <div\n                              className=\"collapse navbar-collapse\"\n                              id=\"navbarSupportedContent-9\"\n                          >\n                              <div className=\"row grad-ation w-100\">\n                                  <div className=\"col-md-3 nopadding text-center group-btn-bottom\">\n\n                                      <button\n                                          type=\"button\"\n                                          className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                          title=\"Audio\"\n                                          data-toggle=\"tooltip\"\n                                          data-placement=\"top\"\n                                          onClick={() => {\n                                              micState === 'on'\n                                                  ? roomClient.muteMic()\n                                                  : roomClient.unmuteMic();\n                                          }}\n                                      >\n                                          {(micState === 'on') ? <span className=\"material-icons\">mic_none</span> :\n                                              <span className=\"material-icons\">mic_off</span>}\n                                      </button>\n\n                                      <button\n                                          type=\"button\"\n                                          className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                          data-toggle=\"tooltip\"\n                                          data-placement=\"top\"\n                                          title=\"Video\"\n                                          disabled={me.webcamInProgress || me.shareInProgress}\n                                          onClick={() => {\n                                              if (webcamState === 'on') {\n                                                  cookiesManager.setDevices({webcamEnabled: false});\n                                                  roomClient.disableWebcam();\n                                              } else {\n                                                  cookiesManager.setDevices({webcamEnabled: true});\n                                                  roomClient.enableWebcam();\n                                              }\n                                          }}\n                                      >\n                                          {(webcamState === 'on') ? <span className=\"material-icons\">videocam</span> :\n                                              <span className=\"material-icons\">videocam_off</span>}\n                                      </button>\n\n                                  </div>\n                                  <div className=\"col-md-7 nopadding text-center group-btn-bottom\">\n\n                                      {/*<BottomPermissionBar/>*/}\n\n                                      <button\n                                          type=\"button\"\n                                          className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                          data-tooltip=\"tooltip\"\n                                          data-placement=\"top\"\n                                          title=\"Invite\"\n                                          onClick={(event) => {\n                                              // If this is a 'Open in new window/tab' don't prevent\n                                              // click default action.\n                                              if (\n                                                  event.ctrlKey || event.shiftKey || event.metaKey ||\n                                                  // Middle click (IE > 9 and everyone else).\n                                                  (event.button && event.button === 1)\n                                              ) {\n                                                  return;\n                                              }\n\n                                              event.preventDefault();\n\n                                              /*clipboardCopy(room.url)\n                                                  .then(onRoomLinkCopy);*/\n                                              clipboardCopy(copyRoomUrl)\n                                                  .then(onRoomLinkCopy);\n                                          }}\n                                      >\n                                          <i className=\"material-icons\">person_add_alt_1</i>\n                                      </button>\n\n                                      <button\n                                          type=\"button\"\n                                          className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm active\"\n                                          data-toggle=\"tooltip\"\n                                          data-placement=\"top\"\n                                          title=\"Share Screen\"\n                                          disabled={me.shareInProgress || me.webcamInProgress}\n                                          onClick={() => {\n                                              /*if (shareState === 'on')\n                                                  roomClient.disableShare();\n                                              else\n                                                  roomClient.enableShare();*/\n                                              comingSoon();\n                                          }}\n                                      >\n                                          <i className=\"material-icons\">screen_share</i>\n                                      </button>\n\n                                      <If condition={displayMode.mode === 'grid'}>\n                                          <button\n                                              type=\"button\"\n                                              className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                              data-toggle=\"tooltip\"\n                                              data-placement=\"top\"\n                                              title=\"Chat\"\n                                              onClick={() => {\n                                                  changeDisplayMode('speaker');\n                                              }}\n                                          >\n                                              <i className=\"fa fa-commenting-o\" aria-hidden=\"true\"/>\n                                          </button>\n                                      </If>\n\n\n                                      <If condition={displayMode.mode === 'speaker'}>\n                                          <button\n                                              type=\"button\"\n                                              className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                              data-toggle=\"tooltip\"\n                                              data-placement=\"top\"\n                                              title=\"Grid\"\n                                              onClick={() => {\n                                                  changeDisplayMode('grid');\n                                              }}\n                                          >\n                                              <i className=\"fa fa-th-large\" aria-hidden=\"true\"/>\n                                          </button>\n                                      </If>\n\n                                      <If condition={displayMode.mode === 'screen'}>\n                                          <button\n                                              type=\"button\"\n                                              className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                              data-toggle=\"tooltip\"\n                                              data-placement=\"top\"\n                                              title=\"Chat\"\n                                              onClick={() => {\n                                                  changeDisplayMode('speaker');\n                                              }}\n                                          >\n                                              <i className=\"fa fa-commenting-o\" aria-hidden=\"true\"/>\n                                          </button>\n                                      </If>\n\n                                      <If condition={displayMode.mode === 'speaker'}>\n                                          <button\n                                              type=\"button\"\n                                              className=\"btn btn-danger bmd-btn-fab bmd-btn-fab-sm\"\n                                              data-toggle=\"tooltip\"\n                                              data-placement=\"top\"\n                                              title=\"Chat\"\n                                              onClick={() => {\n                                                  changeRightSideMode(rightSideMode.mode === 'chat' ? 'list' : 'chat');\n                                              }}\n                                          >\n\n\n                                              <If condition={rightSideMode.mode === 'chat'}>\n                                                  <i className=\"material-icons\">people_alt</i>\n                                              </If>\n                                              <If condition={rightSideMode.mode === 'list'}>\n                                                  <i className=\"fa fa-commenting-o\" aria-hidden=\"true\"/>\n                                              </If>\n                                          </button>\n                                      </If>\n\n                                      <BottomRecordingBar/>\n\n                                      <If condition={displayMode.mode === 'grid'}>\n                                      <MirrorButton/>\n                                      </If>\n\n                                  </div>\n                                  <div className=\"col-md-2 nopadding text-center\">\n                                      <button\n                                          onClick={() => this.endCall()}\n                                          className=\"btn-floating btn btn-danger btn-sm shado-baground-textC btn-rounded end-call-round\">\n                                          <span className=\"mdc-button__label\">End Call</span>\n                                      </button>\n                                  </div>\n\n                              </div>\n                          </div>\n\n                      </nav>\n\n                  </div>\n              </BlockUi>\n          </div>\n      );\n  }\n}\n\nBottomMenu.propTypes =\n    {\n      roomClient       : PropTypes.any.isRequired,\n      connected        : PropTypes.bool.isRequired,\n      me               : appPropTypes.Me.isRequired,\n      audioProducer    : appPropTypes.Producer,\n      videoProducer    : appPropTypes.Producer,\n      faceDetection    : PropTypes.bool.isRequired,\n      onSetStatsPeerId : PropTypes.func.isRequired\n    };\n\nconst mapStateToProps = (state) => {\n    const producersArray = Object.values(state.producers);\n    const audioProducer =\n        producersArray.find((producer) => producer.track.kind === 'audio');\n    const videoProducer =\n        producersArray.find((producer) => producer.track.kind === 'video');\n\n    return {\n        connected: state.room.state === 'connected',\n        me: state.me,\n        room: state.room,\n        audioProducer: audioProducer,\n        videoProducer: videoProducer,\n        faceDetection: state.room.faceDetection,\n        onRoomLinkCopy: PropTypes.func.isRequired,\n        comingSoon: PropTypes.func.isRequired,\n        changeDisplayMode: PropTypes.func.isRequired,\n        displayMode            : state.displayMode,\n        rightSideMode            : state.rightSideMode,\n        meetingLoader            : state.meetingLoader\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onSetStatsPeerId: (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId)),\n        onRoomLinkCopy: () => {\n            dispatch(requestActions.notify(\n                {\n                    text: 'Room link copied to the clipboard'\n                }));\n        },\n        comingSoon: () => {\n            dispatch(requestActions.notify(\n                {\n                    type: 'error',\n                    text: 'Coming soon...'\n                }));\n        },\n        changeDisplayMode: (mode) => {\n            dispatch(stateActions.changeDisplayMode(mode, null));\n        },\n        changeRightSideMode: (mode) => {\n            dispatch(stateActions.changeRightSideMode(mode));\n        },\n        showMeetingLoader: () => {\n            dispatch(stateActions.changeMeetingLoaderState(true));\n        }\n    };\n};\n\nconst BottomMenuContainer = withRoomContext(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BottomMenu));\n\nexport default withRouter(BottomMenuContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport hark from 'hark';\nimport * as faceapi from 'face-api.js';\nimport Logger from '../../Logger';\nimport * as appPropTypes from '../appPropTypes';\n\nconst logger = new Logger('ScreenDetailsView');\n\nconst tinyFaceDetectorOptions = new faceapi.TinyFaceDetectorOptions(\n\t{\n\t\tinputSize      : 160,\n\t\tscoreThreshold : 0.5\n\t});\n\nexport default class ScreenDetailsView extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state =\n\t\t{\n\t\t\taudioVolume           : 0, // Integer from 0 to 10.,\n\t\t\tshowInfo              : window.SHOW_INFO || false,\n\t\t\tvideoResolutionWidth  : null,\n\t\t\tvideoResolutionHeight : null,\n\t\t\tvideoCanPlay          : false,\n\t\t\tvideoElemPaused       : false,\n\t\t\tmaxSpatialLayer       : null\n\t\t};\n\n\t\t// Latest received video track.\n\t\t// @type {MediaStreamTrack}\n\t\t// this._audioTrack = null;\n\n\t\t// Latest received video track.\n\t\t// @type {MediaStreamTrack}\n\t\tthis._videoTrack = null;\n\n\t\t// Hark instance.\n\t\t// @type {Object}\n\t\tthis._hark = null;\n\n\t\t// Periodic timer for reading video resolution.\n\t\tthis._videoResolutionPeriodicTimer = null;\n\n\t\t// requestAnimationFrame for face detection.\n\t\tthis._faceDetectionRequestAnimationFrame = null;\n\t}\n\n\trender()\n\t{\n\t\tconst {\n\t\t\tisMe,\n\t\t\tpeer,\n\t\t\taudioProducerId,\n\t\t\tvideoProducerId,\n\t\t\taudioConsumerId,\n\t\t\tvideoConsumerId,\n\t\t\tvideoRtpParameters,\n\t\t\tconsumerSpatialLayers,\n\t\t\tconsumerTemporalLayers,\n\t\t\tconsumerCurrentSpatialLayer,\n\t\t\tconsumerCurrentTemporalLayer,\n\t\t\tconsumerPreferredSpatialLayer,\n\t\t\tconsumerPreferredTemporalLayer,\n\t\t\tconsumerPriority,\n\t\t\taudioMuted,\n\t\t\tvideoVisible,\n\t\t\tvideoMultiLayer,\n\t\t\taudioCodec,\n\t\t\tvideoCodec,\n\t\t\taudioScore,\n\t\t\tvideoScore,\n\t\t\tonChangeDisplayName,\n\t\t\tonChangeMaxSendingSpatialLayer,\n\t\t\tonChangeVideoPreferredLayers,\n\t\t\tonChangeVideoPriority,\n\t\t\tonRequestKeyFrame,\n\t\t\tonStatsClick,\n\t\t\tactiveSpeakerId,\n\t\t\taudioEnabled\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\taudioVolume,\n\t\t\tshowInfo,\n\t\t\tvideoResolutionWidth,\n\t\t\tvideoResolutionHeight,\n\t\t\tvideoCanPlay,\n\t\t\tvideoElemPaused,\n\t\t\tmaxSpatialLayer\n\t\t} = this.state;\n\n        return (\n            <div className=\"col-sm-12 border\">\n\n                    <video\n                        ref='videoElem'\n                        style={{\n                            outlineStyle: \"none\",\n\t\t\t\t\t\t\twidth :\"100%\"\n                        }}\n                        autoPlay\n                        playsInline\n                        muted\n                        controls={false}\n                    />\n\n            </div>\n        );\n\t}\n\n    truncatedText(str) {\n        let length = 13;\n        let ending = '...';\n        return str.length > length ? str.substring(0, length - ending.length) + ending : str;\n    }\n\n\tcomponentDidMount()\n\t{\n\t\tconst { audioTrack, videoTrack } = this.props;\n\n\t\tthis._setTracks(audioTrack, videoTrack);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tif (this._hark)\n\t\t\tthis._hark.stop();\n\n\t\tclearInterval(this._videoResolutionPeriodicTimer);\n\t\tcancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n\t\tconst { videoElem } = this.refs;\n\n\t\tif (videoElem)\n\t\t{\n\t\t\tvideoElem.oncanplay = null;\n\t\t\tvideoElem.onplay = null;\n\t\t\tvideoElem.onpause = null;\n\t\t}\n\t}\n\n\tcomponentWillUpdate()\n\t{\n\t\tconst {\n\t\t\tisMe,\n\t\t\taudioTrack,\n\t\t\tvideoTrack,\n\t\t\tvideoRtpParameters\n\t\t} = this.props;\n\n\t\tconst { maxSpatialLayer } = this.state;\n\n\t\tif (isMe && videoRtpParameters && maxSpatialLayer === null)\n\t\t{\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tmaxSpatialLayer : videoRtpParameters.encodings.length - 1\n\t\t\t\t});\n\t\t}\n\t\telse if (isMe && !videoRtpParameters && maxSpatialLayer !== null)\n\t\t{\n\t\t\tthis.setState({ maxSpatialLayer: null });\n\t\t}\n\n\t\tthis._setTracks(audioTrack, videoTrack);\n\t}\n\n\t_setTracks(audioTrack, videoTrack)\n\t{\n\t\tconst { faceDetection } = this.props;\n\n\t\tif (this._audioTrack === audioTrack && this._videoTrack === videoTrack)\n\t\t\treturn;\n\n\t\tthis._audioTrack = audioTrack;\n\t\tthis._videoTrack = videoTrack;\n\n\t\tif (this._hark)\n\t\t\tthis._hark.stop();\n\n\t\tthis._stopVideoResolution();\n\n\t\tif (faceDetection)\n\t\t\tthis._stopFaceDetection();\n\n\t\tconst { videoElem } = this.refs;\n\t\t// const { audioElem, videoElem } = this.refs;\n\n\t\t/*if (audioTrack)\n\t\t{\n\t\t\tconst stream = new MediaStream;\n\n\t\t\tstream.addTrack(audioTrack);\n\t\t\taudioElem.srcObject = stream;\n\n\t\t\taudioElem.play()\n\t\t\t\t.catch((error) => logger.warn('audioElem.play() failed:%o', error));\n\n\t\t\tthis._runHark(stream);\n\t\t}\n\t\telse\n\t\t{\n\t\t\taudioElem.srcObject = null;\n\t\t}*/\n\n\t\tif (videoTrack)\n\t\t{\n\t\t\tconst stream = new MediaStream;\n\n\t\t\tstream.addTrack(videoTrack);\n\t\t\tvideoElem.srcObject = stream;\n\n\t\t\tvideoElem.oncanplay = () => this.setState({ videoCanPlay: true });\n\n\t\t\tvideoElem.onplay = () =>\n\t\t\t{\n\t\t\t\tthis.setState({ videoElemPaused: false });\n\n\t\t\t\t/*audioElem.play()\n\t\t\t\t\t.catch((error) => logger.warn('audioElem.play() failed:%o', error));*/\n\t\t\t};\n\n\t\t\tvideoElem.onpause = () => this.setState({ videoElemPaused: true });\n\n\t\t\tvideoElem.play()\n\t\t\t\t.catch((error) => logger.warn('videoElem.play() failed:%o', error));\n\n\t\t\tthis._startVideoResolution();\n\n\t\t\tif (faceDetection)\n\t\t\t\tthis._startFaceDetection();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvideoElem.srcObject = null;\n\t\t}\n\t}\n\n\t_runHark(stream)\n\t{\n\t\tif (!stream.getAudioTracks()[0])\n\t\t\tthrow new Error('_runHark() | given stream has no audio track');\n\n\t\tthis._hark = hark(stream, { play: false });\n\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tthis._hark.on('volume_change', (dBs, threshold) =>\n\t\t{\n\t\t\t// The exact formula to convert from dBs (-100..0) to linear (0..1) is:\n\t\t\t//   Math.pow(10, dBs / 20)\n\t\t\t// However it does not produce a visually useful output, so let exagerate\n\t\t\t// it a bit. Also, let convert it from 0..1 to 0..10 and avoid value 1 to\n\t\t\t// minimize component renderings.\n\t\t\tlet audioVolume = Math.round(Math.pow(10, dBs / 85) * 10);\n\n\t\t\tif (audioVolume === 1)\n\t\t\t\taudioVolume = 0;\n\n\t\t\tif (audioVolume !== this.state.audioVolume)\n\t\t\t\tthis.setState({ audioVolume });\n\t\t});\n\t}\n\n\t_startVideoResolution()\n\t{\n\t\tthis._videoResolutionPeriodicTimer = setInterval(() =>\n\t\t{\n\t\t\tconst { videoResolutionWidth, videoResolutionHeight } = this.state;\n\t\t\tconst { videoElem } = this.refs;\n\n\t\t\tif (\n\t\t\t\tvideoElem.videoWidth !== videoResolutionWidth ||\n\t\t\t\tvideoElem.videoHeight !== videoResolutionHeight\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tvideoResolutionWidth  : videoElem.videoWidth,\n\t\t\t\t\t\tvideoResolutionHeight : videoElem.videoHeight\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\t_stopVideoResolution()\n\t{\n\t\tclearInterval(this._videoResolutionPeriodicTimer);\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tvideoResolutionWidth  : null,\n\t\t\t\tvideoResolutionHeight : null\n\t\t\t});\n\t}\n\n\t_startFaceDetection()\n\t{\n\t\tconst { videoElem, canvas } = this.refs;\n\n\t\tconst step = async () =>\n\t\t{\n\t\t\t// NOTE: Somehow this is critical. Otherwise the Promise returned by\n\t\t\t// faceapi.detectSingleFace() never resolves or rejects.\n\t\t\tif (!this._videoTrack || videoElem.readyState < 2)\n\t\t\t{\n\t\t\t\tthis._faceDetectionRequestAnimationFrame = requestAnimationFrame(step);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst detection =\n\t\t\t\tawait faceapi.detectSingleFace(videoElem, tinyFaceDetectorOptions);\n\n\t\t\tif (detection)\n\t\t\t{\n\t\t\t\tconst width = videoElem.offsetWidth;\n\t\t\t\tconst height = videoElem.offsetHeight;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\t// const resizedDetection = detection.forSize(width, height);\n\t\t\t\tconst resizedDetections =\n\t\t\t\t\tfaceapi.resizeResults(detection, { width, height });\n\n\t\t\t\tfaceapi.draw.drawDetections(canvas, resizedDetections);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Trick to hide the canvas rectangle.\n\t\t\t\tcanvas.width = 0;\n\t\t\t\tcanvas.height = 0;\n\t\t\t}\n\n\t\t\tthis._faceDetectionRequestAnimationFrame =\n\t\t\t\trequestAnimationFrame(() => setTimeout(step, 100));\n\t\t};\n\n\t\tstep();\n\t}\n\n\t_stopFaceDetection()\n\t{\n\t\tcancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n\t\tconst { canvas } = this.refs;\n\n\t\tcanvas.width = 0;\n\t\tcanvas.height = 0;\n\t}\n\n\n}\n\nScreenDetailsView.propTypes =\n{\n\tisMe : PropTypes.bool,\n\tpeer : PropTypes.oneOfType(\n\t\t[ appPropTypes.Me, appPropTypes.Peer ]).isRequired,\n\taudioProducerId                : PropTypes.string,\n\tvideoProducerId                : PropTypes.string,\n\taudioConsumerId                : PropTypes.string,\n\tvideoConsumerId                : PropTypes.string,\n\taudioRtpParameters             : PropTypes.object,\n\tvideoRtpParameters             : PropTypes.object,\n\tconsumerSpatialLayers          : PropTypes.number,\n\tconsumerTemporalLayers         : PropTypes.number,\n\tconsumerCurrentSpatialLayer    : PropTypes.number,\n\tconsumerCurrentTemporalLayer   : PropTypes.number,\n\tconsumerPreferredSpatialLayer  : PropTypes.number,\n\tconsumerPreferredTemporalLayer : PropTypes.number,\n\tconsumerPriority               : PropTypes.number,\n\taudioTrack                     : PropTypes.any,\n\tvideoTrack                     : PropTypes.any,\n\taudioMuted                     : PropTypes.bool,\n\tvideoVisible                   : PropTypes.bool.isRequired,\n\tvideoMultiLayer                : PropTypes.bool,\n\taudioCodec                     : PropTypes.string,\n\tvideoCodec                     : PropTypes.string,\n\taudioScore                     : PropTypes.any,\n\tvideoScore                     : PropTypes.any,\n\tfaceDetection                  : PropTypes.bool.isRequired,\n\tonChangeDisplayName            : PropTypes.func,\n\tonChangeMaxSendingSpatialLayer : PropTypes.func,\n\tonChangeVideoPreferredLayers   : PropTypes.func,\n\tonChangeVideoPriority          : PropTypes.func,\n\tonRequestKeyFrame              : PropTypes.func,\n\tonStatsClick                   : PropTypes.func.isRequired\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactTooltip from 'react-tooltip';\nimport * as appPropTypes from '../appPropTypes';\nimport {withRoomContext} from '../../RoomContext';\nimport * as stateActions from '../../redux/stateActions';\nimport ScreenDetailsView from \"./ScreenDetailsView\";\n\nclass MeScreenDetails extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis._mounted = false;\n\t\tthis._rootNode = null;\n\t}\n\n\trender()\n\t{\n\t\tconst {\n\t\t\troomClient,\n\t\t\tconnected,\n\t\t\tme,\n\t\t\taudioProducer,\n\t\t\tvideoProducer,\n\t\t\tfaceDetection,\n\t\t\tonSetStatsPeerId\n\t\t} = this.props;\n\n\t\tlet micState;\n\n\t\tif (!me.canSendMic)\n\t\t\tmicState = 'unsupported';\n\t\telse if (!audioProducer)\n\t\t\tmicState = 'unsupported';\n\t\telse if (!audioProducer.paused)\n\t\t\tmicState = 'on';\n\t\telse\n\t\t\tmicState = 'off';\n\n\t\tlet webcamState;\n\n\t\tif (!me.canSendWebcam)\n\t\t\twebcamState = 'unsupported';\n\t\telse if (videoProducer && videoProducer.type !== 'share')\n\t\t\twebcamState = 'on';\n\t\telse\n\t\t\twebcamState = 'off';\n\n\t\tlet changeWebcamState;\n\n\t\tif (Boolean(videoProducer) && videoProducer.type !== 'share' && me.canChangeWebcam)\n\t\t\tchangeWebcamState = 'on';\n\t\telse\n\t\t\tchangeWebcamState = 'unsupported';\n\n\t\tlet shareState;\n\n\t\tif (Boolean(videoProducer) && videoProducer.type === 'share')\n\t\t\tshareState = 'on';\n\t\telse\n\t\t\tshareState = 'off';\n\n\t\tconst videoVisible = Boolean(videoProducer) && !videoProducer.paused;\n\n\t\tlet tip;\n\n\t\tif (!me.displayNameSet)\n\t\t\ttip = 'Click on your name to change it';\n\n\t\treturn (\n\t\t\t<ScreenDetailsView\n\t\t\t\tisMe\n\t\t\t\tpeer={me}\n\t\t\t\taudioProducerId={audioProducer ? audioProducer.id : null}\n\t\t\t\tvideoProducerId={videoProducer ? videoProducer.id : null}\n\t\t\t\taudioRtpParameters={audioProducer ? audioProducer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoProducer ? videoProducer.rtpParameters : null}\n\t\t\t\taudioTrack={audioProducer ? audioProducer.track : null}\n\t\t\t\tvideoTrack={videoProducer ? videoProducer.track : null}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\taudioCodec={audioProducer ? audioProducer.codec : null}\n\t\t\t\tvideoCodec={videoProducer ? videoProducer.codec : null}\n\t\t\t\taudioScore={audioProducer ? audioProducer.score : null}\n\t\t\t\tvideoScore={videoProducer ? videoProducer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeDisplayName={(displayName) => {\n\t\t\t\t\troomClient.changeDisplayName(displayName);\n\t\t\t\t}}\n\t\t\t\tonChangeMaxSendingSpatialLayer={(spatialLayer) => {\n\t\t\t\t\troomClient.setMaxSendingSpatialLayer(spatialLayer);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t\t);\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tthis._mounted = true;\n\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tif (!this._mounted || this.props.me.displayNameSet)\n\t\t\t\treturn;\n\n\t\t\tReactTooltip.show(this._rootNode);\n\t\t}, 4000);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tthis._mounted = false;\n\t}\n\n\tcomponentDidUpdate(prevProps)\n\t{\n\t\tif (!prevProps.me.displayNameSet && this.props.me.displayNameSet)\n\t\t\tReactTooltip.hide(this._rootNode);\n\t}\n}\n\nMeScreenDetails.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tconnected        : PropTypes.bool.isRequired,\n\tme               : appPropTypes.Me.isRequired,\n\taudioProducer    : appPropTypes.Producer,\n\tvideoProducer    : appPropTypes.Producer,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) =>\n{\n\tconst producersArray = Object.values(state.producers);\n\tconst audioProducer =\n\t\tproducersArray.find((producer) => producer.track.kind === 'audio');\n\tconst videoProducer =\n\t\tproducersArray.find((producer) => producer.track.kind === 'video');\n\n\treturn {\n\t\tconnected     : state.room.state === 'connected',\n\t\tme            : state.me,\n\t\taudioProducer : audioProducer,\n\t\tvideoProducer : videoProducer,\n\t\tfaceDetection : state.room.faceDetection\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tonSetStatsPeerId : (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId))\n\t};\n};\n\nconst MeScreenDetailsContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(MeScreenDetails));\n\nexport default MeScreenDetailsContainer;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as appPropTypes from '../appPropTypes';\nimport {withRoomContext} from '../../RoomContext';\nimport * as stateActions from '../../redux/stateActions';\nimport ScreenDetailsView from \"./ScreenDetailsView\";\n\nconst ScreenDetails = (props) =>\n{\n\tconst {\n\t\troomClient,\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted,\n\t\tfaceDetection,\n\t\tonSetStatsPeerId,\n\t\tactiveSpeakerId\n\t} = props;\n\n\tconst audioEnabled = (\n\t\tBoolean(audioConsumer) &&\n\t\t!audioConsumer.locallyPaused &&\n\t\t!audioConsumer.remotelyPaused\n\t);\n\n\tconst videoVisible = (\n\t\tBoolean(videoConsumer) &&\n\t\t!videoConsumer.locallyPaused &&\n\t\t!videoConsumer.remotelyPaused\n\t);\n\n\treturn (\n\t\t\t<ScreenDetailsView\n\t\t\t\taudioEnabled={audioEnabled}\n\t\t\t\tactiveSpeakerId={activeSpeakerId}\n\t\t\t\tpeer={peer}\n\t\t\t\taudioConsumerId={audioConsumer ? audioConsumer.id : null}\n\t\t\t\tvideoConsumerId={videoConsumer ? videoConsumer.id : null}\n\t\t\t\taudioRtpParameters={audioConsumer ? audioConsumer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoConsumer ? videoConsumer.rtpParameters : null}\n\t\t\t\tconsumerSpatialLayers={videoConsumer ? videoConsumer.spatialLayers : null}\n\t\t\t\tconsumerTemporalLayers={videoConsumer ? videoConsumer.temporalLayers : null}\n\t\t\t\tconsumerCurrentSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerCurrentTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPriority={videoConsumer ? videoConsumer.priority : null}\n\t\t\t\taudioTrack={audioConsumer ? audioConsumer.track : null}\n\t\t\t\tvideoTrack={videoConsumer ? videoConsumer.track : null}\n\t\t\t\taudioMuted={audioMuted}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\tvideoMultiLayer={videoConsumer && videoConsumer.type !== 'simple'}\n\t\t\t\taudioCodec={audioConsumer ? audioConsumer.codec : null}\n\t\t\t\tvideoCodec={videoConsumer ? videoConsumer.codec : null}\n\t\t\t\taudioScore={audioConsumer ? audioConsumer.score : null}\n\t\t\t\tvideoScore={videoConsumer ? videoConsumer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeVideoPreferredLayers={(spatialLayer, temporalLayer) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPreferredLayers(\n\t\t\t\t\t\tvideoConsumer.id, spatialLayer, temporalLayer);\n\t\t\t\t}}\n\t\t\t\tonChangeVideoPriority={(priority) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPriority(videoConsumer.id, priority);\n\t\t\t\t}}\n\t\t\t\tonRequestKeyFrame={() =>\n\t\t\t\t{\n\t\t\t\t\troomClient.requestConsumerKeyFrame(videoConsumer.id);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t);\n};\n\nScreenDetails.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tpeer             : appPropTypes.Peer.isRequired,\n\taudioConsumer    : appPropTypes.Consumer,\n\tvideoConsumer    : appPropTypes.Consumer,\n\taudioMuted       : PropTypes.bool,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state, { id }) =>\n{\n\tconst me = state.me;\n\tconst peer = state.peers[id];\n\n\tconst consumersArray = peer.consumers.map((consumerId) => state.consumers[consumerId]);\n\tconst audioConsumer = consumersArray.find((consumer) => consumer.track.kind === 'audio');\n\tconst videoConsumer = consumersArray.find((consumer) => consumer.track.kind === 'video');\n\n\treturn {\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted    : me.audioMuted,\n\t\tfaceDetection : state.room.faceDetection,\n\t\tactiveSpeakerId : state.room.activeSpeakerId\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tonSetStatsPeerId : (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId))\n\t};\n};\n\nconst ScreenDetailsContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ScreenDetails));\n\nexport default ScreenDetailsContainer;\n","export default __webpack_public_path__ + \"static/media/speakerview.b98c4dae.svg\";","export default __webpack_public_path__ + \"static/media/grid_view.7d54ab51.svg\";","import React from \"react\";\nimport {connect} from \"react-redux\";\n\nconst Header = ({message}) => {\n    return (\n        <header\n            className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n            style={{\n                backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))',\n                height: 25\n            }}>\n            {message}\n            <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters text-right text-light\">\n                <a id=\"fullscreen\"><i className=\"fa fa-square-o\"/></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            </div>\n        </header>\n    );\n};\n\nconst mapStateToProps = (state) =>\n{\n    return {\n        message            : state.recordingMessage.message\n    };\n};\n\nconst HeaderContainer = connect(\n    mapStateToProps,\n    null\n)(Header);\n\nexport default HeaderContainer;","import React from \"react\";\nimport BottomMenu from \"../BottomMenu\";\nimport MeScreenDetails from \"./MeScreenDetails\";\nimport {withRoomContext} from \"../../RoomContext\";\nimport {connect} from \"react-redux\";\nimport {Else, If, Then} from \"react-if\";\nimport ScreenDetails from \"./ScreenDetails\";\nimport * as stateActions from \"../../redux/stateActions\";\nimport speakerView from '../img/speakerview.svg';\nimport gridView from '../img/grid_view.svg';\nimport Header from \"../Header\";\n\nconst ScreenView = (props) => {\n\n    const {displayMode, changeDisplayMode, peers, me} = props;\n\n    return <div id=\"clearfullview\" className=\"container-fuid card clearfullview\">\n        <div className=\"col-lg-12 col-md-12 col-lx-12 margin\" style={{margin: 'auto', padding: '8px 1% 0px 1%'}}>\n            <Header/>\n            <div id=\"drawingboardview\" style={{marginTop: 10}}>\n                <div className=\"row \">\n                    <div className=\"col col-lg-12\">\n                        <div className=\"row mt-2\">\n                            <div className=\"col-md-12\">\n                                <div className=\"row\">\n                                    <div className=\"col-sm-12 text-right\">\n                                    <div className=\"btn-group btn-group-sm c-gray\" role=\"group\"\n                                         aria-label=\"Basic example\">\n                                        <a onClick={() => {\n                                            changeDisplayMode('speaker');\n                                        }} data-toggle=\"tooltip\" data-placement=\"top\"\n                                           title=\"Spkaer View\"><img src={speakerView}/></a>&nbsp;&nbsp;\n                                        <a onClick={() => {\n                                            changeDisplayMode('grid');\n                                        }} data-toggle=\"tooltip\" data-placement=\"top\"\n                                           title=\"List View\"><img src={gridView}/></a>\n                                    </div></div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <If condition={me.id === displayMode.screenId}>\n                            <Then>\n                                <MeScreenDetails/>\n                            </Then>\n                            <Else>\n                                <If condition={peers.map(m => (m.id)).includes(displayMode.screenId)}>\n                                    <ScreenDetails id={displayMode.screenId}/>\n                                </If>\n                            </Else>\n                        </If>\n\n                        <BottomMenu/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>;\n\n};\n\nconst mapStateToProps = (state) =>\n{\n    const peersArray = Object.values(state.peers);\n\n    return {\n        displayMode: state.displayMode,\n        peers: peersArray,\n        me: state.me\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeDisplayMode: (mode) => {\n            dispatch(stateActions.changeDisplayMode(mode, null));\n        }\n    };\n};\n\n\nconst ScreenViewContainer = withRoomContext(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ScreenView));\n\nexport default ScreenViewContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport hark from 'hark';\nimport * as faceapi from 'face-api.js';\nimport Logger from '../Logger';\nimport * as appPropTypes from './appPropTypes';\nimport {Else, If, Then} from \"react-if\";\nimport poster from './poster.png';\n\nconst logger = new Logger('AllAudioView');\n\nconst tinyFaceDetectorOptions = new faceapi.TinyFaceDetectorOptions(\n    {\n        inputSize      : 160,\n        scoreThreshold : 0.5\n    });\n\nexport default class AllAudioView extends React.Component\n{\n    constructor(props)\n    {\n        super(props);\n\n        this.state =\n            {\n                audioVolume           : 0, // Integer from 0 to 10.,\n                showInfo              : window.SHOW_INFO || false,\n                videoResolutionWidth  : null,\n                videoResolutionHeight : null,\n                videoCanPlay          : false,\n                videoElemPaused       : false,\n                maxSpatialLayer       : null\n            };\n\n        // Latest received video track.\n        // @type {MediaStreamTrack}\n        this._audioTrack = null;\n\n        // Latest received video track.\n        // @type {MediaStreamTrack}\n        // this._videoTrack = null;\n\n        // Hark instance.\n        // @type {Object}\n        this._hark = null;\n\n        // Periodic timer for reading video resolution.\n        this._videoResolutionPeriodicTimer = null;\n\n        // requestAnimationFrame for face detection.\n        this._faceDetectionRequestAnimationFrame = null;\n    }\n\n    render()\n    {\n        const {\n            isMe,\n            peer,\n            audioProducerId,\n            videoProducerId,\n            audioConsumerId,\n            videoConsumerId,\n            videoRtpParameters,\n            consumerSpatialLayers,\n            consumerTemporalLayers,\n            consumerCurrentSpatialLayer,\n            consumerCurrentTemporalLayer,\n            consumerPreferredSpatialLayer,\n            consumerPreferredTemporalLayer,\n            consumerPriority,\n            audioMuted,\n            videoVisible,\n            videoMultiLayer,\n            audioCodec,\n            videoCodec,\n            audioScore,\n            videoScore,\n            onChangeDisplayName,\n            onChangeMaxSendingSpatialLayer,\n            onChangeVideoPreferredLayers,\n            onChangeVideoPriority,\n            onRequestKeyFrame,\n            onStatsClick,\n            activeSpeakerId,\n            audioEnabled\n        } = this.props;\n\n        const {\n            audioVolume,\n            showInfo,\n            videoResolutionWidth,\n            videoResolutionHeight,\n            videoCanPlay,\n            videoElemPaused,\n            maxSpatialLayer\n        } = this.state;\n\n        return (\n            <audio\n                ref='audioElem'\n                autoPlay\n                playsInline\n                muted={isMe || audioMuted}\n                controls={false}\n            />\n        );\n    }\n\n\n    componentDidMount()\n    {\n        const { audioTrack, videoTrack } = this.props;\n\n        this._setTracks(audioTrack, videoTrack);\n    }\n\n    componentWillUnmount()\n    {\n        if (this._hark)\n            this._hark.stop();\n\n        clearInterval(this._videoResolutionPeriodicTimer);\n        cancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n        const { videoElem } = this.refs;\n\n        if (videoElem)\n        {\n            videoElem.oncanplay = null;\n            videoElem.onplay = null;\n            videoElem.onpause = null;\n        }\n    }\n\n    componentWillUpdate()\n    {\n        const {\n            isMe,\n            audioTrack,\n            videoTrack,\n            videoRtpParameters\n        } = this.props;\n\n        const { maxSpatialLayer } = this.state;\n\n        if (isMe && videoRtpParameters && maxSpatialLayer === null)\n        {\n            this.setState(\n                {\n                    maxSpatialLayer : videoRtpParameters.encodings.length - 1\n                });\n        }\n        else if (isMe && !videoRtpParameters && maxSpatialLayer !== null)\n        {\n            this.setState({ maxSpatialLayer: null });\n        }\n\n        this._setTracks(audioTrack, videoTrack);\n    }\n\n    _setTracks(audioTrack, videoTrack)\n    {\n        const { faceDetection } = this.props;\n\n        if (this._audioTrack === audioTrack && this._videoTrack === videoTrack)\n            return;\n\n        this._audioTrack = audioTrack;\n        this._videoTrack = videoTrack;\n\n        if (this._hark)\n            this._hark.stop();\n\n        this._stopVideoResolution();\n\n        if (faceDetection)\n            this._stopFaceDetection();\n\n        const { audioElem, videoElem } = this.refs;\n\n        if (audioTrack)\n        {\n            const stream = new MediaStream;\n\n            stream.addTrack(audioTrack);\n            audioElem.srcObject = stream;\n\n            audioElem.play()\n                .catch((error) => logger.warn('audioElem.play() failed:%o', error));\n\n            this._runHark(stream);\n        }\n        else\n        {\n            audioElem.srcObject = null;\n        }\n\n       /* if (videoTrack)\n        {\n            const stream = new MediaStream;\n\n            stream.addTrack(videoTrack);\n            videoElem.srcObject = stream;\n\n            videoElem.oncanplay = () => this.setState({ videoCanPlay: true });\n\n            videoElem.onplay = () =>\n            {\n                this.setState({ videoElemPaused: false });\n\n                audioElem.play()\n                    .catch((error) => logger.warn('audioElem.play() failed:%o', error));\n            };\n\n            videoElem.onpause = () => this.setState({ videoElemPaused: true });\n\n            videoElem.play()\n                .catch((error) => logger.warn('videoElem.play() failed:%o', error));\n\n            this._startVideoResolution();\n\n            if (faceDetection)\n                this._startFaceDetection();\n        }\n        else\n        {\n            videoElem.srcObject = null;\n        }*/\n    }\n\n    _runHark(stream)\n    {\n        if (!stream.getAudioTracks()[0])\n            throw new Error('_runHark() | given stream has no audio track');\n\n        this._hark = hark(stream, { play: false });\n\n        // eslint-disable-next-line no-unused-vars\n        this._hark.on('volume_change', (dBs, threshold) =>\n        {\n            // The exact formula to convert from dBs (-100..0) to linear (0..1) is:\n            //   Math.pow(10, dBs / 20)\n            // However it does not produce a visually useful output, so let exagerate\n            // it a bit. Also, let convert it from 0..1 to 0..10 and avoid value 1 to\n            // minimize component renderings.\n            let audioVolume = Math.round(Math.pow(10, dBs / 85) * 10);\n\n            if (audioVolume === 1)\n                audioVolume = 0;\n\n            if (audioVolume !== this.state.audioVolume)\n                this.setState({ audioVolume });\n        });\n    }\n\n    _startVideoResolution()\n    {\n        this._videoResolutionPeriodicTimer = setInterval(() =>\n        {\n            const { videoResolutionWidth, videoResolutionHeight } = this.state;\n            const { videoElem } = this.refs;\n\n            if (\n                videoElem.videoWidth !== videoResolutionWidth ||\n                videoElem.videoHeight !== videoResolutionHeight\n            )\n            {\n                this.setState(\n                    {\n                        videoResolutionWidth  : videoElem.videoWidth,\n                        videoResolutionHeight : videoElem.videoHeight\n                    });\n            }\n        }, 500);\n    }\n\n    _stopVideoResolution()\n    {\n        clearInterval(this._videoResolutionPeriodicTimer);\n\n        this.setState(\n            {\n                videoResolutionWidth  : null,\n                videoResolutionHeight : null\n            });\n    }\n\n    _startFaceDetection()\n    {\n        const { videoElem, canvas } = this.refs;\n\n        const step = async () =>\n        {\n            // NOTE: Somehow this is critical. Otherwise the Promise returned by\n            // faceapi.detectSingleFace() never resolves or rejects.\n            if (!this._videoTrack || videoElem.readyState < 2)\n            {\n                this._faceDetectionRequestAnimationFrame = requestAnimationFrame(step);\n\n                return;\n            }\n\n            const detection =\n                await faceapi.detectSingleFace(videoElem, tinyFaceDetectorOptions);\n\n            if (detection)\n            {\n                const width = videoElem.offsetWidth;\n                const height = videoElem.offsetHeight;\n\n                canvas.width = width;\n                canvas.height = height;\n\n                // const resizedDetection = detection.forSize(width, height);\n                const resizedDetections =\n                    faceapi.resizeResults(detection, { width, height });\n\n                faceapi.draw.drawDetections(canvas, resizedDetections);\n            }\n            else\n            {\n                // Trick to hide the canvas rectangle.\n                canvas.width = 0;\n                canvas.height = 0;\n            }\n\n            this._faceDetectionRequestAnimationFrame =\n                requestAnimationFrame(() => setTimeout(step, 100));\n        };\n\n        step();\n    }\n\n    _stopFaceDetection()\n    {\n        cancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n        const { canvas } = this.refs;\n\n        canvas.width = 0;\n        canvas.height = 0;\n    }\n\n\n}\n\nAllAudioView.propTypes =\n    {\n        isMe : PropTypes.bool,\n        peer : PropTypes.oneOfType(\n            [ appPropTypes.Me, appPropTypes.Peer ]).isRequired,\n        audioProducerId                : PropTypes.string,\n        videoProducerId                : PropTypes.string,\n        audioConsumerId                : PropTypes.string,\n        videoConsumerId                : PropTypes.string,\n        audioRtpParameters             : PropTypes.object,\n        videoRtpParameters             : PropTypes.object,\n        consumerSpatialLayers          : PropTypes.number,\n        consumerTemporalLayers         : PropTypes.number,\n        consumerCurrentSpatialLayer    : PropTypes.number,\n        consumerCurrentTemporalLayer   : PropTypes.number,\n        consumerPreferredSpatialLayer  : PropTypes.number,\n        consumerPreferredTemporalLayer : PropTypes.number,\n        consumerPriority               : PropTypes.number,\n        audioTrack                     : PropTypes.any,\n        videoTrack                     : PropTypes.any,\n        audioMuted                     : PropTypes.bool,\n        videoVisible                   : PropTypes.bool.isRequired,\n        videoMultiLayer                : PropTypes.bool,\n        audioCodec                     : PropTypes.string,\n        videoCodec                     : PropTypes.string,\n        audioScore                     : PropTypes.any,\n        videoScore                     : PropTypes.any,\n        faceDetection                  : PropTypes.bool.isRequired,\n        onChangeDisplayName            : PropTypes.func,\n        onChangeMaxSendingSpatialLayer : PropTypes.func,\n        onChangeVideoPreferredLayers   : PropTypes.func,\n        onChangeVideoPriority          : PropTypes.func,\n        onRequestKeyFrame              : PropTypes.func,\n        onStatsClick                   : PropTypes.func.isRequired\n    };","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as appPropTypes from './appPropTypes';\nimport {withRoomContext} from '../RoomContext';\nimport * as stateActions from '../redux/stateActions';\nimport AllAudioView from \"./AllAudioView\";\n\nconst AllAudio = (props) =>\n{\n\tconst {\n\t\troomClient,\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted,\n\t\tfaceDetection,\n\t\tonSetStatsPeerId,\n\t\tactiveSpeakerId\n\t} = props;\n\n\tconst audioEnabled = (\n\t\tBoolean(audioConsumer) &&\n\t\t!audioConsumer.locallyPaused &&\n\t\t!audioConsumer.remotelyPaused\n\t);\n\n\tconst videoVisible = (\n\t\tBoolean(videoConsumer) &&\n\t\t!videoConsumer.locallyPaused &&\n\t\t!videoConsumer.remotelyPaused\n\t);\n\n\treturn (\n\t\t\t<AllAudioView\n\t\t\t\taudioEnabled={audioEnabled}\n\t\t\t\tactiveSpeakerId={activeSpeakerId}\n\t\t\t\tpeer={peer}\n\t\t\t\taudioConsumerId={audioConsumer ? audioConsumer.id : null}\n\t\t\t\tvideoConsumerId={videoConsumer ? videoConsumer.id : null}\n\t\t\t\taudioRtpParameters={audioConsumer ? audioConsumer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoConsumer ? videoConsumer.rtpParameters : null}\n\t\t\t\tconsumerSpatialLayers={videoConsumer ? videoConsumer.spatialLayers : null}\n\t\t\t\tconsumerTemporalLayers={videoConsumer ? videoConsumer.temporalLayers : null}\n\t\t\t\tconsumerCurrentSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerCurrentTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPriority={videoConsumer ? videoConsumer.priority : null}\n\t\t\t\taudioTrack={audioConsumer ? audioConsumer.track : null}\n\t\t\t\tvideoTrack={videoConsumer ? videoConsumer.track : null}\n\t\t\t\taudioMuted={audioMuted}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\tvideoMultiLayer={videoConsumer && videoConsumer.type !== 'simple'}\n\t\t\t\taudioCodec={audioConsumer ? audioConsumer.codec : null}\n\t\t\t\tvideoCodec={videoConsumer ? videoConsumer.codec : null}\n\t\t\t\taudioScore={audioConsumer ? audioConsumer.score : null}\n\t\t\t\tvideoScore={videoConsumer ? videoConsumer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeVideoPreferredLayers={(spatialLayer, temporalLayer) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPreferredLayers(\n\t\t\t\t\t\tvideoConsumer.id, spatialLayer, temporalLayer);\n\t\t\t\t}}\n\t\t\t\tonChangeVideoPriority={(priority) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPriority(videoConsumer.id, priority);\n\t\t\t\t}}\n\t\t\t\tonRequestKeyFrame={() =>\n\t\t\t\t{\n\t\t\t\t\troomClient.requestConsumerKeyFrame(videoConsumer.id);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t);\n};\n\nAllAudio.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tpeer             : appPropTypes.Peer.isRequired,\n\taudioConsumer    : appPropTypes.Consumer,\n\tvideoConsumer    : appPropTypes.Consumer,\n\taudioMuted       : PropTypes.bool,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state, { id }) =>\n{\n\tconst me = state.me;\n\tconst peer = state.peers[id];\n\n\tconst consumersArray = peer.consumers.map((consumerId) => state.consumers[consumerId]);\n\tconst audioConsumer = consumersArray.find((consumer) => consumer.track.kind === 'audio');\n\tconst videoConsumer = consumersArray.find((consumer) => consumer.track.kind === 'video');\n\n\treturn {\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted    : me.audioMuted,\n\t\tfaceDetection : state.room.faceDetection,\n\t\tactiveSpeakerId : state.room.activeSpeakerId\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tonSetStatsPeerId : (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId))\n\t};\n};\n\nconst AllAudioContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(AllAudio));\n\nexport default AllAudioContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport hark from 'hark';\nimport * as faceapi from 'face-api.js';\nimport Logger from '../../Logger';\nimport * as appPropTypes from '../appPropTypes';\nimport {Else, If, Then} from \"react-if\";\nimport poster from '../poster.png';\nimport {withRoomContext} from \"../../RoomContext\";\nimport {withRouter} from \"react-router-dom\";\nimport {db} from \"../../../firebase\";\n\nconst logger = new Logger('PeerViewGrid');\n\nconst tinyFaceDetectorOptions = new faceapi.TinyFaceDetectorOptions(\n\t{\n\t\tinputSize      : 160,\n\t\tscoreThreshold : 0.5\n\t});\n\nclass PeerViewGrid extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state =\n\t\t{\n\t\t\taudioVolume           : 0, // Integer from 0 to 10.,\n\t\t\tshowInfo              : window.SHOW_INFO || false,\n\t\t\tvideoResolutionWidth  : null,\n\t\t\tvideoResolutionHeight : null,\n\t\t\tvideoCanPlay          : false,\n\t\t\tvideoElemPaused       : false,\n\t\t\tmaxSpatialLayer       : null\n\t\t};\n\n\t\t// Latest received video track.\n\t\t// @type {MediaStreamTrack}\n\t\t// this._audioTrack = null;\n\n\t\t// Latest received video track.\n\t\t// @type {MediaStreamTrack}\n\t\tthis._videoTrack = null;\n\n\t\t// Hark instance.\n\t\t// @type {Object}\n\t\tthis._hark = null;\n\n\t\t// Periodic timer for reading video resolution.\n\t\tthis._videoResolutionPeriodicTimer = null;\n\n\t\t// requestAnimationFrame for face detection.\n\t\tthis._faceDetectionRequestAnimationFrame = null;\n\t}\n\n\trender()\n\t{\n\t\tconst {\n\t\t\tisMe,\n\t\t\tpeer,\n\t\t\taudioProducerId,\n\t\t\tvideoProducerId,\n\t\t\taudioConsumerId,\n\t\t\tvideoConsumerId,\n\t\t\tvideoRtpParameters,\n\t\t\tconsumerSpatialLayers,\n\t\t\tconsumerTemporalLayers,\n\t\t\tconsumerCurrentSpatialLayer,\n\t\t\tconsumerCurrentTemporalLayer,\n\t\t\tconsumerPreferredSpatialLayer,\n\t\t\tconsumerPreferredTemporalLayer,\n\t\t\tconsumerPriority,\n\t\t\taudioMuted,\n\t\t\tvideoVisible,\n\t\t\tvideoMultiLayer,\n\t\t\taudioCodec,\n\t\t\tvideoCodec,\n\t\t\taudioScore,\n\t\t\tvideoScore,\n\t\t\tonChangeDisplayName,\n\t\t\tonChangeMaxSendingSpatialLayer,\n\t\t\tonChangeVideoPreferredLayers,\n\t\t\tonChangeVideoPriority,\n\t\t\tonRequestKeyFrame,\n\t\t\tonStatsClick,\n\t\t\tactiveSpeakerId,\n\t\t\taudioEnabled,\n            makeScreenDetails,\n\t\t\tpeers\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\taudioVolume,\n\t\t\tshowInfo,\n\t\t\tvideoResolutionWidth,\n\t\t\tvideoResolutionHeight,\n\t\t\tvideoCanPlay,\n\t\t\tvideoElemPaused,\n\t\t\tmaxSpatialLayer\n\t\t} = this.state;\n\n\t\tconst len = Object.values(peers || {}).length;\n\t\tlet dynamicStyle;\n\t\tif (len === 0) {\n\t\t\tdynamicStyle = {width: \"100%\", maxHeight: \"626px\"};\n\t\t\t// dynamicStyle = {width: \"100%\"};\n\t\t} else if (len >= 1 && len <= 3) {\n\t\t\tdynamicStyle = {width: \"50%\", maxHeight: \"313px\"};\n\t\t\t// dynamicStyle = {width: \"50%\"};\n\t\t}else if (len >= 4 && len <= 5) {\n\t\t\tdynamicStyle = {width: 100 / 3 + \"%\", maxHeight: 626 / 3 + \"px\"};\n\t\t\t// dynamicStyle = {width: \"33.33%\", maxHeight: \"208.666px\"};\n\t\t} else {\n\t\t\tdynamicStyle = {width: \"25%\", maxHeight: \"156.5px\"};\n\t\t\t// dynamicStyle = {width: \"25%\"};\n\t\t}\n\n\t\treturn <div className=\"participant\" style={dynamicStyle}>\n\t\t\t<a className=\"thumbnail\" onClick={() => makeScreenDetails(peer.id)}>\n\t\t\t\t<video height=\"auto\"\n\t\t\t\t\t   ref='videoElem'\n\t\t\t\t\t   autoPlay\n\t\t\t\t\t   playsInline\n\t\t\t\t\t   muted\n\t\t\t\t\t   controls={false}\n\t\t\t\t\t   poster={poster}\n\t\t\t\t/>\n\n\n\t\t\t\t<div className=\"description\"\n\t\t\t\t\t style={{borderColor: peer.id === activeSpeakerId ? '#f50057' : 'transparent'}}>\n\t\t\t\t\t<If condition={isMe === true}>\n\t\t\t\t\t\t<Then>\n\t\t\t\t\t\t\t<h4>{this.truncatedText(peer.displayName)} (Me)</h4>\n\t\t\t\t\t\t</Then>\n\t\t\t\t\t\t<Else>\n\t\t\t\t\t\t\t<h4 onClick={e => e.stopPropagation()}>\n\n\t\t\t\t\t\t\t\t{this.truncatedText(peer.displayName)}&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t<If condition={!videoVisible}>\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-eye-slash\"/>\n\t\t\t\t\t\t\t\t</If>\n\t\t\t\t\t\t\t\t<If condition={videoVisible}>\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-video-camera\"\n\t\t\t\t\t\t\t\t\t   onClick={() => this.hostMuteUnmute('VIDEO', peer.id)}/>\n\t\t\t\t\t\t\t\t</If>\n\t\t\t\t\t\t\t\t<If condition={!audioEnabled}>\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-microphone-slash\"/>\n\t\t\t\t\t\t\t\t</If>\n\t\t\t\t\t\t\t\t<If condition={audioEnabled}>\n\t\t\t\t\t\t\t\t\t<i className=\"fa fa-microphone\"\n\t\t\t\t\t\t\t\t\t   onClick={() => this.hostMuteUnmute('AUDIO', peer.id)}/>\n\t\t\t\t\t\t\t\t</If>\n\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t</Else>\n\n\t\t\t\t\t</If>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>;\n\t}\n\n    truncatedText(str) {\n        let length = 13;\n        let ending = '...';\n        return str.length > length ? str.substring(0, length - ending.length) + ending : str;\n    }\n\n\thostMuteUnmute(type, peerId) {\n\t\tconst meetingId = this.props.match.params.rid;\n\t\tconst userId = JSON.parse(localStorage.getItem(\"user\")).id;\n\n\t\tdb.collection(\"meeting\")\n\t\t\t.where('userId', '==', userId)\n\t\t\t.where('meetingId', '==', meetingId)\n\t\t\t.get().then(querySnapshot => {\n\n\t\t\tif (querySnapshot.size !== 0)\n\t\t\t\tthis.props.roomClient.controlOverAudioVideoByHost({type, peerId});\n\n\t\t}).catch(error => console.log(\"Error getting documents: \", error));\n\n\t}\n\n\n\tcomponentDidMount()\n\t{\n\t\tconst { audioTrack, videoTrack } = this.props;\n\n\t\tthis._setTracks(audioTrack, videoTrack);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tif (this._hark)\n\t\t\tthis._hark.stop();\n\n\t\tclearInterval(this._videoResolutionPeriodicTimer);\n\t\tcancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n\t\tconst { videoElem } = this.refs;\n\n\t\tif (videoElem)\n\t\t{\n\t\t\tvideoElem.oncanplay = null;\n\t\t\tvideoElem.onplay = null;\n\t\t\tvideoElem.onpause = null;\n\t\t}\n\t}\n\n\tcomponentWillUpdate()\n\t{\n\t\tconst {\n\t\t\tisMe,\n\t\t\taudioTrack,\n\t\t\tvideoTrack,\n\t\t\tvideoRtpParameters\n\t\t} = this.props;\n\n\t\tconst { maxSpatialLayer } = this.state;\n\n\t\tif (isMe && videoRtpParameters && maxSpatialLayer === null)\n\t\t{\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tmaxSpatialLayer : videoRtpParameters.encodings.length - 1\n\t\t\t\t});\n\t\t}\n\t\telse if (isMe && !videoRtpParameters && maxSpatialLayer !== null)\n\t\t{\n\t\t\tthis.setState({ maxSpatialLayer: null });\n\t\t}\n\n\t\tthis._setTracks(audioTrack, videoTrack);\n\t}\n\n\t_setTracks(audioTrack, videoTrack)\n\t{\n\t\tconst { faceDetection } = this.props;\n\n\t\tif (this._audioTrack === audioTrack && this._videoTrack === videoTrack)\n\t\t\treturn;\n\n\t\tthis._audioTrack = audioTrack;\n\t\tthis._videoTrack = videoTrack;\n\n\t\tif (this._hark)\n\t\t\tthis._hark.stop();\n\n\t\tthis._stopVideoResolution();\n\n\t\tif (faceDetection)\n\t\t\tthis._stopFaceDetection();\n\n\t\tconst { videoElem } = this.refs;\n\t\t// const { audioElem, videoElem } = this.refs;\n\n\t\t/*if (audioTrack)\n\t\t{\n\t\t\tconst stream = new MediaStream;\n\n\t\t\tstream.addTrack(audioTrack);\n\t\t\taudioElem.srcObject = stream;\n\n\t\t\taudioElem.play()\n\t\t\t\t.catch((error) => logger.warn('audioElem.play() failed:%o', error));\n\n\t\t\tthis._runHark(stream);\n\t\t}\n\t\telse\n\t\t{\n\t\t\taudioElem.srcObject = null;\n\t\t}*/\n\n\t\tif (videoTrack)\n\t\t{\n\t\t\tconst stream = new MediaStream;\n\n\t\t\tstream.addTrack(videoTrack);\n\t\t\tvideoElem.srcObject = stream;\n\n\t\t\tvideoElem.oncanplay = () => this.setState({ videoCanPlay: true });\n\n\t\t\tvideoElem.onplay = () =>\n\t\t\t{\n\t\t\t\tthis.setState({ videoElemPaused: false });\n\n\t\t\t\t/*audioElem.play()\n\t\t\t\t\t.catch((error) => logger.warn('audioElem.play() failed:%o', error));*/\n\t\t\t};\n\n\t\t\tvideoElem.onpause = () => this.setState({ videoElemPaused: true });\n\n\t\t\tvideoElem.play()\n\t\t\t\t.catch((error) => logger.warn('videoElem.play() failed:%o', error));\n\n\t\t\tthis._startVideoResolution();\n\n\t\t\tif (faceDetection)\n\t\t\t\tthis._startFaceDetection();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvideoElem.srcObject = null;\n\t\t}\n\t}\n\n\t_runHark(stream)\n\t{\n\t\tif (!stream.getAudioTracks()[0])\n\t\t\tthrow new Error('_runHark() | given stream has no audio track');\n\n\t\tthis._hark = hark(stream, { play: false });\n\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tthis._hark.on('volume_change', (dBs, threshold) =>\n\t\t{\n\t\t\t// The exact formula to convert from dBs (-100..0) to linear (0..1) is:\n\t\t\t//   Math.pow(10, dBs / 20)\n\t\t\t// However it does not produce a visually useful output, so let exagerate\n\t\t\t// it a bit. Also, let convert it from 0..1 to 0..10 and avoid value 1 to\n\t\t\t// minimize component renderings.\n\t\t\tlet audioVolume = Math.round(Math.pow(10, dBs / 85) * 10);\n\n\t\t\tif (audioVolume === 1)\n\t\t\t\taudioVolume = 0;\n\n\t\t\tif (audioVolume !== this.state.audioVolume)\n\t\t\t\tthis.setState({ audioVolume });\n\t\t});\n\t}\n\n\t_startVideoResolution()\n\t{\n\t\tthis._videoResolutionPeriodicTimer = setInterval(() =>\n\t\t{\n\t\t\tconst { videoResolutionWidth, videoResolutionHeight } = this.state;\n\t\t\tconst { videoElem } = this.refs;\n\n\t\t\tif (\n\t\t\t\tvideoElem.videoWidth !== videoResolutionWidth ||\n\t\t\t\tvideoElem.videoHeight !== videoResolutionHeight\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tvideoResolutionWidth  : videoElem.videoWidth,\n\t\t\t\t\t\tvideoResolutionHeight : videoElem.videoHeight\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\t_stopVideoResolution()\n\t{\n\t\tclearInterval(this._videoResolutionPeriodicTimer);\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tvideoResolutionWidth  : null,\n\t\t\t\tvideoResolutionHeight : null\n\t\t\t});\n\t}\n\n\t_startFaceDetection()\n\t{\n\t\tconst { videoElem, canvas } = this.refs;\n\n\t\tconst step = async () =>\n\t\t{\n\t\t\t// NOTE: Somehow this is critical. Otherwise the Promise returned by\n\t\t\t// faceapi.detectSingleFace() never resolves or rejects.\n\t\t\tif (!this._videoTrack || videoElem.readyState < 2)\n\t\t\t{\n\t\t\t\tthis._faceDetectionRequestAnimationFrame = requestAnimationFrame(step);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst detection =\n\t\t\t\tawait faceapi.detectSingleFace(videoElem, tinyFaceDetectorOptions);\n\n\t\t\tif (detection)\n\t\t\t{\n\t\t\t\tconst width = videoElem.offsetWidth;\n\t\t\t\tconst height = videoElem.offsetHeight;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\t// const resizedDetection = detection.forSize(width, height);\n\t\t\t\tconst resizedDetections =\n\t\t\t\t\tfaceapi.resizeResults(detection, { width, height });\n\n\t\t\t\tfaceapi.draw.drawDetections(canvas, resizedDetections);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Trick to hide the canvas rectangle.\n\t\t\t\tcanvas.width = 0;\n\t\t\t\tcanvas.height = 0;\n\t\t\t}\n\n\t\t\tthis._faceDetectionRequestAnimationFrame =\n\t\t\t\trequestAnimationFrame(() => setTimeout(step, 100));\n\t\t};\n\n\t\tstep();\n\t}\n\n\t_stopFaceDetection()\n\t{\n\t\tcancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n\t\tconst { canvas } = this.refs;\n\n\t\tcanvas.width = 0;\n\t\tcanvas.height = 0;\n\t}\n\n\n}\n\nPeerViewGrid.propTypes =\n{\n\tisMe : PropTypes.bool,\n\tpeer : PropTypes.oneOfType(\n\t\t[ appPropTypes.Me, appPropTypes.Peer ]).isRequired,\n\taudioProducerId                : PropTypes.string,\n\tvideoProducerId                : PropTypes.string,\n\taudioConsumerId                : PropTypes.string,\n\tvideoConsumerId                : PropTypes.string,\n\taudioRtpParameters             : PropTypes.object,\n\tvideoRtpParameters             : PropTypes.object,\n\tconsumerSpatialLayers          : PropTypes.number,\n\tconsumerTemporalLayers         : PropTypes.number,\n\tconsumerCurrentSpatialLayer    : PropTypes.number,\n\tconsumerCurrentTemporalLayer   : PropTypes.number,\n\tconsumerPreferredSpatialLayer  : PropTypes.number,\n\tconsumerPreferredTemporalLayer : PropTypes.number,\n\tconsumerPriority               : PropTypes.number,\n\taudioTrack                     : PropTypes.any,\n\tvideoTrack                     : PropTypes.any,\n\taudioMuted                     : PropTypes.bool,\n\tvideoVisible                   : PropTypes.bool.isRequired,\n\tvideoMultiLayer                : PropTypes.bool,\n\taudioCodec                     : PropTypes.string,\n\tvideoCodec                     : PropTypes.string,\n\taudioScore                     : PropTypes.any,\n\tvideoScore                     : PropTypes.any,\n\tfaceDetection                  : PropTypes.bool.isRequired,\n\tonChangeDisplayName            : PropTypes.func,\n\tonChangeMaxSendingSpatialLayer : PropTypes.func,\n\tonChangeVideoPreferredLayers   : PropTypes.func,\n\tonChangeVideoPriority          : PropTypes.func,\n\tonRequestKeyFrame              : PropTypes.func,\n\tonStatsClick                   : PropTypes.func.isRequired\n};\n\nconst PeerViewGridContainer = withRoomContext(PeerViewGrid);\nexport default withRouter(PeerViewGridContainer);\n","export default \"data:image/png;base64,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HW85G98+3hArnrohYrTpt7ZdbsVWqZqqQVXVu9NpwlUIwzBQKpZENCfDifgAsmAXxF7Y6XT6biOrerUOVbkfab8W7XgOXVEUpNNpEeZucBu5+01fvKnMxjNMhhMUnSIUWcGwN7wdi/bASLvjdzAdTjEZTDAZTnisGTHa9DXEEXZLLtqtNtqtNopO8e7Dx6pbFSHNZXPiw8H4oIN8Lo+230bQCsQpN/HhB41q4y7ahnF//Fm4DsVmUb7no91qo9VoQVM1FOwCzoezeLzPN5KK/yXQqDVuP/+faL+2eiSe035+1iYRo01fQrSNoOu33fSeB3QxXYhDCeKNo6ajKVKp1O0EHC/4PnL95yDg+Iix6/G2OZShG2K0G4+e46WA8cEJtmWj5JTgFBw06000681EfMWKj1JZTN/EH4JmM1mUnBIKdgGqqkJRFMxGMzwdnsTI37bs2woR20Gj2sD5cBZTQflcXty3YztoNVt8TRCjTb+33WoH27Lhe35i9cR5f0aj1kCpWBLTBsfweDvkwC6IDxCPuyOqbhXlYjlxOvv1eEU36KJgF7CardBr9+AUHHG7oBUk1kjnc3lU3eptnfez74vNx3NYeQvD3hDjwRi2ZYvbxfGN3zTOhzO8hid+di6bQz6Xh1tycd6f0Q26ifuNvVymSMRoExEx2kRExGgTERGjTUTEaBMREaNNRESMNhERo01ERIw2EREx2kREjDYRETHaRETEaBMRMdpERMRoExERo01ExGgTERGjTUREjDYREaNNRESMNhERo80ngYiI0SYiIkabiIjR5hNBRMRoExERo01ExGgTERGjTUREjDYREaNNRESMNhERMdpERIw2EREx2kRExGgTETHaRETEaBMREaNNRMRoExERo01ERIw2ERGjTUREjDYRETHaRESMNhERMdpERMRoExEx2kRExGgTERGjTUTEaBMREaNNRESMNhERo01ERIw2ERG93/8PAIdnAsgAQzHiAAAAAElFTkSuQmCC\"","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as appPropTypes from '../appPropTypes';\nimport {withRoomContext} from '../../RoomContext';\nimport * as stateActions from '../../redux/stateActions';\nimport PeerViewGrid from \"./PeerViewGrid\";\n\nconst PeerGrid = (props) =>\n{\n\tconst {\n\t\troomClient,\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted,\n\t\tfaceDetection,\n\t\tonSetStatsPeerId,\n\t\tactiveSpeakerId,\n        changeDisplayMode,\n\t\tpeers\n\t} = props;\n\n\tconst audioEnabled = (\n\t\tBoolean(audioConsumer) &&\n\t\t!audioConsumer.locallyPaused &&\n\t\t!audioConsumer.remotelyPaused\n\t);\n\n\tconst videoVisible = (\n\t\tBoolean(videoConsumer) &&\n\t\t!videoConsumer.locallyPaused &&\n\t\t!videoConsumer.remotelyPaused\n\t);\n\n    const makeScreenDetails = peerId => {\n        changeDisplayMode('screen', peerId);\n    };\n\n\treturn (\n\t\t\t<PeerViewGrid\n\t\t\t\tpeers={peers}\n                makeScreenDetails={makeScreenDetails}\n\t\t\t\taudioEnabled={audioEnabled}\n\t\t\t\tactiveSpeakerId={activeSpeakerId}\n\t\t\t\tpeer={peer}\n\t\t\t\taudioConsumerId={audioConsumer ? audioConsumer.id : null}\n\t\t\t\tvideoConsumerId={videoConsumer ? videoConsumer.id : null}\n\t\t\t\taudioRtpParameters={audioConsumer ? audioConsumer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoConsumer ? videoConsumer.rtpParameters : null}\n\t\t\t\tconsumerSpatialLayers={videoConsumer ? videoConsumer.spatialLayers : null}\n\t\t\t\tconsumerTemporalLayers={videoConsumer ? videoConsumer.temporalLayers : null}\n\t\t\t\tconsumerCurrentSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerCurrentTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPriority={videoConsumer ? videoConsumer.priority : null}\n\t\t\t\taudioTrack={audioConsumer ? audioConsumer.track : null}\n\t\t\t\tvideoTrack={videoConsumer ? videoConsumer.track : null}\n\t\t\t\taudioMuted={audioMuted}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\tvideoMultiLayer={videoConsumer && videoConsumer.type !== 'simple'}\n\t\t\t\taudioCodec={audioConsumer ? audioConsumer.codec : null}\n\t\t\t\tvideoCodec={videoConsumer ? videoConsumer.codec : null}\n\t\t\t\taudioScore={audioConsumer ? audioConsumer.score : null}\n\t\t\t\tvideoScore={videoConsumer ? videoConsumer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeVideoPreferredLayers={(spatialLayer, temporalLayer) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPreferredLayers(\n\t\t\t\t\t\tvideoConsumer.id, spatialLayer, temporalLayer);\n\t\t\t\t}}\n\t\t\t\tonChangeVideoPriority={(priority) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPriority(videoConsumer.id, priority);\n\t\t\t\t}}\n\t\t\t\tonRequestKeyFrame={() =>\n\t\t\t\t{\n\t\t\t\t\troomClient.requestConsumerKeyFrame(videoConsumer.id);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t);\n};\n\nPeerGrid.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tpeer             : appPropTypes.Peer.isRequired,\n\taudioConsumer    : appPropTypes.Consumer,\n\tvideoConsumer    : appPropTypes.Consumer,\n\taudioMuted       : PropTypes.bool,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state, { id }) =>\n{\n\tconst me = state.me;\n\tconst peer = state.peers[id];\n\n\tconst consumersArray = peer.consumers.map((consumerId) => state.consumers[consumerId]);\n\tconst audioConsumer = consumersArray.find((consumer) => consumer.track.kind === 'audio');\n\tconst videoConsumer = consumersArray.find((consumer) => consumer.track.kind === 'video');\n\n\treturn {\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted    : me.audioMuted,\n\t\tfaceDetection : state.room.faceDetection,\n\t\tactiveSpeakerId : state.room.activeSpeakerId,\n\t\tpeers : state.peers\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n    return {\n        onSetStatsPeerId: (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId)),\n        changeDisplayMode: (mode, screenId) => {\n            dispatch(stateActions.changeDisplayMode(mode, screenId));\n        }\n    };\n};\n\nconst PeerGridContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(PeerGrid));\n\nexport default PeerGridContainer;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactTooltip from 'react-tooltip';\nimport * as appPropTypes from '../appPropTypes';\nimport {withRoomContext} from '../../RoomContext';\nimport * as stateActions from '../../redux/stateActions';\nimport PeerViewGrid from \"./PeerViewGrid\";\n\nclass Me extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis._mounted = false;\n\t\tthis._rootNode = null;\n\t}\n\n\trender()\n\t{\n\t\tconst {\n\t\t\troomClient,\n\t\t\tconnected,\n\t\t\tme,\n\t\t\taudioProducer,\n\t\t\tvideoProducer,\n\t\t\tfaceDetection,\n\t\t\tonSetStatsPeerId,\n            changeDisplayMode,\n\t\t\tpeers\n\t\t} = this.props;\n\n\t\tlet micState;\n\n\t\tif (!me.canSendMic)\n\t\t\tmicState = 'unsupported';\n\t\telse if (!audioProducer)\n\t\t\tmicState = 'unsupported';\n\t\telse if (!audioProducer.paused)\n\t\t\tmicState = 'on';\n\t\telse\n\t\t\tmicState = 'off';\n\n\t\tlet webcamState;\n\n\t\tif (!me.canSendWebcam)\n\t\t\twebcamState = 'unsupported';\n\t\telse if (videoProducer && videoProducer.type !== 'share')\n\t\t\twebcamState = 'on';\n\t\telse\n\t\t\twebcamState = 'off';\n\n\t\tlet changeWebcamState;\n\n\t\tif (Boolean(videoProducer) && videoProducer.type !== 'share' && me.canChangeWebcam)\n\t\t\tchangeWebcamState = 'on';\n\t\telse\n\t\t\tchangeWebcamState = 'unsupported';\n\n\t\tlet shareState;\n\n\t\tif (Boolean(videoProducer) && videoProducer.type === 'share')\n\t\t\tshareState = 'on';\n\t\telse\n\t\t\tshareState = 'off';\n\n\t\tconst videoVisible = Boolean(videoProducer) && !videoProducer.paused;\n\n\t\tlet tip;\n\n\t\tif (!me.displayNameSet)\n\t\t\ttip = 'Click on your name to change it';\n\n        const makeScreenDetails = peerId => {\n            changeDisplayMode('screen', peerId);\n        };\n\n\t\treturn (\n\t\t\t<PeerViewGrid\n\t\t\t\tpeers ={peers}\n                makeScreenDetails={makeScreenDetails}\n\t\t\t\tisMe\n\t\t\t\tpeer={me}\n\t\t\t\taudioProducerId={audioProducer ? audioProducer.id : null}\n\t\t\t\tvideoProducerId={videoProducer ? videoProducer.id : null}\n\t\t\t\taudioRtpParameters={audioProducer ? audioProducer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoProducer ? videoProducer.rtpParameters : null}\n\t\t\t\taudioTrack={audioProducer ? audioProducer.track : null}\n\t\t\t\tvideoTrack={videoProducer ? videoProducer.track : null}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\taudioCodec={audioProducer ? audioProducer.codec : null}\n\t\t\t\tvideoCodec={videoProducer ? videoProducer.codec : null}\n\t\t\t\taudioScore={audioProducer ? audioProducer.score : null}\n\t\t\t\tvideoScore={videoProducer ? videoProducer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeDisplayName={(displayName) => {\n\t\t\t\t\troomClient.changeDisplayName(displayName);\n\t\t\t\t}}\n\t\t\t\tonChangeMaxSendingSpatialLayer={(spatialLayer) => {\n\t\t\t\t\troomClient.setMaxSendingSpatialLayer(spatialLayer);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t\t);\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tthis._mounted = true;\n\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tif (!this._mounted || this.props.me.displayNameSet)\n\t\t\t\treturn;\n\n\t\t\tReactTooltip.show(this._rootNode);\n\t\t}, 4000);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tthis._mounted = false;\n\t}\n\n\tcomponentDidUpdate(prevProps)\n\t{\n\t\tif (!prevProps.me.displayNameSet && this.props.me.displayNameSet)\n\t\t\tReactTooltip.hide(this._rootNode);\n\t}\n}\n\nMe.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tconnected        : PropTypes.bool.isRequired,\n\tme               : appPropTypes.Me.isRequired,\n\taudioProducer    : appPropTypes.Producer,\n\tvideoProducer    : appPropTypes.Producer,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) =>\n{\n\tconst producersArray = Object.values(state.producers);\n\tconst audioProducer =\n\t\tproducersArray.find((producer) => producer.track.kind === 'audio');\n\tconst videoProducer =\n\t\tproducersArray.find((producer) => producer.track.kind === 'video');\n\n\treturn {\n\t\tconnected     : state.room.state === 'connected',\n\t\tme            : state.me,\n\t\taudioProducer : audioProducer,\n\t\tvideoProducer : videoProducer,\n\t\tfaceDetection : state.room.faceDetection,\n\t\tpeers : state.peers\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n    return {\n        onSetStatsPeerId: (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId)),\n        changeDisplayMode: (mode, screenId) => {\n            dispatch(stateActions.changeDisplayMode(mode, screenId));\n        }\n    };\n};\n\nconst MeContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Me));\n\nexport default MeContainer;\n","import React from \"react\";\nimport PeerGrid from \"./PeerGrid\";\nimport BottomMenu from \"../BottomMenu\";\nimport speakerView from '../img/speakerview.svg';\nimport gridView from '../img/grid_view.svg';\nimport {connect} from \"react-redux\";\nimport {If} from \"react-if\";\nimport Me from \"./Me\";\nimport * as stateActions from \"../../redux/stateActions\";\nimport Header from \"../Header\";\n\nconst GridMain = ({peers, changeDisplayMode}) => {\n\n    const [count, setCount] = React.useState(1);\n    const PER_PAGE = 11;\n\n    const pagination = (items, current_page, per_page_items) => {\n        let page = current_page || 1,\n            per_page = per_page_items || 10,\n            offset = (page - 1) * per_page,\n\n            paginatedItems = items.slice(offset).slice(0, per_page_items),\n            total_pages = Math.ceil(items.length / per_page);\n\n        return {\n            page: page,\n            per_page: per_page,\n            pre_page: page - 1 ? page - 1 : null,\n            next_page: (total_pages > page) ? page + 1 : null,\n            total: items.length,\n            total_pages: total_pages,\n            data: paginatedItems\n        };\n    };\n\n    return (\n        <main>\n            <div id=\"clearfullview\" className=\"container-fuid card clearfullview\">\n                <Header/>\n                <div className=\"btn-group btn-group-sm top-right-button c-gray\">\n                    <a onClick={() => {\n                        changeDisplayMode('speaker');\n                    }} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Speaker View\">\n                        <img src={speakerView}/></a>&nbsp;&nbsp;\n                    <a onClick={() => {\n                        changeDisplayMode('grid');\n                    }} data-toggle=\"tooltip\" data-placement=\"top\" title=\"List View\">\n                        <img src={gridView}/></a>\n                </div>\n\n                <div className=\"col-lg-11 col-md-11 col-lx-12 margin\"\n                     style={{margin: 'auto', padding: '8px 5% 0px 5%'}}>\n                    <div className=\"min-hidgrid\">\n                        <div id=\"galleryview\" className=\"d-flex flex-wrap justify-content-center p-relative wrap\">\n                            <Me/>\n                            {pagination(peers, count, PER_PAGE).data.map((peer) => <PeerGrid key={peer.id}\n                                                                                             id={peer.id}/>)}\n                        </div>\n                    </div>\n\n                    <BottomMenu/>\n\n                    <If condition={Boolean(pagination(peers, count, PER_PAGE).pre_page)}>\n                        <a className=\"left carousel-control shado-baground-textC\" onClick={() => setCount(count - 1)}>\n                            <i className=\"fa fa-angle-left\" aria-hidden=\"true\"/>\n                        </a>\n                    </If>\n                    <If condition={Boolean(pagination(peers, count, PER_PAGE).next_page)}>\n                        <a className=\"right carousel-control shado-baground-textC\" onClick={() => setCount(count + 1)}>\n                            <i className=\"fa fa-angle-right\" aria-hidden=\"true\"/>\n                        </a>\n                    </If>\n                </div>\n            </div>\n        </main>\n    );\n};\n\nconst mapStateToProps = (state) =>\n{\n    const peersArray = Object.values(state.peers);\n\n    return {\n        peers           : peersArray\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeDisplayMode: (mode) => {\n            dispatch(stateActions.changeDisplayMode(mode, null));\n        }\n    };\n};\n\nconst GridMainContainer = connect(\n    mapStateToProps,\n    mapDispatchToProps)\n(GridMain);\n\n\n\nexport default GridMainContainer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport hark from 'hark';\nimport * as faceapi from 'face-api.js';\nimport Logger from '../../Logger';\nimport * as appPropTypes from '../appPropTypes';\nimport {Else, If, Then} from \"react-if\";\n\nconst logger = new Logger('MeBottomPortionView');\n\nconst tinyFaceDetectorOptions = new faceapi.TinyFaceDetectorOptions(\n\t{\n\t\tinputSize      : 160,\n\t\tscoreThreshold : 0.5\n\t});\n\nexport default class MeBottomPortionView extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis.state =\n\t\t{\n\t\t\taudioVolume           : 0, // Integer from 0 to 10.,\n\t\t\tshowInfo              : window.SHOW_INFO || false,\n\t\t\tvideoResolutionWidth  : null,\n\t\t\tvideoResolutionHeight : null,\n\t\t\tvideoCanPlay          : false,\n\t\t\tvideoElemPaused       : false,\n\t\t\tmaxSpatialLayer       : null\n\t\t};\n\n\t\t// Latest received video track.\n\t\t// @type {MediaStreamTrack}\n\t\t// this._audioTrack = null;\n\n\t\t// Latest received video track.\n\t\t// @type {MediaStreamTrack}\n\t\tthis._videoTrack = null;\n\n\t\t// Hark instance.\n\t\t// @type {Object}\n\t\tthis._hark = null;\n\n\t\t// Periodic timer for reading video resolution.\n\t\tthis._videoResolutionPeriodicTimer = null;\n\n\t\t// requestAnimationFrame for face detection.\n\t\tthis._faceDetectionRequestAnimationFrame = null;\n\t}\n\n\trender()\n\t{\n\t\tconst {\n\t\t\tisMe,\n\t\t\tpeer,\n\t\t\taudioProducerId,\n\t\t\tvideoProducerId,\n\t\t\taudioConsumerId,\n\t\t\tvideoConsumerId,\n\t\t\tvideoRtpParameters,\n\t\t\tconsumerSpatialLayers,\n\t\t\tconsumerTemporalLayers,\n\t\t\tconsumerCurrentSpatialLayer,\n\t\t\tconsumerCurrentTemporalLayer,\n\t\t\tconsumerPreferredSpatialLayer,\n\t\t\tconsumerPreferredTemporalLayer,\n\t\t\tconsumerPriority,\n\t\t\taudioMuted,\n\t\t\tvideoVisible,\n\t\t\tvideoMultiLayer,\n\t\t\taudioCodec,\n\t\t\tvideoCodec,\n\t\t\taudioScore,\n\t\t\tvideoScore,\n\t\t\tonChangeDisplayName,\n\t\t\tonChangeMaxSendingSpatialLayer,\n\t\t\tonChangeVideoPreferredLayers,\n\t\t\tonChangeVideoPriority,\n\t\t\tonRequestKeyFrame,\n\t\t\tonStatsClick,\n\t\t\tactiveSpeakerId,\n\t\t\taudioEnabled\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\taudioVolume,\n\t\t\tshowInfo,\n\t\t\tvideoResolutionWidth,\n\t\t\tvideoResolutionHeight,\n\t\t\tvideoCanPlay,\n\t\t\tvideoElemPaused,\n\t\t\tmaxSpatialLayer\n\t\t} = this.state;\n\n        return (\n            <div className=\"singal-profile w-100 d-flex justify-content-center mt-3\">\n                <div className=\"participant border\">\n                    <a className=\"thumbnail\">\n\n                        <video\n                            ref='videoElem'\n                            style={{\n                                outlineStyle: \"none\",\n                                weight: \"100%\"\n                            }}\n                            autoPlay\n                            playsInline\n                            muted\n                            controls={false}\n                        />\n\n\n\n                        <div className=\"description\">\n                            <If condition={isMe === true}>\n                                <Then>\n                                    <h4>{this.truncatedText(peer.displayName)} (Me)</h4>\n                                </Then>\n                                <Else>\n                                    <h4>\n                                        {this.truncatedText(peer.displayName)}\n                                        <If condition={!videoVisible}>\n                                            <i className=\"material-icons\">videocam_off</i>\n                                        </If>\n                                        <If condition={!audioEnabled}>\n                                            <i className=\"material-icons\">mic_off</i>\n                                        </If>\n                                    </h4>\n                                </Else>\n\n                            </If>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        );\n\t}\n\n    truncatedText(str) {\n        let length = 13;\n        let ending = '...';\n        return str.length > length ? str.substring(0, length - ending.length) + ending : str;\n    }\n\n\tcomponentDidMount()\n\t{\n\t\tconst { audioTrack, videoTrack } = this.props;\n\n\t\tthis._setTracks(audioTrack, videoTrack);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tif (this._hark)\n\t\t\tthis._hark.stop();\n\n\t\tclearInterval(this._videoResolutionPeriodicTimer);\n\t\tcancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n\t\tconst { videoElem } = this.refs;\n\n\t\tif (videoElem)\n\t\t{\n\t\t\tvideoElem.oncanplay = null;\n\t\t\tvideoElem.onplay = null;\n\t\t\tvideoElem.onpause = null;\n\t\t}\n\t}\n\n\tcomponentWillUpdate()\n\t{\n\t\tconst {\n\t\t\tisMe,\n\t\t\taudioTrack,\n\t\t\tvideoTrack,\n\t\t\tvideoRtpParameters\n\t\t} = this.props;\n\n\t\tconst { maxSpatialLayer } = this.state;\n\n\t\tif (isMe && videoRtpParameters && maxSpatialLayer === null)\n\t\t{\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tmaxSpatialLayer : videoRtpParameters.encodings.length - 1\n\t\t\t\t});\n\t\t}\n\t\telse if (isMe && !videoRtpParameters && maxSpatialLayer !== null)\n\t\t{\n\t\t\tthis.setState({ maxSpatialLayer: null });\n\t\t}\n\n\t\tthis._setTracks(audioTrack, videoTrack);\n\t}\n\n\t_setTracks(audioTrack, videoTrack)\n\t{\n\t\tconst { faceDetection } = this.props;\n\n\t\tif (this._audioTrack === audioTrack && this._videoTrack === videoTrack)\n\t\t\treturn;\n\n\t\tthis._audioTrack = audioTrack;\n\t\tthis._videoTrack = videoTrack;\n\n\t\tif (this._hark)\n\t\t\tthis._hark.stop();\n\n\t\tthis._stopVideoResolution();\n\n\t\tif (faceDetection)\n\t\t\tthis._stopFaceDetection();\n\n\t\tconst { videoElem } = this.refs;\n\t\t// const { audioElem, videoElem } = this.refs;\n\n\t\t/*if (audioTrack)\n\t\t{\n\t\t\tconst stream = new MediaStream;\n\n\t\t\tstream.addTrack(audioTrack);\n\t\t\taudioElem.srcObject = stream;\n\n\t\t\taudioElem.play()\n\t\t\t\t.catch((error) => logger.warn('audioElem.play() failed:%o', error));\n\n\t\t\tthis._runHark(stream);\n\t\t}\n\t\telse\n\t\t{\n\t\t\taudioElem.srcObject = null;\n\t\t}*/\n\n\t\tif (videoTrack)\n\t\t{\n\t\t\tconst stream = new MediaStream;\n\n\t\t\tstream.addTrack(videoTrack);\n\t\t\tvideoElem.srcObject = stream;\n\n\t\t\tvideoElem.oncanplay = () => this.setState({ videoCanPlay: true });\n\n\t\t\tvideoElem.onplay = () =>\n\t\t\t{\n\t\t\t\tthis.setState({ videoElemPaused: false });\n\n\t\t\t\t/*audioElem.play()\n\t\t\t\t\t.catch((error) => logger.warn('audioElem.play() failed:%o', error));*/\n\t\t\t};\n\n\t\t\tvideoElem.onpause = () => this.setState({ videoElemPaused: true });\n\n\t\t\tvideoElem.play()\n\t\t\t\t.catch((error) => logger.warn('videoElem.play() failed:%o', error));\n\n\t\t\tthis._startVideoResolution();\n\n\t\t\tif (faceDetection)\n\t\t\t\tthis._startFaceDetection();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvideoElem.srcObject = null;\n\t\t}\n\t}\n\n\t_runHark(stream)\n\t{\n\t\tif (!stream.getAudioTracks()[0])\n\t\t\tthrow new Error('_runHark() | given stream has no audio track');\n\n\t\tthis._hark = hark(stream, { play: false });\n\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tthis._hark.on('volume_change', (dBs, threshold) =>\n\t\t{\n\t\t\t// The exact formula to convert from dBs (-100..0) to linear (0..1) is:\n\t\t\t//   Math.pow(10, dBs / 20)\n\t\t\t// However it does not produce a visually useful output, so let exagerate\n\t\t\t// it a bit. Also, let convert it from 0..1 to 0..10 and avoid value 1 to\n\t\t\t// minimize component renderings.\n\t\t\tlet audioVolume = Math.round(Math.pow(10, dBs / 85) * 10);\n\n\t\t\tif (audioVolume === 1)\n\t\t\t\taudioVolume = 0;\n\n\t\t\tif (audioVolume !== this.state.audioVolume)\n\t\t\t\tthis.setState({ audioVolume });\n\t\t});\n\t}\n\n\t_startVideoResolution()\n\t{\n\t\tthis._videoResolutionPeriodicTimer = setInterval(() =>\n\t\t{\n\t\t\tconst { videoResolutionWidth, videoResolutionHeight } = this.state;\n\t\t\tconst { videoElem } = this.refs;\n\n\t\t\tif (\n\t\t\t\tvideoElem.videoWidth !== videoResolutionWidth ||\n\t\t\t\tvideoElem.videoHeight !== videoResolutionHeight\n\t\t\t)\n\t\t\t{\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tvideoResolutionWidth  : videoElem.videoWidth,\n\t\t\t\t\t\tvideoResolutionHeight : videoElem.videoHeight\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\t_stopVideoResolution()\n\t{\n\t\tclearInterval(this._videoResolutionPeriodicTimer);\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tvideoResolutionWidth  : null,\n\t\t\t\tvideoResolutionHeight : null\n\t\t\t});\n\t}\n\n\t_startFaceDetection()\n\t{\n\t\tconst { videoElem, canvas } = this.refs;\n\n\t\tconst step = async () =>\n\t\t{\n\t\t\t// NOTE: Somehow this is critical. Otherwise the Promise returned by\n\t\t\t// faceapi.detectSingleFace() never resolves or rejects.\n\t\t\tif (!this._videoTrack || videoElem.readyState < 2)\n\t\t\t{\n\t\t\t\tthis._faceDetectionRequestAnimationFrame = requestAnimationFrame(step);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst detection =\n\t\t\t\tawait faceapi.detectSingleFace(videoElem, tinyFaceDetectorOptions);\n\n\t\t\tif (detection)\n\t\t\t{\n\t\t\t\tconst width = videoElem.offsetWidth;\n\t\t\t\tconst height = videoElem.offsetHeight;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\t// const resizedDetection = detection.forSize(width, height);\n\t\t\t\tconst resizedDetections =\n\t\t\t\t\tfaceapi.resizeResults(detection, { width, height });\n\n\t\t\t\tfaceapi.draw.drawDetections(canvas, resizedDetections);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Trick to hide the canvas rectangle.\n\t\t\t\tcanvas.width = 0;\n\t\t\t\tcanvas.height = 0;\n\t\t\t}\n\n\t\t\tthis._faceDetectionRequestAnimationFrame =\n\t\t\t\trequestAnimationFrame(() => setTimeout(step, 100));\n\t\t};\n\n\t\tstep();\n\t}\n\n\t_stopFaceDetection()\n\t{\n\t\tcancelAnimationFrame(this._faceDetectionRequestAnimationFrame);\n\n\t\tconst { canvas } = this.refs;\n\n\t\tcanvas.width = 0;\n\t\tcanvas.height = 0;\n\t}\n\n\n}\n\nMeBottomPortionView.propTypes =\n{\n\tisMe : PropTypes.bool,\n\tpeer : PropTypes.oneOfType(\n\t\t[ appPropTypes.Me, appPropTypes.Peer ]).isRequired,\n\taudioProducerId                : PropTypes.string,\n\tvideoProducerId                : PropTypes.string,\n\taudioConsumerId                : PropTypes.string,\n\tvideoConsumerId                : PropTypes.string,\n\taudioRtpParameters             : PropTypes.object,\n\tvideoRtpParameters             : PropTypes.object,\n\tconsumerSpatialLayers          : PropTypes.number,\n\tconsumerTemporalLayers         : PropTypes.number,\n\tconsumerCurrentSpatialLayer    : PropTypes.number,\n\tconsumerCurrentTemporalLayer   : PropTypes.number,\n\tconsumerPreferredSpatialLayer  : PropTypes.number,\n\tconsumerPreferredTemporalLayer : PropTypes.number,\n\tconsumerPriority               : PropTypes.number,\n\taudioTrack                     : PropTypes.any,\n\tvideoTrack                     : PropTypes.any,\n\taudioMuted                     : PropTypes.bool,\n\tvideoVisible                   : PropTypes.bool.isRequired,\n\tvideoMultiLayer                : PropTypes.bool,\n\taudioCodec                     : PropTypes.string,\n\tvideoCodec                     : PropTypes.string,\n\taudioScore                     : PropTypes.any,\n\tvideoScore                     : PropTypes.any,\n\tfaceDetection                  : PropTypes.bool.isRequired,\n\tonChangeDisplayName            : PropTypes.func,\n\tonChangeMaxSendingSpatialLayer : PropTypes.func,\n\tonChangeVideoPreferredLayers   : PropTypes.func,\n\tonChangeVideoPriority          : PropTypes.func,\n\tonRequestKeyFrame              : PropTypes.func,\n\tonStatsClick                   : PropTypes.func.isRequired\n};\n","import React from \"react\";\n\nclass SliderParticipant extends React.Component {\n  render() {\n    return (\n      <div className=\"participant\">\n        <a className=\"thumbnail\">\n          <video>\n            <source src=\"https://www.w3schools.com/html/mov_bbb.mp4\" type=\"video/mp4\" /> Your browser cannot play\n            this video.\n          </video>\n          <div className=\"description\">\n            <h4>\n              Ninad Hossain <i className=\"material-icons\">mic_none</i>\n            </h4>\n          </div>\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default SliderParticipant;\n","import React from \"react\";\nimport SliderParticipant from \"./SliderParticipant\";\n\nclass TopPortion extends React.Component {\n  render() {\n      return (\n          <div className=\"row mt-2\">\n              <div className=\"col-sm-1 d-lx-none\">\n                  &nbsp;\n              </div>\n              {/*===== left side blank ====*/}\n              {/*================ Slider Section =================*/}\n              <div id=\"thumvideo\" className=\"col-md-10 bg-white p-2\">\n                  <div className=\"d-flex flex-nowrap sliderview\">\n                      <div className=\"participant\">\n                          {/* participant Grid iteam*/}\n                          <a href=\"javascript:void(0)\" className=\"thumbnail\">\n                              <video autoPlay=\"autoplay\">\n                                  <source src=\"text1.mp4\" type=\"video/mp4\"/>\n                                  Your browser cannot play this video.\n                              </video>\n                              <div className=\"description\">\n                                  <h4>Ninad Hossain <i className=\"material-icons\">mic_none</i></h4>\n                              </div>\n                          </a>\n                      </div>\n                      <div className=\"participant\">\n                          {/* participant Grid iteam*/}\n                          <a href=\"javascript:void(0)\" className=\"thumbnail\">\n                              <video autoPlay=\"autoplay\">\n                                  <source src=\"text.mp4\" type=\"video/mp4\"/>\n                                  Your browser cannot play this video.\n                              </video>\n                              <div className=\"description\">\n                                  <h4>Ninad Hossain <i className=\"material-icons\">mic_none</i></h4>\n                              </div>\n                          </a>\n                      </div>\n                      <div className=\"participant\">\n                          {/* participant Grid iteam*/}\n                          <a href=\"javascript:void(0)\" className=\"thumbnail\">\n                              <video style={{outlineStyle: 'none'}} loop=\"true\" autoPlay=\"autoplay\">\n                                  <source src=\"text.mp4\" type=\"video/mp4\"/>\n                                  Your browser cannot play this video.\n                              </video>\n                              <div className=\"description\">\n                                  <h4>Ninad Hossain <i className=\"material-icons\">mic_off</i></h4>\n                              </div>\n                          </a>\n                      </div>\n                      <div className=\"participant\">\n                          {/* participant Grid iteam*/}\n                          <a href=\"javascript:void(0)\" className=\"thumbnail\">\n                              <video style={{outlineStyle: 'none'}} loop=\"true\" autoPlay=\"autoplay\">\n                                  <source src=\"text.mp4\" type=\"video/mp4\"/>\n                                  Your browser cannot play this video.\n                              </video>\n                              <div className=\"description\">\n                                  <h4>Ninad Hossain <i className=\"material-icons\">mic_off</i></h4>\n                              </div>\n                          </a>\n                      </div>\n                      {/* Left and right controls */}\n                      <a style={{margin: 0, padding: '5px 9px 5px 18px', top: '40%'}}\n                         className=\"left carousel-control shado-baground-textC\" href=\"javascript void(0)\"\n                         data-slide=\"prev\"><i className=\"fa fa-angle-left\"/></a>\n                      <a style={{margin: 0, padding: '5px 17px 5px 12px', top: '40%'}}\n                         className=\"right carousel-control shado-baground-textC\" href=\"javascript void(0)\"\n                         data-slide=\"next\"><i className=\"fa fa-angle-right\"/></a>\n                  </div>\n              </div>\n              {/*============== End Slider Section ==============*/}\n              {/*=== section for List View and Spkaer View ===*/}\n              <div className=\"col-md-1\">\n                  <div className=\"row\">\n                      <div className=\"col-sm-12 text-right\">\n                          <div className=\"btn-group btn-group-sm c-gray\">\n                              <a hrfe=\"#\" onClick=\"spkaerview()\" data-toggle=\"tooltip\" data-placement=\"top\"\n                                 title=\"Spkaer View\"><img src=\"img/speakerview.svg\"/></a>&nbsp;&nbsp;\n                              <a hrfe=\"#\" onClick=\"gridview()\" data-toggle=\"tooltip\" data-placement=\"top\"\n                                 title=\"List View\"><img src=\"img/grid_view.svg\"/></a>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n              {/*=== End ===*/}\n          </div>\n\n      );\n  }\n}\n\nexport default TopPortion;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactTooltip from 'react-tooltip';\nimport * as appPropTypes from '../appPropTypes';\nimport {withRoomContext} from '../../RoomContext';\nimport * as stateActions from '../../redux/stateActions';\nimport MeBottomPortionView from \"./MeBottomPortionView\";\n\nclass MeBottomPortion extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\n\t\tthis._mounted = false;\n\t\tthis._rootNode = null;\n\t}\n\n\trender()\n\t{\n\t\tconst {\n\t\t\troomClient,\n\t\t\tconnected,\n\t\t\tme,\n\t\t\taudioProducer,\n\t\t\tvideoProducer,\n\t\t\tfaceDetection,\n\t\t\tonSetStatsPeerId\n\t\t} = this.props;\n\n\t\tlet micState;\n\n\t\tif (!me.canSendMic)\n\t\t\tmicState = 'unsupported';\n\t\telse if (!audioProducer)\n\t\t\tmicState = 'unsupported';\n\t\telse if (!audioProducer.paused)\n\t\t\tmicState = 'on';\n\t\telse\n\t\t\tmicState = 'off';\n\n\t\tlet webcamState;\n\n\t\tif (!me.canSendWebcam)\n\t\t\twebcamState = 'unsupported';\n\t\telse if (videoProducer && videoProducer.type !== 'share')\n\t\t\twebcamState = 'on';\n\t\telse\n\t\t\twebcamState = 'off';\n\n\t\tlet changeWebcamState;\n\n\t\tif (Boolean(videoProducer) && videoProducer.type !== 'share' && me.canChangeWebcam)\n\t\t\tchangeWebcamState = 'on';\n\t\telse\n\t\t\tchangeWebcamState = 'unsupported';\n\n\t\tlet shareState;\n\n\t\tif (Boolean(videoProducer) && videoProducer.type === 'share')\n\t\t\tshareState = 'on';\n\t\telse\n\t\t\tshareState = 'off';\n\n\t\tconst videoVisible = Boolean(videoProducer) && !videoProducer.paused;\n\n\t\tlet tip;\n\n\t\tif (!me.displayNameSet)\n\t\t\ttip = 'Click on your name to change it';\n\n\t\treturn (\n\t\t\t<MeBottomPortionView\n\t\t\t\tisMe\n\t\t\t\tpeer={me}\n\t\t\t\taudioProducerId={audioProducer ? audioProducer.id : null}\n\t\t\t\tvideoProducerId={videoProducer ? videoProducer.id : null}\n\t\t\t\taudioRtpParameters={audioProducer ? audioProducer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoProducer ? videoProducer.rtpParameters : null}\n\t\t\t\taudioTrack={audioProducer ? audioProducer.track : null}\n\t\t\t\tvideoTrack={videoProducer ? videoProducer.track : null}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\taudioCodec={audioProducer ? audioProducer.codec : null}\n\t\t\t\tvideoCodec={videoProducer ? videoProducer.codec : null}\n\t\t\t\taudioScore={audioProducer ? audioProducer.score : null}\n\t\t\t\tvideoScore={videoProducer ? videoProducer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeDisplayName={(displayName) => {\n\t\t\t\t\troomClient.changeDisplayName(displayName);\n\t\t\t\t}}\n\t\t\t\tonChangeMaxSendingSpatialLayer={(spatialLayer) => {\n\t\t\t\t\troomClient.setMaxSendingSpatialLayer(spatialLayer);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t\t);\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tthis._mounted = true;\n\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tif (!this._mounted || this.props.me.displayNameSet)\n\t\t\t\treturn;\n\n\t\t\tReactTooltip.show(this._rootNode);\n\t\t}, 4000);\n\t}\n\n\tcomponentWillUnmount()\n\t{\n\t\tthis._mounted = false;\n\t}\n\n\tcomponentDidUpdate(prevProps)\n\t{\n\t\tif (!prevProps.me.displayNameSet && this.props.me.displayNameSet)\n\t\t\tReactTooltip.hide(this._rootNode);\n\t}\n}\n\nMeBottomPortion.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tconnected        : PropTypes.bool.isRequired,\n\tme               : appPropTypes.Me.isRequired,\n\taudioProducer    : appPropTypes.Producer,\n\tvideoProducer    : appPropTypes.Producer,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) =>\n{\n\tconst producersArray = Object.values(state.producers);\n\tconst audioProducer =\n\t\tproducersArray.find((producer) => producer.track.kind === 'audio');\n\tconst videoProducer =\n\t\tproducersArray.find((producer) => producer.track.kind === 'video');\n\n\treturn {\n\t\tconnected     : state.room.state === 'connected',\n\t\tme            : state.me,\n\t\taudioProducer : audioProducer,\n\t\tvideoProducer : videoProducer,\n\t\tfaceDetection : state.room.faceDetection\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tonSetStatsPeerId : (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId))\n\t};\n};\n\nconst MeMeBottomPortionContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(MeBottomPortion));\n\nexport default MeMeBottomPortionContainer;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as appPropTypes from '../appPropTypes';\nimport {withRoomContext} from '../../RoomContext';\nimport * as stateActions from '../../redux/stateActions';\nimport MeBottomPortionView from \"./MeBottomPortionView\";\n\nconst PeerBottomPortion = (props) =>\n{\n\tconst {\n\t\troomClient,\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted,\n\t\tfaceDetection,\n\t\tonSetStatsPeerId,\n\t\tactiveSpeakerId\n\t} = props;\n\n\tconst audioEnabled = (\n\t\tBoolean(audioConsumer) &&\n\t\t!audioConsumer.locallyPaused &&\n\t\t!audioConsumer.remotelyPaused\n\t);\n\n\tconst videoVisible = (\n\t\tBoolean(videoConsumer) &&\n\t\t!videoConsumer.locallyPaused &&\n\t\t!videoConsumer.remotelyPaused\n\t);\n\n\treturn (\n\t\t\t<MeBottomPortionView\n\t\t\t\taudioEnabled={audioEnabled}\n\t\t\t\tactiveSpeakerId={activeSpeakerId}\n\t\t\t\tpeer={peer}\n\t\t\t\taudioConsumerId={audioConsumer ? audioConsumer.id : null}\n\t\t\t\tvideoConsumerId={videoConsumer ? videoConsumer.id : null}\n\t\t\t\taudioRtpParameters={audioConsumer ? audioConsumer.rtpParameters : null}\n\t\t\t\tvideoRtpParameters={videoConsumer ? videoConsumer.rtpParameters : null}\n\t\t\t\tconsumerSpatialLayers={videoConsumer ? videoConsumer.spatialLayers : null}\n\t\t\t\tconsumerTemporalLayers={videoConsumer ? videoConsumer.temporalLayers : null}\n\t\t\t\tconsumerCurrentSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerCurrentTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.currentTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredSpatialLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredSpatialLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPreferredTemporalLayer={\n\t\t\t\t\tvideoConsumer ? videoConsumer.preferredTemporalLayer : null\n\t\t\t\t}\n\t\t\t\tconsumerPriority={videoConsumer ? videoConsumer.priority : null}\n\t\t\t\taudioTrack={audioConsumer ? audioConsumer.track : null}\n\t\t\t\tvideoTrack={videoConsumer ? videoConsumer.track : null}\n\t\t\t\taudioMuted={audioMuted}\n\t\t\t\tvideoVisible={videoVisible}\n\t\t\t\tvideoMultiLayer={videoConsumer && videoConsumer.type !== 'simple'}\n\t\t\t\taudioCodec={audioConsumer ? audioConsumer.codec : null}\n\t\t\t\tvideoCodec={videoConsumer ? videoConsumer.codec : null}\n\t\t\t\taudioScore={audioConsumer ? audioConsumer.score : null}\n\t\t\t\tvideoScore={videoConsumer ? videoConsumer.score : null}\n\t\t\t\tfaceDetection={faceDetection}\n\t\t\t\tonChangeVideoPreferredLayers={(spatialLayer, temporalLayer) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPreferredLayers(\n\t\t\t\t\t\tvideoConsumer.id, spatialLayer, temporalLayer);\n\t\t\t\t}}\n\t\t\t\tonChangeVideoPriority={(priority) =>\n\t\t\t\t{\n\t\t\t\t\troomClient.setConsumerPriority(videoConsumer.id, priority);\n\t\t\t\t}}\n\t\t\t\tonRequestKeyFrame={() =>\n\t\t\t\t{\n\t\t\t\t\troomClient.requestConsumerKeyFrame(videoConsumer.id);\n\t\t\t\t}}\n\t\t\t\tonStatsClick={onSetStatsPeerId}\n\t\t\t/>\n\t);\n};\n\nPeerBottomPortion.propTypes =\n{\n\troomClient       : PropTypes.any.isRequired,\n\tpeer             : appPropTypes.Peer.isRequired,\n\taudioConsumer    : appPropTypes.Consumer,\n\tvideoConsumer    : appPropTypes.Consumer,\n\taudioMuted       : PropTypes.bool,\n\tfaceDetection    : PropTypes.bool.isRequired,\n\tonSetStatsPeerId : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state, { id }) =>\n{\n\tconst me = state.me;\n\tconst peer = state.peers[id];\n\n\tconst consumersArray = peer.consumers.map((consumerId) => state.consumers[consumerId]);\n\tconst audioConsumer = consumersArray.find((consumer) => consumer.track.kind === 'audio');\n\tconst videoConsumer = consumersArray.find((consumer) => consumer.track.kind === 'video');\n\n\treturn {\n\t\tpeer,\n\t\taudioConsumer,\n\t\tvideoConsumer,\n\t\taudioMuted    : me.audioMuted,\n\t\tfaceDetection : state.room.faceDetection,\n\t\tactiveSpeakerId : state.room.activeSpeakerId\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tonSetStatsPeerId : (peerId) => dispatch(stateActions.setRoomStatsPeerId(peerId))\n\t};\n};\n\nconst PeerBottomPortionContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(PeerBottomPortion));\n\nexport default PeerBottomPortionContainer;\n","import React from \"react\";\nimport TopPortion from \"./TopPortion\";\nimport BottomMenu from \"../BottomMenu\";\nimport MeBottomPortion from \"./MeBottomPortion\";\nimport {withRoomContext} from \"../../RoomContext\";\nimport {connect} from \"react-redux\";\nimport PeerBottomPortion from \"./PeerBottomPortion\";\nimport {Else, If, Then} from \"react-if\";\n\nconst LeftPanelPart = (props) => {\n\n    const {activeSpeakerId, amActiveSpeaker} = props;\n\n    return <div className=\"col-md-9\">\n        {/*<TopPortion/>*/}\n        <If condition={Boolean(activeSpeakerId) === true}>\n            <Then>\n                <If condition={amActiveSpeaker}>\n                    <Then><MeBottomPortion/></Then>\n                    <Else><PeerBottomPortion id={activeSpeakerId}/></Else>\n                </If>\n            </Then>\n            <Else>\n                <MeBottomPortion/>\n            </Else>\n        </If>\n        <BottomMenu/>\n    </div>;\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        activeSpeakerId: state.room.activeSpeakerId,\n        amActiveSpeaker: state.me.id === state.room.activeSpeakerId\n    };\n};\n\nconst LeftPanelPartContainer = withRoomContext(connect(\n    mapStateToProps,\n    null\n)(LeftPanelPart));\n\n\nexport default LeftPanelPartContainer;\n","import React from \"react\";\nimport * as appPropTypes from \"../appPropTypes\";\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport * as requestActions from \"../../redux/requestActions\";\nimport {withRoomContext} from \"../../RoomContext\";\n\nconst SiderBarFooter = (props) => {\n\n    const [message, setMessage] = React.useState(\"\");\n    const [receiver, setReceiver] = React.useState(\"0\");\n    const [members, setMembers] = React.useState([]);\n\n    const {peers, invalidMessage, roomClient} = props;\n\n    React.useEffect(() => {\n        let map = peers.map(m => ({displayName: m.displayName, id: m.id}));\n        setMembers(map);\n\n    }, [peers]);\n\n\n    const sendMessageEnter = e => {\n\n        if (!Boolean(e.target.value)) {\n            return false;\n        }\n\n        if (e.key === 'Enter') {\n\n            const messagePayload = {message, receiver, time: new Date().getTime()};\n\n            setMessage(\"\");\n            e.preventDefault();\n\n            if (Number(receiver) === 0 || (!members.some(member => member.id === receiver) && Number(receiver) !== 1)) {\n                invalidMessage();\n                return;\n            }\n\n            const payload = {...messagePayload, group: Number(receiver) === 1};\n\n            roomClient.meetingChat(payload);\n        }\n    };\n\n\n    return (\n        <div className=\"siderbarfooter text-center col border-top\">\n            <div className=\"row\">\n\n                <form\n                    id=\"chatMessage\"\n                    style={{\n                        width: \"100%\"\n                    }}\n                    name=\"chatMessage\"\n                >\n\n                    <div className=\"col-sm-12\">\n                        <div className=\"row\">\n                            <div className=\"input-group p-1\">\n                                <label\n                                    className=\"input-group-text c-text\"\n                                    htmlFor=\"inputGroupSelect01\"\n                                    style={{border: \"unset\", background: \"unset\"}}\n                                >\n                                    To:\n                                </label>\n                                <select\n                                    defaultValue={'0'}\n                                    className=\"custom-select selectCustom pd5\"\n                                    id=\"inputGroupSelect01\"\n                                    onChange={(e) => setReceiver(e.target.value)}\n                                >\n                                    <option value=\"0\">select...</option>\n                                    <option value=\"1\">All Participants</option>\n                                    {members.map(peer => <option key={peer.id}\n                                                                 value={peer.id}>{peer.displayName}</option>)}\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"col-sm-12\">\n              <textarea\n                  style={{\n                      border: \"0px\"\n                  }}\n                  placeholder=\"Type Message Here...\"\n                  id=\"messageTypehere\"\n                  onKeyPress={(e) => sendMessageEnter(e)}\n                  onChange={(e) => setMessage(e.target.value)}\n                  value={message}\n              />\n                    </div>\n\n                </form>\n\n            </div>\n        </div>\n    );\n\n};\n\nSiderBarFooter.propTypes =\n    {\n        peers           : PropTypes.arrayOf(appPropTypes.Peer).isRequired,\n        activeSpeakerId : PropTypes.string\n    };\n\nconst mapStateToProps = (state) =>\n{\n    const peersArray = Object.values(state.peers);\n\n    return {\n        peers           : peersArray,\n        activeSpeakerId : state.room.activeSpeakerId,\n        invalidMessage  : PropTypes.func.isRequired\n    };\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n    return {\n        invalidMessage: () => {\n            dispatch(requestActions.notify(\n                {\n                    type : 'error',\n                    text: 'No participant selected'\n                }));\n        }\n    };\n};\n\n\nconst SiderBarFooterContainer = withRoomContext(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SiderBarFooter));\n\n\nexport default SiderBarFooterContainer;\n\n","import React from \"react\";\nimport SiderBarFooter from \"./SiderBarFooter\";\nimport {connect} from \"react-redux\";\nimport classnames from 'classnames';\n\nconst ChatSidebar = (props) => {\n\n    return (\n        <div className=\"col-md-3 nopadding\">\n            <div className=\"search-widget w-100 border-left rounded-left mon-border-4\">\n                <div className=\"sider-barheader\">Group Chat</div>\n\n                <div className=\"message-history nopadding col-md-12\">\n\n                    {props.textMessaging.sort((a, b) => (a.time > b.time) ? 1 : -1)\n                        .map((obj, i) => <p key={i} className={classnames(obj.isMe === true && 'rightText text-right')}\n                                            style={{textAlign:obj.isMe !== true && 'left'}}>\n                            <span>{obj.sender}: {obj.isMe === true && obj.message}</span>\n                            {obj.isMe === false && obj.message}\n                        </p>)}\n                </div>\n\n                <SiderBarFooter/>\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        textMessaging: state.textMessaging\n    };\n};\n\nconst ChatSidebarContainer = connect(\n    mapStateToProps,\n    null\n)(ChatSidebar);\n\nexport default ChatSidebarContainer;\n","import React from \"react\";\nimport {withRoomContext} from \"../../RoomContext\";\nimport {connect} from \"react-redux\";\nimport {If} from \"react-if\";\nimport {db} from \"../../../firebase\";\nimport {useParams} from \"react-router-dom\";\n\nconst SidebarMember = props => {\n\n    let { rid } = useParams();\n\n    const {audioConsumer, videoConsumer, id, roomClient} = props;\n\n    const audioEnabled = (\n        Boolean(audioConsumer) &&\n        !audioConsumer.locallyPaused &&\n        !audioConsumer.remotelyPaused\n    );\n\n    const videoVisible = (\n        Boolean(videoConsumer) &&\n        !videoConsumer.locallyPaused &&\n        !videoConsumer.remotelyPaused\n    );\n\n    const truncatedText = (str) => {\n        let length = 23;\n        let ending = '...';\n        return str.length > length ? str.substring(0, length - ending.length) + ending : str;\n    };\n\n    function hostMuteUnmute(type, peerId) {\n        const meetingId = rid;\n        const userId = JSON.parse(localStorage.getItem(\"user\")).id;\n\n        db.collection(\"meeting\")\n            .where('userId', '==', userId)\n            .where('meetingId', '==', meetingId)\n            .get().then(querySnapshot => {\n\n            if (querySnapshot.size !== 0)\n                roomClient.controlOverAudioVideoByHost({type, peerId});\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n    }\n\n    return <li>\n        <a className=\"d-flex justify-content-between\">\n            <span className=\"material-icons\">person_pin</span>\n            <div className=\"w-75 \">\n                <strong>{truncatedText(props.displayName)}</strong>\n            </div>\n            <div className=\"chat-footer\">\n                <If condition={!videoVisible}>\n                    <i className=\"material-icons\">videocam_off</i>\n                </If>\n                <If condition={videoVisible}>\n                    <i className=\"material-icons\"\n                       onClick={() => hostMuteUnmute('VIDEO', id)}>videocam</i>\n                </If>\n                <If condition={!audioEnabled}>\n                    <i className=\"material-icons\">mic_off</i>\n                </If>\n                <If condition={audioEnabled}>\n                    <i className=\"material-icons\"\n                       onClick={() => hostMuteUnmute('AUDIO', id)}>mic</i>\n                </If>\n            </div>\n        </a>\n    </li>;\n};\n\nconst mapStateToProps = (state, {id}) => {\n    const peer = state.peers[id];\n\n    if (!Boolean(peer)) return {};\n\n    const consumersArray = peer.consumers.map((consumerId) => state.consumers[consumerId]);\n    const audioConsumer = consumersArray.find((consumer) => consumer.track.kind === 'audio');\n    const videoConsumer = consumersArray.find((consumer) => consumer.track.kind === 'video');\n\n    return {\n        peer,\n        audioConsumer,\n        videoConsumer\n    };\n};\n\nconst SidebarMemberContainer = withRoomContext(connect(\n    mapStateToProps,\n    null\n)(SidebarMember));\n\nexport default SidebarMemberContainer;\n","import React from \"react\";\n\nconst SidebarMemberMe = props => {\n\n    const truncatedText = str => {\n        let length = 18;\n        let ending = '...';\n        return str.length > length ? str.substring(0, length - ending.length) + ending : str;\n    };\n\n    return <li>\n        <a className=\"d-flex justify-content-start\">\n            <span className=\"material-icons\">person_pin</span>\n            <div className=\"w-75\">\n                <strong>&nbsp;{truncatedText(props.displayName) + ' (Me)'}</strong>\n            </div>\n            <div className=\"chat-footer\">\n                <span className=\" float-right\"/>\n            </div>\n        </a>\n    </li>;\n};\n\nexport default SidebarMemberMe;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {If} from \"react-if\";\nimport {withRoomContext} from \"../../RoomContext\";\nimport {db} from \"../../../firebase\";\nimport {useParams} from \"react-router-dom\";\n\nconst SideBarUserFooter = ({audioEnabledCount, videoVisibleCount, roomClient}) => {\n\n    let { rid } = useParams();\n\n    const hostMuteUnmuteAll = type => {\n\n        const meetingId = rid;\n        const userId = JSON.parse(localStorage.getItem(\"user\")).id;\n\n        db.collection(\"meeting\")\n            .where('userId', '==', userId)\n            .where('meetingId', '==', meetingId)\n            .get().then(querySnapshot => {\n\n            if (querySnapshot.size !== 0)\n                roomClient.controlOverAudioVideoByHostAll({type});\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n    };\n\n    return <div className=\"list-bottom-action w-100 text-center\">\n\n        <If condition={audioEnabledCount}>\n            <button className=\"mdc-button shado-baground-nocolor radius10-font\" disabled={true}>\n                <span className=\"mdc-button__label\">Unmute All</span>\n            </button>\n        </If>\n\n        <If condition={!audioEnabledCount}>\n            <button\n                onClick={() => hostMuteUnmuteAll('AUDIO')}\n                className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\">\n                <span className=\"mdc-button__label\">Mute All</span>\n            </button>\n        </If>\n\n        <If condition={videoVisibleCount}>\n            <button className=\"mdc-button shado-baground-nocolor radius10-font\" disabled={true}>\n                <span className=\"mdc-button__label\">Start All Video</span>\n            </button>\n        </If>\n\n        <If condition={!videoVisibleCount}>\n            <button\n                onClick={() => hostMuteUnmuteAll('VIDEO')}\n                className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\">\n                <span className=\"mdc-button__label\">Stop All Video</span>\n            </button>\n        </If>\n\n    </div>;\n};\n\nconst mapStateToProps = (state) =>\n{\n    const audioEnabledCount = Object.values(state.consumers)\n        .filter(consumer => Boolean(consumer) && consumer.track.kind === 'audio' &&\n            !consumer.locallyPaused && !consumer.remotelyPaused);\n\n    const videoVisibleCount = Object.values(state.consumers)\n        .filter(consumer => Boolean(consumer) && consumer.track.kind === 'video' &&\n            !consumer.locallyPaused && !consumer.remotelyPaused);\n\n    return {\n        audioEnabledCount: audioEnabledCount == 0,\n        videoVisibleCount: videoVisibleCount == 0\n    };\n};\n\nconst SideBarUserFooterContainer = withRoomContext(connect(\n    mapStateToProps,\n    null\n)(SideBarUserFooter));\n\n\nexport default SideBarUserFooterContainer;","import React from \"react\";\nimport SidebarMember from \"./SidebarMember\";\nimport PropTypes from \"prop-types\";\nimport * as appPropTypes from \"../appPropTypes\";\nimport {connect} from \"react-redux\";\nimport {If} from \"react-if\";\nimport SidebarMemberMe from \"./SidebarMemberMe\";\nimport SideBarUserFooter from \"./SideBarUserFooter\";\n\nconst SidebarUserList = (props) => {\n\n    const {peers, me} = props;\n\n    const [search, setSearch] = React.useState(\"\");\n    const [members, setMembers] = React.useState([]);\n\n    React.useEffect(() => {\n        let map = peers.map(m => ({displayName: m.displayName, id: m.id}));\n\n        if (Boolean(search)) {\n            setMembers(map.filter(m => m.displayName.toLowerCase().includes(search.toLowerCase())));\n        } else {\n            setMembers(map);\n        }\n\n    }, [peers, search]);\n\n    return <div className=\"col-md-3 nopadding\">\n        <div className=\"search-widget border-left rounded-left mon-border-4\">\n            <div className=\"search-from-wiget\">\n                <form className=\"form-inline d-flex justify-content-center md-form form-sm m-0\">\n                    <i\n                        className=\"fa fa-search \"\n                        aria-hidden=\"true\"\n                        style={{\n                            float: \"left\",\n                            width: \"10%\",\n                            color: \"#fff\"\n                        }}\n                    />\n                    <input\n                        className=\"input-wigate-serach\"\n                        type=\"text\"\n                        style={{\n                            width: \"80%\",\n                            float: \"right\",\n                            border: \"0px\",\n                            color: \"#fff\"\n                        }}\n                        placeholder=\"Find a Participant\"\n                        aria-label=\"Search\"\n                        onChange={(e) => setSearch(e.target.value)}\n                    />\n                </form>\n            </div>\n            <div className=\"user-list\">\n                <ul className=\"list-unstyled friend-list\">\n                    <If condition={me.displayName.toLowerCase().includes(search.toLowerCase())}>\n                        <SidebarMemberMe displayName={me.displayName} key={me.id}/>\n                    </If>\n                    {members.map(member => <SidebarMember\n                        displayName={member.displayName} key={member.id} id={member.id}/>)}\n                </ul>\n            </div>\n            <SideBarUserFooter/>\n        </div>\n    </div>;\n};\n\nSidebarUserList.propTypes =\n    {\n        peers           : PropTypes.arrayOf(appPropTypes.Peer).isRequired\n    };\n\nconst mapStateToProps = (state) =>\n{\n    const peersArray = Object.values(state.peers);\n\n    return {\n        peers           : peersArray,\n        me              : state.me\n    };\n};\n\nconst SidebarUserListContainer = connect(\n    mapStateToProps,\n    null\n)(SidebarUserList);\n\n\n\n\nexport default SidebarUserListContainer;\n\n","import React from \"react\";\nimport LeftPanelPart from \"./LeftPanelPart\";\nimport ChatSidebar from \"./ChatSidebar\";\nimport SidebarUserList from \"./SidebarUserList\";\nimport {connect} from \"react-redux\";\nimport {withRoomContext} from \"../../RoomContext\";\nimport {If} from \"react-if\";\n\n\nconst SliderView = (props) => {\n\n    const {rightSideMode} = props;\n\n    return <div id=\"sliderview\">\n        <div className=\"row\">\n            <LeftPanelPart/>\n            <If condition={rightSideMode.mode === 'chat'}>\n                <ChatSidebar/>\n            </If>\n            <If condition={rightSideMode.mode === 'list'}>\n                <SidebarUserList/>\n            </If>\n        </div>\n    </div>\n};\n\nconst mapStateToProps = (state) =>\n{\n    return {\n        rightSideMode            : state.rightSideMode\n    };\n};\n\nconst SliderViewContainer = withRoomContext(connect(\n    mapStateToProps,\n    null\n)(SliderView));\n\nexport default SliderViewContainer;\n","import React from \"react\";\nimport SliderView from \"./SliderView\";\nimport Header from \"../Header\";\n\nconst SliderMain = () => {\n\n    return (\n        <main>\n            <div id=\"clearfullview\" className=\"container-fuid card clearfullview\">\n                <Header/>\n                <div className=\"col-md-12\" style={{margin: 'auto'}}>\n                   <SliderView/>\n                </div>\n            </div>\n        </main>\n\n    )\n};\n\n\nexport default SliderMain;\n","import React from \"react\";\nimport ScreenView from \"./screen/ScreenView\";\nimport {connect} from \"react-redux\";\nimport {withRoomContext} from \"../RoomContext\";\nimport {If} from \"react-if\";\nimport AllAudio from \"./AllAudio\";\nimport GridMain from \"./grid/GridMain\";\nimport SliderMain from \"./slider/SliderMain\";\n\nconst Main = (props) => {\n\n    const {displayMode, peers} = props;\n\n    return <main>\n        <If condition={displayMode.mode === 'grid'}>\n            <GridMain/>\n        </If>\n        <If condition={displayMode.mode === 'speaker'}>\n            <SliderMain/>\n        </If>\n        <If condition={displayMode.mode === 'screen'}>\n            <ScreenView/>\n        </If>\n        {peers.map((peer) => <AllAudio key={peer.id} id={peer.id}/>)}\n    </main>;\n\n};\n\n\nconst mapStateToProps = (state) =>\n{\n    const peersArray = Object.values(state.peers);\n\n    return {\n        displayMode: state.displayMode,\n        peers: peersArray\n    };\n};\n\n\nconst MainContainer = withRoomContext(connect(\n    mapStateToProps,\n    null\n)(Main));\n\n\nexport default MainContainer;\n","import React from \"react\";\n\nconst Footer = () => (\n    <footer>\n        <div className=\"footer-copyright text-center py-3\">\n             2021 Copyright:\n            <a\n                onClick={event => event.preventDefault()}\n                href=\"\" className=\"c-text\">\n                Babylon Resources Ltd.\n            </a>\n            {/*&#160;&#38;&#160;\n            <a href=\"https://newgen-bd.com/\" target=\"_blank\" className=\"c-text\">\n                Newgen Technology Ltd.\n            </a>*/}\n        </div>\n    </footer>\n);\n\nexport default Footer;\n","import React from \"react\";\nimport { useHistory } from 'react-router-dom';\n\nconst EndMeeting = () => {\n\n    let history = useHistory();\n    const redirect = () => history.push('/home');\n\n    return <div id=\"unlockMeetingEndId\" style={{textAlign: \"center\", display: 'none'}}>\n        <button\n            className=\"btn-floating btn btn-danger btn-sm shado-baground-textC\"\n            style={{height: \"80px\", fontSize: \"18px\"}}\n            onClick={redirect}>Meeting is closed by host <br/>Click here to go back\n        </button>\n    </div>;\n};\n\nexport default EndMeeting;","import React from \"react\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EndMeeting from \"./EndMeeting\";\n\nconst MyDivMain = () => (\n    <>\n        <div id=\"unlockMeetingBodyId\">\n            <Main/>\n            <Footer/>\n        </div>\n        <EndMeeting/>\n    </>\n);\n\nexport default MyDivMain;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport * as appPropTypes from './appPropTypes';\nimport * as stateActions from '../redux/stateActions';\n\nconst Notifications = ({ notifications, onClick }) =>\n{\n\treturn (\n\t\t<div>\n\t\t\t{\n\t\t\t\tnotifications.map((notification) =>\n\t\t\t\t{\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div  key={notification.id}  id=\"toast-container\" className=\"toast-top-right\" aria-live=\"polite\" role=\"alert\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classnames('toast', notification.type === 'info' ? 'toast-success' : 'toast-error')}>\n\t\t\t\t\t\t\t\t<div className=\"toast-message\">\n\t\t\t\t\t\t\t\t\t{notification.text}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nNotifications.propTypes =\n{\n\tnotifications : PropTypes.arrayOf(appPropTypes.Notification).isRequired,\n\tonClick       : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) =>\n{\n\tconst { notifications } = state;\n\n\treturn { notifications };\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tonClick : (notificationId) =>\n\t\t{\n\t\t\tdispatch(stateActions.removeNotification(notificationId));\n\t\t}\n\t};\n};\n\nconst NotificationsContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Notifications);\n\nexport default NotificationsContainer;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as appPropTypes from './appPropTypes';\nimport {withRoomContext} from '../RoomContext';\nimport * as requestActions from '../redux/requestActions';\nimport MyDivMain from \"./MyDivMain\";\nimport Notifications from \"./Notifications\";\nimport {Helmet} from \"react-helmet\";\nimport {db} from \"../../firebase\";\nimport {withRouter} from \"react-router-dom\";\n\nclass Room extends React.Component\n{\n\trender()\n\t{\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Unlock World</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<Notifications/>\n\t\t\t\t<MyDivMain/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcomponentDidMount()\n\t{\n\t\tconst {roomClient, invalidMeetingMessage, roomFullMessage} = this.props;\n\t\tconst meetingId = this.props.room.url.split('/room/')[1].trim();\n\t\tconst userId = JSON.parse(localStorage.getItem(\"user\")).id;\n\n\t\tdb.collection(\"meeting\")\n\t\t\t.where('meetingId', '==', meetingId)\n\t\t\t.get().then(querySnapshot => {\n\n\t\t\tif (querySnapshot.size !== 0) {\n\t\t\t\t// roomClient.join();\n\n\t\t\t\tdb.collection(\"meeting-participants\")\n\t\t\t\t\t.where('meetingId', '==', meetingId)\n\t\t\t\t\t.where('userId', '==', userId)\n\t\t\t\t\t.get().then(querySnapshot => {\n\n\t\t\t\t\tif (querySnapshot.size < 6) {\n\n\t\t\t\t\t\tdb.collection(\"meeting-participants\").add({\n\t\t\t\t\t\t\tmeetingId, userId\n\t\t\t\t\t\t}).then(doc => {\n\t\t\t\t\t\t\troomClient.join();\n\t\t\t\t\t\t}).catch(error => console.error(\"Error adding document: \", error));\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\troomFullMessage();\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.props.history.push('/');\n\t\t\t\t\t\t\t// window.location.replace(window.location.origin);\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(error => console.log(\"Error getting documents: \", error));\n\n\t\t\t} else {\n\t\t\t\tinvalidMeetingMessage();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.props.history.push('/');\n\t\t\t\t\t// window.location.replace(window.location.origin);\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}).catch(error => console.log(\"Error getting documents: \", error));\n\n\t}\n}\n\nRoom.propTypes =\n{\n\troomClient      : PropTypes.any.isRequired,\n\troom            : appPropTypes.Room.isRequired,\n\tme              : appPropTypes.Me.isRequired,\n\tamActiveSpeaker : PropTypes.bool.isRequired,\n\tinvalidMeetingMessage  : PropTypes.func.isRequired\n};\n\nconst mapStateToProps = (state) =>\n{\n\treturn {\n\t\troom            : state.room,\n\t\tme              : state.me,\n\t\tamActiveSpeaker : state.me.id === state.room.activeSpeakerId\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tinvalidMeetingMessage: () => {\n\t\t\tdispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\ttext: 'Please wait for host to start meeting'\n\t\t\t\t}));\n\t\t},\n\t\troomFullMessage: () => {\n\t\t\tdispatch(requestActions.notify(\n\t\t\t\t{\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\ttext: 'Room is full. (maximum 6 participants can join a room)'\n\t\t\t\t}));\n\t\t}\n\t};\n};\n\nconst RoomContainer = withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Room));\n\nexport default withRouter(RoomContainer);\n","import React, {useEffect, useState} from 'react';\nimport RoomClient from \"./RoomClient\";\nimport RoomContext from './RoomContext';\nimport Room from './components/Room';\nimport {connect} from \"react-redux\";\nimport deviceInfo from \"./deviceInfo\";\nimport randomString from \"random-string\";\nimport * as stateActions from \"./redux/stateActions\";\nimport {useParams} from \"react-router-dom\";\n\nconst PreRoom = (props) => {\n\n    const [roomClient, setRoomClient] = useState(null);\n    const {setMyself, setUrl, changeDisplayMode, resetTextMessage} = props;\n    let { rid } = useParams();\n\n    useEffect(() => {\n\n        const roomId = rid;\n        // const roomId = prompt(\"Enter Room ID\",123);\n\n        const peerId = randomString({length: 8}).toLowerCase();\n\n        // const displayName = randomName();\n        const displayName = JSON.parse(localStorage.getItem(\"user\")).name;\n\n        const device = deviceInfo();\n        const handlerName = undefined;\n        const useSimulcast = true;\n        const useSharingSimulcast = true;\n        const forceTcp = false;\n        const produce = true;\n        const consume = true;\n        const forceH264 = false;\n        const forceVP9 = false;\n        const svc = undefined;\n        const datachannel = true;\n        const externalVideo = false;\n        const displayNameSet = false;\n\n        setMyself(peerId, displayName, displayNameSet, device);\n        setUrl(window.location.href);\n        changeDisplayMode('grid');\n        resetTextMessage();\n\n        const rc = new RoomClient(\n            {\n                roomId,\n                peerId,\n                displayName,\n                device,\n                handlerName,\n                useSimulcast,\n                useSharingSimulcast,\n                forceTcp,\n                produce,\n                consume,\n                forceH264,\n                forceVP9,\n                svc,\n                datachannel,\n                externalVideo\n            });\n        setRoomClient(rc);\n\n    }, []);\n\n    return <RoomContext.Provider value={roomClient}>\n        {roomClient && <Room/>}\n    </RoomContext.Provider>;\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n    return {\n        setMyself: (peerId, displayName, displayNameSet, device) => {\n            dispatch(stateActions.setMe({peerId, displayName, displayNameSet, device}));\n        },\n        setUrl: (roomUrl) => dispatch(stateActions.setRoomUrl(roomUrl)),\n        changeDisplayMode: (mode) => {\n            dispatch(stateActions.changeDisplayMode(mode, null));\n        },\n        resetTextMessage: () => {\n            dispatch(stateActions.resetTextMessage());\n        }\n    };\n};\n\nconst PreRoomContainer = connect(\n    null,\n    mapDispatchToProps)\n(PreRoom);\n\nexport default PreRoomContainer;","import bowser from 'bowser';\n\nexport default function()\n{\n\tconst ua = navigator.userAgent;\n\tconst browser = bowser.getParser(ua);\n\tlet flag;\n\n\tif (browser.satisfies({ chrome: '>=0', chromium: '>=0' }))\n\t\tflag = 'chrome';\n\telse if (browser.satisfies({ firefox: '>=0' }))\n\t\tflag = 'firefox';\n\telse if (browser.satisfies({ safari: '>=0' }))\n\t\tflag = 'safari';\n\telse if (browser.satisfies({ opera: '>=0' }))\n\t\tflag = 'opera';\n\telse if (browser.satisfies({ 'microsoft edge': '>=0' }))\n\t\tflag = 'edge';\n\telse\n\t\tflag = 'unknown';\n\n\treturn {\n\t\tflag,\n\t\tname    : browser.getBrowserName(),\n\t\tversion : browser.getBrowserVersion()\n\t};\n}\n","import React from 'react';\nimport logo from './conference/logo.png';\nimport {GoogleLogin} from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {Helmet} from \"react-helmet\";\nimport {db} from \"./firebase\";\n\nconst SignIn = () => {\n\n    const history = useHistory();\n    const location = useLocation();\n\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const [error, setError] = React.useState(\"none\");\n    const [inputType, setInputType] = React.useState(\"password\");\n\n    function upsertDB(user) {\n        db.collection(\"users\")\n            .where('email', '==', user.email)\n            .where('type', '==', user.type)\n            .get().then(querySnapshot => {\n\n            if (querySnapshot.empty) {\n                db.collection(\"users\").add({\n                    ...user, created: new Date(), password: null\n                }).then((doc) => {\n                    user.id = doc.id;\n                    localStorage.setItem(\"user\", JSON.stringify(user));\n                    history.push(Boolean(location.state) ? location.state.redirectPage : '/');\n                }).catch(error => console.error(\"Error adding document: \", error));\n            } else {\n                querySnapshot.forEach(doc => {\n                    const user = {...doc.data()};\n                    user.id = doc.id;\n                    delete user.created;\n                    delete user.password;\n                    localStorage.setItem(\"user\", JSON.stringify(user));\n                    history.push(Boolean(location.state) ? location.state.redirectPage : '/');\n                });\n            }\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n    }\n\n    const responseGoogle = (response) => {\n        let obj = response.profileObj;\n        if (obj != null) {\n            const {email, name, imageUrl} = obj;\n            const user = {\n                email,\n                name,\n                photo: imageUrl,\n                type: 'Google'\n            };\n            upsertDB(user);\n        }\n    };\n\n    const responseFacebook = (response) => {\n        if (response.status == null) {\n            const {email, name, picture} = response;\n            const user = {\n                email,\n                name,\n                photo: picture.data.url,\n                type:'Facebook'\n            };\n            upsertDB(user);\n        }\n    };\n\n    const responseNormal = e => {\n        e.preventDefault();\n\n        if (!Boolean(email) || !Boolean(password)) {\n            setError(\"block\");\n            setTimeout(() => setError(\"none\"), 3000);\n            return;\n        }\n\n        db.collection(\"users\")\n            .where('email', '==', email)\n            .where('password', '==', password)\n            .where('type', '==', 'Normal')\n            .get().then(querySnapshot => {\n\n            if (!querySnapshot.empty) {\n                querySnapshot.forEach(doc => {\n                    const user = {...doc.data()};\n                    user.id = doc.id;\n                    delete user.created;\n                    delete user.password;\n                    console.log(user);\n\n                    localStorage.setItem(\"user\", JSON.stringify(user));\n                    history.push(Boolean(location.state) ? location.state.redirectPage : '/');\n                });\n            } else {\n                setError(\"block\");\n                setTimeout(() => setError(\"none\"), 3000);\n            }\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n\n    };\n\n    return <div className=\"container-full bg-white\">\n        <Helmet>\n            <title>Sign In</title>\n        </Helmet>\n        {/*====================================================================================================\n      Section 1 Grod view\n      ========================================================================================================*/}\n        <header\n            className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n            style={{backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))', height: 25}}>\n            <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters\"/>\n        </header>\n\n        <div style={{display: error}} id=\"toast-container\" className=\"toast-top-right\"\n             aria-live=\"polite\"\n             role=\"alert\">\n            <div className=\"toast toast-error\">\n                <div className=\"toast-message\">\n                    Invalid Username or Password\n                </div>\n            </div>\n        </div>\n\n        <nav className=\" navbar navbar-expand-lg navbar-light bg-white overright-nabbar  border-bottom\">\n            <div className=\"container\">\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\n                        data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\"\n                        aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"/>\n                </button>\n                <a className=\"navbar-brand\" href=\"\" onClick={event => event.preventDefault()}>\n                    <img src={logo} style={{height: 44}} alt=\"Logo\"/>\n                </a>\n                <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n                    <ul className=\"nav navbar-nav ml-auto mt-2 mt-lg-0\">\n                        <li className=\"nav-item c-text \">\n                            <a className=\"nav-link c-text \"\n                               onClick={() => history.push(\"/join\")}\n                            >Join a Meeting</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link c-text \">Host a Meeting</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a type=\"button\" onClick={() => history.push(\"/signup\")}\n                               className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\"\n                               style={{width: '100%', padding: '1px 32px'}}>Sign Up</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </nav>\n        <div className=\"row\">\n            {/* Default form login */}\n            <form className=\"border border-light p-5 margin col-8 col-sm-6 col-md-6  col-lg-4 mb-5\"\n                  style={{marginTop: '5%', maxWidth: 400}}>\n                <p className=\"h4 mb-4 text-center\">Sign In</p>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\" className=\"text-left\">Email</label>\n                    <input type=\"text\" id=\"email\" name=\"email\" maxLength={50} className=\"form-control\"\n                           onChange={(e) => setEmail(e.target.value)}/>\n                </div>\n                <div className=\"form-group position-relative\">\n                    <label htmlFor=\"inputAddress\">Password</label>\n                    <div className=\"position-relative\">\n                        <input id=\"password-field\" type={inputType} className=\"form-control\" name=\"password\"\n                               onChange={(e) => setPassword(e.target.value)}/>\n                        <span toggle=\"#password-field\"\n                              onClick={() => setInputType(inputType === 'password' ? 'text' : 'password')}\n                              className=\"fa fa-fw fa-eye field-icon toggle-password position-absolute mt-2\"/>\n                    </div>\n                    {/* Forgot password */}\n                    <a href=\"#\" className=\"forgerpass c-text\"\n                       onClick={e => {\n                           e.preventDefault();\n                           history.push(\"/forgotPassword\");\n                       }}>Forgot password?</a>\n                </div>\n                {/* Sign in button */}\n                <div className=\"text-center col-sm-12\">\n                    <div className=\"row\">\n                        <button\n                            onClick={responseNormal}\n                            className=\"mdc-button mdc-button--raised shado-baground-textC mt-2 btn-lg\"\n                            style={{width: '100%', marginTop: '20px 20px !important'}}><span\n                            className=\"mdc-button__label\"><i className=\"fa fa-user\"/> &nbsp;Sign in</span></button>\n                        {/* Button */}\n                    </div>\n                    <div className=\"row mt-5\">\n                        {/*<label className=\"text-left w-100 color\">Sign in with</label>\n                        <GoogleLogin\n                            clientId=\"469850491209-vl4fr4p7c7jovtcunoofpn33fdj07tdr.apps.googleusercontent.com\"\n                            render={renderProps => (\n                                <a href=\"#\" onClick={renderProps.onClick} disabled={renderProps.disabled}\n                                   className=\" btn-50 google-login\"><i className=\"fa fa-google\"/>&nbsp;Google</a>\n                            )}\n                            buttonText=\"Login\"\n                            onSuccess={responseGoogle}\n                            onFailure={responseGoogle}\n                            cookiePolicy={'single_host_origin'}\n                        />\n\n                        <FacebookLogin\n                            appId=\"887702965074565\"\n                            callback={responseFacebook}\n                            fields=\"name,email,picture\"\n                            render={renderProps => (\n                                <a onClick={renderProps.onClick} className=\"btn-50 facebook-login\"><i\n                                    className=\"fa fa-facebook\"/>&nbsp;Facebook</a>\n                            )}\n                        />*/}\n                    </div>\n                </div>\n            </form>\n            {/* Default form login */}\n        </div>\n    </div>;\n};\n\n\nexport default SignIn;","import React, {useRef, useState} from \"react\";\nimport logo from './conference/logo.png';\nimport {useHistory} from \"react-router-dom\";\nimport {useForm} from \"react-hook-form\";\nimport {If} from \"react-if\";\nimport {db} from \"./firebase\";\nimport {Helmet} from \"react-helmet\";\nimport userPhoto from \"./userPhoto.png\";\n\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst SignUp = () => {\n\n    const [emailExists, setEmailExists] = useState(false);\n    const [dob, setDob] = useState(null);\n\n    const history = useHistory();\n    const {register, errors, watch, handleSubmit} = useForm();\n\n    const password = useRef({});\n    password.current = watch(\"password\", \"\");\n\n    const onSubmit = data => {\n\n        const user = {\n            email: data.email,\n            name: data.firstName.concat(' ', data.lastName),\n            photo: userPhoto,\n            type: 'Normal',\n            dob: dob\n        };\n\n        insertIntoDB(user, data.password);\n    };\n\n    const insertIntoDB = (user, password) => {\n\n        db.collection(\"users\")\n            .where('email', '==', user.email)\n            .where('type', '==', user.type)\n            .get().then(querySnapshot => {\n\n            if (querySnapshot.size !== 0) {\n                setEmailExists(true);\n                setTimeout(() => setEmailExists(false), 3000);\n            } else {\n                db.collection(\"users\").add({\n                    ...user, created: new Date(), password\n                }).then((doc) => {\n                    user.id = doc.id;\n                    localStorage.setItem(\"user\", JSON.stringify(user));\n                    history.push('/');\n                    console.log(user);\n\n                }).catch(error => console.error(\"Error adding document: \", error));\n            }\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n    };\n\n    return <div className=\"container-full bg-white\">\n        <Helmet>\n            <title>Sign Up</title>\n        </Helmet>\n        {/*====================================================================================================\n      Section 1 Grod view\n      ========================================================================================================*/}\n        <header\n            className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n            style={{backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))', height: 25}}>\n            <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters\"/>\n        </header>\n\n        <If condition={Object.keys(errors).length !== 0}>\n            <div id=\"toast-container\" className=\"toast-top-right\" style={{top:'97px'}}\n                 aria-live=\"polite\"\n                 role=\"alert\">\n                <div className=\"toast toast-error\">\n                    <div className=\"toast-message\">\n                        {errors.firstName && (<div>{errors.firstName.message}</div>)}\n                        {errors.email && (<div>{errors.email.message}</div>)}\n                        {errors.password && (<div>{errors.password.message}</div>)}\n                        {errors.confirmPassword && (<div>{errors.confirmPassword.message}</div>)}\n                    </div>\n                </div>\n            </div>\n        </If>\n\n        <If condition={emailExists}>\n            <div id=\"toast-container\" className=\"toast-top-right\" style={{top:'97px'}}\n                 aria-live=\"polite\"\n                 role=\"alert\">\n                <div className=\"toast toast-error\">\n                    <div className=\"toast-message\">\n                        Email Already Exists\n                    </div>\n                </div>\n            </div>\n        </If>\n\n        <nav className=\" navbar navbar-expand-lg navbar-light bg-white overright-nabbar  border-bottom\">\n            <div className=\"container\">\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\n                        data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\"\n                        aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"/>\n                </button>\n                <a className=\"navbar-brand\" href=\"\" onClick={event => event.preventDefault()}>\n                    <img src={logo} style={{height: 44}} alt=\"logo\"/>\n                </a>\n                <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n                    <ul className=\"nav navbar-nav ml-auto mt-2 mt-lg-0\">\n                        <li className=\"nav-item c-text \">\n                            <a className=\"nav-link c-text \" onClick={() => history.push(\"/join\")}>Join a Meeting</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link c-text \" href=\"#\">Host a Meeting</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a type=\"button\" onClick={() => history.push(\"/signin\")}\n                               className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\"\n                               style={{width: '100%', padding: '1px 32px'}}>Sign In</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </nav>\n\n        <div className=\"row\">\n            {/* Default form login */}\n            <form className=\"border border-light p-5 margin col-8 col-sm-6 col-md-6  col-lg-4 mb-5\"\n                  style={{marginTop: '5%'}} onSubmit={handleSubmit(onSubmit)}>\n                <p className=\"h4 mb-4 text-center\">Sign Up</p>\n\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputFastName\">First Name</label>\n                        <input type=\"text\" className=\"form-control\" id=\"inputFastName\"\n                               placeholder=\"First Name\" name=\"firstName\"\n                               ref={register({\n                                   required: {\n                                       value: true,\n                                       message: \"First Name Required\"\n                                   }\n                               })}/>\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputLastName\">Last Name</label>\n                        <input type=\"text\" className=\"form-control\"\n                               name=\"lastName\" id=\"inputLastName\" placeholder=\"Last Name\"\n                               ref={register}/>\n                    </div>\n                </div>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputEmail4\">Email Address</label>\n                        <input type=\"text\" className=\"form-control\" id=\"inputEmail4\"\n                               placeholder=\"demo@gmail.com\" name=\"email\"\n                               ref={register({\n                                   required: {\n                                       value: true,\n                                       message: \"Email Required\"\n                                   },\n                                   pattern: {\n                                       value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                       message: \"Entered value does not match email format\"\n                                   }\n                               })}\n                        />\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputDateofbirth\">Date of Birth</label>\n                        {/*<input type=\"date\" className=\"form-control\" id=\"inputDateofbirth\"\n                               name=\"dob\" ref={register}\n                        />*/}\n                        <DatePicker\n                            showMonthDropdown\n                            showYearDropdown\n                            isClearable\n                            dropdownMode=\"select\"\n                            className=\"form-control\"\n                            placeholderText=\"dd/mm/yyyy\"\n                            maxDate={new Date()}\n                            dateFormat=\"dd/MM/yyyy\"\n                            selected={dob}\n                            onChange={date => setDob(date)}\n                        />\n\n                    </div>\n                </div>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"Password\">Password</label>\n                        <input type=\"password\" className=\"form-control\" id=\"Password\"\n                               name=\"password\" placeholder=\"********\"\n                               ref={register({\n                                   required: {\n                                       value: true,\n                                       message: \"Password Required\"\n                                   },\n                                   minLength: {\n                                       value: 4,\n                                       message: \"Password too Short\"\n                                   }\n                               })}\n                        />\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"confirm_password\">Confirm Password</label>\n                        <input type=\"password\" className=\"form-control\" id=\"confirm_password\"\n                               placeholder=\"*******\" name=\"confirmPassword\"\n                               ref={register({\n                                   required: {\n                                       value: true,\n                                       message: \"Confirm Password Required\"\n                                   },\n                                   validate: {\n                                       validate: value => value === password.current || \"The passwords do not match\"\n                                   }\n                               })}\n                        />\n                    </div>\n                </div>\n                {/* Sign in button */}\n                <div className=\"text-center col-sm-12\">\n                    <div className=\"row\">\n                        <button type=\"submit\" className=\"mdc-button mdc-button--raised shado-baground-textC mt-2 btn-lg\"\n                                style={{width: '100%', marginTop: '20px 20px !important'}}><span\n                            className=\"mdc-button__label\">Sign Up</span></button>\n                        {/* Button */}\n                    </div>\n                    <div className=\"custom-control custom-checkbox mb-5\">\n                        <label>Already have an account?&nbsp;\n                            <a onClick={() => history.push(\"/signin\")} className=\"c-text\">Sign in</a>\n                        </label>\n                    </div>\n\n                    <p className=\"mt-5\">\n                        By signing in, I agree to the\n                        <a href=\"https://unlockworld.net/terms-conditions/\" className=\"c-text\"> Privacy\n                        Policy</a> and\n                        <a href=\"https://unlockworld.net/privacy-policy/\" className=\"c-text\"> Terms of Service</a>\n                    </p>\n                </div>\n            </form>\n            {/* Default form login */}\n        </div>\n\n    </div>;\n};\n\nexport default SignUp;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABTCAIAAABs0KxXAAAAA3NCSVQICAjb4U/gAAAAl3pUWHRSYXcgcHJvZmlsZSB0eXBlIEFQUDEAABiVVY5RCsQwCET/c4oeYdTEJMcJJV0Ky7b0/h+bNHa7fYIjI4y6V/3UY52n/diW9V3d1CFKzmefuQBIGDAgBOqKaJYO1ZwifBvI/IoHPurSKuqs4TSktzxyPMwSbtUyythb1k9Dwf+NcP11wbbjOzOwZEnmPW+RjCdO3BdH2DYTyjfH2QAADA5JREFUeJztmntQU1cex3/3kcdNkBggQEBEEsMryKo44PqqOritWp0KqBR1Zh0VZlCwVUe3Bd21O5Zlinasrfho1dWWqlhWfC219Vm1uiKoCIggyAgpIQmBEpKb3MfZP67Npih29p/tbJPP5I9zT375/c73d+79nXOSYAgh8ErwX3sAvxo+5d6HT7n34VPuffiUex8+5d6HT7n34VPuffiUex8+5d6HT7n34VPuffiUex8+5d6HT7n3QQIAy/NW2oVh2BA2CMewAKnkfzAahNDQw/iFd/9byOb+gWk36/o5bkjdADRAQWjQ1rExz7+bk5Pz4MEDDMOEYclksuXLl7/55ptugytXrqxbt04ul+M4fuLEiaCgIACw2+1Lliwxm808zwMAhmERERH5+flxcXHJycn+/v7r1693O9m7d++nn37K8/zFixc3btx44cKFioqKxMREd4j+/v7NmzdXV1cTBCH8KI4QWrhwYX5+fltb2/z585VKpVwuP3r0qEKhoGl60aJFFosF/6LlaZeLQQASAPGLXhQAh9B7HcaWH23PKzebzVarVa1W63S6gIAAg8GQlZXV2trqNigqKnI4HH19fS0tLefOnXP3m0ymnp4enU6n0WikUumdO3fy8/MVCkVJSUlbW1tWVlZHRwcAtLS0rF69urW1taSkRKFQmEymx48fMwzjOYaysrKysjKLxWIymWw2W3d3d09Pz9q1ax88eIAQevjwoc1ma2hoOHTokJAUi8ViNpvh3TsNUHnpQNOTHtppdLqMDGt00EYXa6RdRgfd7aC77I6RX9+A01fqe/rQc2RkZISHhzc3NwuXOTk5AFBXVydcNjY2AsCcOXO+/PLLkSNHzp07l2VZhNDAwMDUqVMjIiLcfgBgwoQJNpsNIVRQUBAREZGRkcEwTHp6ulqtLi4uFszS09MBoLq62nMMRUVFUVFReXl5PT09dru9q6srLS1NqVRevXq1ra1NJpPNmDFjzJgxISEh3d3dTqdzypQpcXFx+PqE0RPkFIXjSok42GQKrvo6WCoJbroUbDcFSyUqqSSEkj4rg0M8DxRFXb169fz58ydPnmxsbAwLCwsODnbfqEFBQWlpaZmZmWaz+caNG0IuhDtcLBafPXu2qqrqyJEjKpVKq9VKpVIAKCwsHD169N27dzMzM+/duzd+/Pj169e/OPZPrmiaHjdunFKppCgqJCQkNjbWZrMJRcFut48bN2727NkkSZaWlorFYqEfr3z89HhywthABQBwf/0bO28uunMTds+CikLBL4eQS2gN8bcSuVz+zjvvvPrqqwsWLGhvb1+2bFlAQAAAPH369NixY2FhYXPmzAGATZs2+fn5HT161P1BPz+/119/ffbs2dnZ2SqVat68eQRBAIBUKj1y5Eh/f39zczOO4wcPHhT6XwJCSCgZAp5tAHA6nW+99RaO49u2bWtqahKLxQCAPxqgk76/R4lIACDW5aPDX2DjJsIfj8OcPwEAx6P1tQ8NLKsmiRFy6oVRe3t7KyoqTCZTZ2fn9OnTP/744/379wNARUWFXC5nGCYtLW3ChAmVlZWBgYH79u2jaVqoiFartbOz02g01tXVDRs2bOnSpfX19YLP8PDwvLw8s9mcm5urUqkGRXxhIjw73aVOgGEYtVqdnZ2tVqt37twpTDspwjEr7bpltET6yfaFWrf9gakBR2DyQgCgWS7r5r1/9NmA5XaNjfUXi4ZKOUEQJElyHEeSZEhIiN1u5zju8OHDDMMsW7YsKCiI53kcx48fP97V1fXtt9++9tprAIBhmEgkIghCGChBEE6n0+2ToiiGYUSiwUFVKlVtba0Qguf5mJgYDMMoiqqpqcnIyJDJZFartaGhwc/Pzy1eaGRnZ+/fv//69etisRjHcRIAAMMIDAMAF+fspK2I5wGHHxzO8d/VdjEMAHYhZczM0KAXana5XCRJpqWl2Ww2kUjk7+//5MmTUaNGVVZW3r17V6vVbtmyxVNMbm7uJ598kpqa6nQ6RSJRTEwMx3EEQahUKo7jFAqF50SZTCaO4zzDOZ1OhUKxadMmq9UKACzL7tmzJzo62mAwVFZWlpaWsiwrlUrVanVvb294eLjwcWEtCA4Ofvvtt4uLiwMCAgYGBkhPv2uUU3KUk0SAA8CWuuYuhhklIs+njNEp/Iaa7VmzZiUmJuL4T0UQw3Q6XXp6+vbt2zdu3Dht2jRP4/nz5zc3NwOA2Wx+4403HA6He2dCkuTEiRO1Wq3bWK/Xb9iwwbMHAGbOnDl27FghHIZhLpdLq9WmpqYeOHCgqanJbUYQREpKikajMRgM69ati4uLE/pzcnI6Ojr8/PxYloXNdxrg1OUTj58OWq4Kaxvh9BX457VT7T88v5j9Bhi8b+8YsGd+V+PiuPfGxi4OGg4sN/9e0476lqHmPCsrKy4uTq/X6/V6jUazY8cOADhz5oxGo0lISNDr9TqdbvHixQDwwQcfaDQawVKpVH7zzTcAsHfv3uTk5Pj4+Li4uEmTJpWXlwPArl277t+/7w7R2NhYVFTkcrncgeLj4+Pj46uqqgDg4sWLMTExer0+ISEhPDz8s88+6+vrU6lUCQkJ8fHxer0ew7D+/v4LFy64ezQazfvvv/+zOW/p7d/d0AqnLpe3PDUOOBBC2+41wekrcPrKqn89cHLc85lLTU3t6+tzOp00TbMsu2LFivb29vLy8kOHDnEcR9M0TdMulwshBAA0TQuWNE0jhFpbW+fOnWu3251Op9PptNlsoaGhDoejpKSkpqbGHaKurq6goMButy9fvpxlWcGJxWLJzMxECG3YsOH27dsMwwhueZ43GAxr1qxxR3c4HAih7Ozs+vp6txnDMD97zj9v6/xLhxFIYmH942OAFmkj3k2M1vrJMutb93dbuq7f/XtyglIiHjTtFEW5K3BYWFh/fz8AyGQyHMclkv+cc6RSqeclAAwMDKSkpFDUs8VSLBa/8sorwprnaYZhmPBgEz8BAAEBAQqFgmVZiqICAwNJkiTJZ1oQQkL19gwnEomGDx/uafYz5YW/i54eEjD9Vl3LjOQof7nQuVgzIsLfb/Kt+6d/tCVerr42ZVykx8KO47iQaSGk0WiMjIxsamq6dOkSjuMsy/I8r1arp0+fTtP0mTNnKIriOC4yMlJYjQaVbp7nX3IaE5Yxl8uF47jRaJTJZCRJ8jw/aN+C43hdXd1XX30l7JTlcvm8efMQQqdOnYqOjuY4zt/fPyUl5ZlyHMMAgMCw3wcHlifFaz2KOYfQQ0tv69Skhbcf3KFdoy5Xf5cUPyU08FnmSHLr1q3CPJhMJqPRKJfLhXjCnAhtAKiurq6trcVxHMfx7du3r169OibmBYe/ocBx/NatWwUFBRzHYRh2//79lJSUoYwlEokQHQCEHVtBQcG5c+fa2toIgjh79uzJkydJBAAY1jJgv2vuZRHCAKJl0mqT1e0FAVrx+GnujwMVExNX1TSe77NNvVP/eWzUEm0EADAMU1xc7N4/5eXldXV18Tw/fvz41NRUz9EkJSUlJSUJ7ZiYmMuXL8fGxg7ajeE4LlQEz5kXNnw8z0+ePLmoqEjodDqdq1atAo9nwQ3P8zqdblD0sLCwlStXCu2+vr61a9eSchEJABvbu6DN8OIEYhjg+O4fzAXxmqqp43Nu1e3v7lna0PrQTv91jI7nOJZl3QKEIwf6pX+OGwwGiUQibLw8+2/evCmRSHiet9vt7k673S4kQphDdzqEx9jhcFgslqioqJdH9MRkMrEsS+bGRjUPOL6300OdCRCAGODP2hFhcgoA9qWM0Te27uw07ekyIwyP1Gg85ycoKIggiMDAwM2bN3/44YfCcBMSEg4ePBgbG6tUKgGA5/kRI0Z89NFH4eHhM2bMmDRpkpApnucLCwspilqwYMHKlSuFfQ5CaNiwYbt370YIqdVqz4GFhoYihJYsWZKXlyfUC+Fbh9zc3GvXrrndtre3P3r0qLS0tKysTCqVIoREIlFRURH2LOpLk4Q9d0LlADAAflCF/L8C+8U787eK93736lPuffiUex8+5d6HT7n34VPuffiUex8+5d6HT7n34VPuffiUex8+5d6HT7n34VPuffiUex8+5d6H9yr/Nybn2maCx/JSAAAAAElFTkSuQmCC\"","import React, {Component} from \"react\";\nimport logo from './conference/logo.png';\nimport {withRouter} from \"react-router-dom\";\nimport {Helmet} from \"react-helmet\";\n\nclass JoinMeeting extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            roomId: null,\n            error: \"none\"\n        };\n    }\n\n    mySubmitHandler = (event) => {\n        event.preventDefault();\n        let roomId = this.state.roomId;\n\n        /*if (!Boolean(displayName)) {\n            this.setState({error: \"block\"});\n            setTimeout(() => { this.setState({error: \"none\"}) }, 3000);\n            return;\n        }*/\n\n        if (!Boolean(roomId)) {\n            this.setState({error: \"block\"});\n            setTimeout(() => { this.setState({error: \"none\"}) }, 3000);\n            return;\n        }\n\n        this.props.history.push('/room/' + roomId);\n    };\n\n    myChangeHandler = (event) => {\n        this.setState({[event.target.name]: event.target.value});\n    };\n\n    homePage = () => this.props.history.push(\"/\");\n\n    render() {\n        return (\n            <div className=\"container-full bg-white\" style={{height: '100vh'}}>\n                <Helmet>\n                    <title>Join</title>\n                </Helmet>\n                <header\n                    className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n                    style={{\n                        backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))',\n                        height: 25\n                    }}>\n                    <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters\"/>\n                </header>\n\n                <div style={{display: this.state.error}} id=\"toast-container\" className=\"toast-top-right\"\n                     aria-live=\"polite\"\n                     role=\"alert\">\n                    <div className=\"toast toast-error\">\n                        <div className=\"toast-message\">\n                            Please Enter Meeting ID\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n\n                    <form className=\"border border-light p-5 margin col-md-4\" style={{marginTop: '10%'}}\n                          onSubmit={this.mySubmitHandler}>\n                        <p className=\"h4 mb-4 text-center\"><img style={{width:\"35%\"}} src={logo}/></p>\n\n                        {/*<div className=\"form-group\">\n                            <label htmlFor=\"idName\">Enter Your Name</label>\n                            <input type=\"text\" id=\"idName\" name='displayName' onChange={this.myChangeHandler}\n                                   value={this.state.displayName || ''} className=\"form-control mb-6 border4-light \"/>\n                        </div>*/}\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"meetingid\">Enter Meeting ID</label>\n                            <input type=\"text\" id=\"meetingid\" name='roomId' onChange={this.myChangeHandler}\n                                   value={this.state.roomId || ''} className=\"form-control mb-6 border4-light\"/>\n                        </div>\n\n                        <div className=\"text-center col-sm-12 mb-5\">\n                            <div className=\"row\">\n                                <button type=\"submit\" className=\"mdc-button mdc-button--raised shado-baground-textC mt-2 btn-lg\"\n                                        style={{width: '100%'}}><span className=\"mdc-button__label\"><i\n                                    className=\"fa fa-users\"></i> Join</span></button>\n                            </div>\n\n                        </div>\n                        <i onClick={this.homePage} className=\"material-icons\">arrow_back</i>\n                    </form>\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default withRouter(JoinMeeting);","import React from \"react\";\nimport {Redirect, Route} from \"react-router-dom\";\n\nconst PrivateRoute = ({component: Component, ...rest}) =>\n    <Route {...rest} render={(props) =>\n        JSON.parse(localStorage.getItem(\"user\")) == null ?\n            <Redirect to={{\n                pathname: \"/signin\",\n                state: {redirectPage: props.location.pathname}\n            }}/> : <Component {...props} />}\n    />;\n\nexport default PrivateRoute;","import React, {Component} from \"react\";\nimport logo from './conference/logo.png';\nimport {withRouter} from \"react-router-dom\";\nimport {Helmet} from \"react-helmet\";\nimport {db} from \"./firebase\";\n\nclass ForgotPassword extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: null,\n            error: \"none\",\n            success: \"none\"\n        };\n    }\n\n    mySubmitHandler = event => {\n        event.preventDefault();\n        let email = this.state.email;\n\n        const re = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n        if (!re.test(email)) {\n            this.setState({error: \"block\"});\n            setTimeout(() => { this.setState({error: \"none\"}) }, 3000);\n            return;\n        }\n\n        db.collection(\"users\")\n            .where('email', '==', email)\n            .where('type', '==', 'Normal')\n            .get().then(querySnapshot => {\n\n            if (!querySnapshot.empty) {\n                querySnapshot.forEach(doc => {\n                    const user = {...doc.data()};\n                    // console.log(user);\n\n                    let url = 'https://meeting.unlockworld.net/forgotPasswordMail/?' +\n                        'email=' + encodeURIComponent(user.email) +\n                        '&password=' + encodeURIComponent(user.password) +\n                        '&name=' + encodeURIComponent(user.name);\n\n                    this.setState({success: \"block\"});\n\n                    fetch(url).then(response => response.json()).then(json => {\n                        this.setState({success: \"none\"});\n                        this.props.history.push('/signin');\n                    });\n\n                });\n            } else {\n                this.setState({error: \"block\"});\n                setTimeout(() => { this.setState({error: \"none\"}) }, 3000);\n            }\n\n        }).catch(error => console.log(\"Error getting documents: \", error));\n    };\n\n    myChangeHandler = event =>\n        this.setState({[event.target.name]: event.target.value});\n\n    homePage = () => this.props.history.push(\"/\");\n\n    render() {\n        return (\n            <div className=\"container-full bg-white\" style={{height: '100vh'}}>\n                <Helmet>\n                    <title>Forgot Password</title>\n                </Helmet>\n                <header\n                    className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n                    style={{\n                        backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))',\n                        height: 25\n                    }}>\n                    <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters\"/>\n                </header>\n\n                <div style={{display: this.state.error}} id=\"toast-container\" className=\"toast-top-right\"\n                     aria-live=\"polite\"\n                     role=\"alert\">\n                    <div className=\"toast toast-error\">\n                        <div className=\"toast-message\">\n                            Invalid email or does not exist\n                        </div>\n                    </div>\n                </div>\n\n                <div style={{display: this.state.success}} id=\"toast-container\" className=\"toast-top-right\"\n                     aria-live=\"polite\"\n                     role=\"alert\">\n                    <div className=\"toast toast-success\">\n                        <div className=\"toast-message\">\n                            Your password has been sent to your email\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row\">\n\n                    <form className=\"border border-light p-5 margin col-md-4\" style={{marginTop: '10%'}}\n                          onSubmit={this.mySubmitHandler}>\n                        <p className=\"h4 mb-4 text-center\">\n                            <img style={{width: \"35%\"}} src={logo} alt=\"Image\" onClick={() => {\n                                this.props.history.push('/')\n                            }}/>\n                        </p>\n\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"meetingid\">Enter Email/Username</label>\n                            <input type=\"text\" id=\"meetingid\" name='email' onChange={this.myChangeHandler}\n                                   value={this.state.email || ''} className=\"form-control mb-6 border4-light\"/>\n                        </div>\n\n                        <div className=\"text-center col-sm-12 mb-5\">\n                            <div className=\"row\">\n                                <button type=\"submit\"\n                                        className=\"mdc-button mdc-button--raised shado-baground-textC mt-2 btn-lg\"\n                                        style={{width: '100%'}}>\n                                    <span className=\"mdc-button__label\">\n                                        <i className=\"fa fa-envelope\"></i> Retrieve Password</span>\n                                </button>\n                            </div>\n                        </div>\n                        <i onClick={this.homePage} className=\"material-icons\">arrow_back</i>\n                    </form>\n\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default withRouter(ForgotPassword);","import React, {useState} from 'react';\nimport logo from './conference/logo.png';\nimport {useHistory} from \"react-router-dom\";\nimport randomString from \"random-string\";\nimport {Helmet} from \"react-helmet\";\nimport {db} from \"./firebase\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport classnames from \"classnames\";\nimport {If} from \"react-if\";\nimport clipboardCopy from \"clipboard-copy\";\nimport {Loader} from \"react-loaders\";\nimport BlockUi from \"react-block-ui\";\nimport 'react-block-ui/style.css';\nimport 'loaders.css/loaders.min.css';\n\nimport {RangeDatePicker} from 'react-google-flight-datepicker';\nimport 'react-google-flight-datepicker/dist/main.css';\nimport './schedule.css';\n\nconst Schedule = () => {\n\n    const history = useHistory();\n\n    const [user, setUser] = useState({});\n    const [error, setError] = React.useState(\"none\");\n    const [info, setInfo] = React.useState(\"none\");\n\n    const [topic, setTopic] = useState(\"\");\n    const [newMeetingId, setNewMeetingId] = useState(\"\");\n    const [scheduleDate, setScheduleDate] = useState(new Date());\n    const [scheduleTime, setScheduleTime] = useState(new Date());\n    const [scheduleDocId, setScheduleDocId] = useState(null);\n\n    const [scheduleList, setScheduleList] = React.useState([]);\n    const [scheduleListStartTime, setScheduleListStartTime] = React.useState(new Date(1900, 0, 1).getTime());\n    const [scheduleListEndTime, setScheduleListEndTime] = React.useState(new Date(2100, 0, 1).getTime());\n\n    const [scheduleListPrevious, setScheduleListPrevious] = React.useState([]);\n    const [scheduleListPreviousStartTime, setScheduleListPreviousStartTime] = React.useState(new Date(1900, 0, 1).getTime());\n    const [scheduleListPreviousEndTime, setScheduleListPreviousEndTime] = React.useState(new Date(2100, 0, 1).getTime());\n\n    const [refresh, setRefresh] = React.useState(new Date());\n\n    const [scheduleListLoader, setScheduleListLoader] = React.useState(true);\n    const [scheduleListPreviousLoader, setScheduleListPreviousLoader] = React.useState(true);\n\n    React.useEffect(() => {\n        const user = JSON.parse(localStorage.getItem(\"user\"));\n        setUser(user);\n\n    }, []);\n\n    React.useEffect(() => {\n        const userId = JSON.parse(localStorage.getItem(\"user\")).id;\n\n        let lst = [];\n        db.collection(\"schedule\")\n            .where('status', '==', 'CREATED')\n            .where('userId', '==', userId)\n            .get()\n            .then(querySnapshot => querySnapshot.forEach(doc => lst.push({...doc.data(), sid: doc.id})))\n            .then(() => {\n\n                let filterLst = lst.filter(f =>\n                    f.scheduleAt.toDate().getTime() > scheduleListStartTime &&\n                    f.scheduleAt.toDate().getTime() < scheduleListEndTime\n                ).sort((a, b) => (a.scheduleAt > b.scheduleAt) ? 1 : -1);\n\n                setScheduleList(filterLst);\n                setScheduleListLoader(false);\n\n            })\n            .catch(error => console.log(\"Error getting documents: \", error));\n\n        let lstPrevious = [];\n        db.collection(\"schedule\")\n            .where('status', '==', 'STARTED')\n            .where('userId', '==', userId)\n            .get()\n            .then(querySnapshot => querySnapshot.forEach(doc => lstPrevious.push({...doc.data(), sid: doc.id})))\n            .then(() => {\n\n                let filterLstPrevious = lstPrevious.filter(f =>\n                    f.scheduleAt.toDate().getTime() > scheduleListPreviousStartTime &&\n                    f.scheduleAt.toDate().getTime() < scheduleListPreviousEndTime\n                ).sort((a, b) => (a.scheduleAt > b.scheduleAt) ? 1 : -1);\n\n                setScheduleListPrevious(filterLstPrevious);\n                setScheduleListPreviousLoader(false);\n\n            })\n            .catch(error => console.log(\"Error getting documents: \", error));\n\n    }, [refresh,\n        scheduleListStartTime, scheduleListEndTime,\n        scheduleListPreviousStartTime, scheduleListPreviousEndTime]\n    );\n\n    const joinMeeting = () => history.push(\"/join\");\n\n    const homePage = () => history.push(\"/\");\n\n    const schedule = () => history.push(\"/schedule\");\n\n    const hostMeeting = () => {\n        const meetingId = randomString({length: 8}).toLowerCase();\n\n        db.collection(\"meeting\").add({\n            meetingId,\n            userId: user.id,\n            created: new Date()\n        }).then(doc => {\n            history.push('/room/' + meetingId);\n        }).catch(error => console.error(\"Error adding document: \", error));\n\n    };\n\n    const personalMeeting = () => {\n        const meetingId = user.id;\n\n        db.collection(\"meeting\").add({\n            meetingId,\n            userId: user.id,\n            created: new Date()\n        }).then(doc => {\n            history.push('/room/' + meetingId);\n        }).catch(error => console.error(\"Error adding document: \", error));\n    };\n\n    const copyInvitation = ({topic, scheduleAt, meetingId}) => {\n\n        let time = scheduleAt.toDate().toLocaleString('default', {weekday: 'long'}) + ', ' +\n            scheduleAt.toDate().toLocaleString('default', {month: 'long'}) + ' ' +\n            scheduleAt.toDate().getDate() + ', ' +\n            scheduleAt.toDate().getHours() + ':';\n        time += scheduleAt.toDate().getMinutes() < 10 ? '00' : scheduleAt.toDate().getMinutes();\n\n        const copyRoomUrl = 'Unlock World\\nMake Your Life Easier with Unlock!\\n' +\n            'https://meeting.unlockworld.net' + '/room/' + meetingId + '\\nRoom ID: ' + meetingId + '\\n\\n' +\n            'Topic: ' + topic + '\\n' +\n            'Time: ' + time;\n\n        clipboardCopy(copyRoomUrl).then(() => {\n            setInfo(\"block\");\n            setTimeout(() => setInfo(\"none\"), 3000);\n        });\n    };\n\n    const copyPersonalInvitation = meetingId => {\n\n        const copyRoomUrl = 'Unlock World\\nMake Your Life Easier with Unlock!\\n' +\n            'https://meeting.unlockworld.net' + '/room/' + meetingId + '\\nRoom ID: ' + meetingId + '\\n\\n' +\n            'Topic: ' + user.name + 's Personal Meeting Room' + '\\n' +\n            'Time: ' + new Date();\n\n        clipboardCopy(copyRoomUrl).then(() => {\n            setInfo(\"block\");\n            setTimeout(() => setInfo(\"none\"), 3000);\n        });\n    };\n\n\n    const logout = () => {\n        localStorage.removeItem('user');\n        history.push(\"/signin\");\n    };\n\n    const createScheduleBtnClk = () => {\n        setTopic(\"My Meeting\");\n        setNewMeetingId(randomString({length: 9}).toLowerCase());\n        setScheduleDate(new Date());\n        setScheduleDocId(null);\n\n        const st = new Date();\n        const minutes = st.getMinutes();\n        const mod = (minutes % 15);\n        st.setMinutes( minutes + 15 - mod );\n        setScheduleTime(st);\n\n    };\n\n    const saveSchedule = () => {\n        if (!Boolean(topic) || !Boolean(scheduleDate) || !Boolean(scheduleTime)) {\n            setError(\"block\");\n            setTimeout(() => setError(\"none\"), 3000);\n            return;\n        }\n        setScheduleListLoader(true);\n        setScheduleListPreviousLoader(true);\n\n        const scheduleAt = new Date(scheduleDate);\n        scheduleAt.setHours(scheduleTime.getHours());\n        scheduleAt.setMinutes(scheduleTime.getMinutes());\n\n        const schedule = {\n            topic,\n            scheduleAt,\n            meetingId: newMeetingId,\n            userId: user.id,\n            status: 'CREATED'\n        };\n\n        if (Boolean(scheduleDocId)) {\n            db.collection('schedule').doc(scheduleDocId).update(schedule)\n                .then(doc => setRefresh(new Date()))\n                .catch(error => console.error(\"Error adding document: \", error));\n        } else {\n            db.collection(\"schedule\").add(schedule)\n                .then(doc => setRefresh(new Date()))\n                .catch(error => console.error(\"Error adding document: \", error));\n        }\n\n    };\n\n    const deleteSchedule = sid => {\n        setScheduleListLoader(true);\n        setScheduleListPreviousLoader(true);\n\n        return db.collection(\"schedule\").doc(sid).delete()\n            .then(() => setRefresh(new Date()))\n            .catch(error => console.error(\"Error removing document: \", error));\n    };\n\n    const editSchedule = ({topic, meetingId, scheduleAt, sid}) => {\n        setTopic(topic);\n        setNewMeetingId(meetingId);\n        setScheduleDate(scheduleAt.toDate());\n        setScheduleTime(scheduleAt.toDate());\n        setScheduleDocId(sid);\n    };\n\n    const startSchedule = ({meetingId, sid}) => {\n\n        db.collection('schedule').doc(sid)\n            .update({status: 'STARTED'})\n            .catch(error => console.error(\"Error adding document: \", error));\n\n        db.collection(\"meeting\").add({\n            meetingId,\n            userId: user.id,\n            created: new Date()\n        }).then(doc => history.push('/room/' + meetingId))\n            .catch(error => console.error(\"Error adding document: \", error));\n    };\n\n    const loaderStyle = {position: \"fixed\", top: \"50%\", left: \"50%\", transform: \"translate(-50%, -50%)\"};\n\n    return <>\n        <div className=\"container-full bg-white\">\n            <Helmet>\n                <title>Schedule</title>\n            </Helmet>\n            {/*====================================================================================================\n      Section 1 Grod view\n      ========================================================================================================*/}\n            <header\n                className=\"MuiPaper-root MuiAppBar-root MuiAppBar-positionFixed MuiAppBar-colorPrimary MuiPaper-elevation4\"\n                style={{backgroundImage: 'linear-gradient(90deg, rgb(255, 115, 107), rgb(255, 34, 96))', height: 25}}>\n                <div className=\"MuiToolbar-root MuiToolbar-regular MuiToolbar-gutters\"/>\n            </header>\n\n            <div style={{display: error}} id=\"toast-container\" className=\"toast-top-right\"\n                 aria-live=\"polite\"\n                 role=\"alert\">\n                <div className=\"toast toast-error\">\n                    <div className=\"toast-message\">\n                        Failed to create a schedule\n                    </div>\n                </div>\n            </div>\n\n            <div style={{display: info}} id=\"toast-container\" className=\"toast-top-right\"\n                 aria-live=\"polite\"\n                 role=\"alert\">\n                <div className=\"toast toast-success\">\n                    <div className=\"toast-message\">\n                        Invitation copied to the clipboard\n                    </div>\n                </div>\n            </div>\n\n            <nav className=\" navbar navbar-expand-lg navbar-light bg-white overright-nabbar  border-bottom\">\n                <a className=\"navbar-brand\" href=\"\" onClick={event => event.preventDefault()}>\n                    <img src={logo} style={{height: 44}}/>\n                </a>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\n                        data-target=\"#navbarTogglerDemo03\"\n                        aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"/>\n                </button>\n                <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n                    <ul className=\"nav navbar-nav ml-auto mt-2 mt-lg-0\">\n                        <li className=\"nav-item c-text \">\n                            <a className=\"nav-link c-text \" onClick={joinMeeting}>Join a Meeting</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link c-text \" onClick={hostMeeting}>Host a Meeting</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <button className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\"\n                                    style={{width: '100%', padding: '1px 32px'}} onClick={logout}>Logout\n                            </button>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n\n            <a className=\"d-sm-block d-md-none \" style={{\n                position: 'absolute',\n                zIndex: 999999,\n                WebkitFontSmoothing: 'subpixel-antialiased',\n                backgroundColor: '#f7023e',\n                borderRadius: '49px 0 0 49px',\n                padding: '1px   9px',\n                color: '#fff',\n                top: '18%',\n                right: 0\n            }}>\n                <i className=\"fa fa-cogs\" aria-hidden=\"true\"/>\n            </a>\n\n            <div className=\"row\">\n                <nav id=\"sidebar\" className=\"col-md-2 d-none d-md-block bg-common sidebar mobile-absolute\">\n                    <div className=\"sidebar-sticky\">\n                        <ul className=\"nav flex-column\">\n                            <li className=\"nav-item\">\n                                <a className=\"nav-link\" href=\"#\" onClick={event => {\n                                    event.preventDefault();\n                                    homePage();\n                                }}> Profile</a>\n                            </li>\n                            <li className=\"nav-item\">\n                                <a className=\"nav-link active\" href=\"#\" onClick={event => {\n                                    event.preventDefault();\n                                    schedule();\n                                }}>Meetings</a>\n                            </li>\n                            {/*<li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\">Webinars</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\">Recordings</a>\n                        </li>\n                        <li className=\"nav-item\">\n                            <a className=\"nav-link\" href=\"#\">Settings</a>\n                        </li>\n                        <li className=\"nav-item\">\n                        </li>*/}\n                        </ul>\n                    </div>\n                </nav>\n\n                <main role=\"main\" className=\"col-md-8 col-lg-9 px-4 pt-5\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <h2>\n                                Meetings\n                            </h2>\n                        </div>\n                    </div>\n\n                    <BlockUi\n                        renderChildren={true}\n                        tag=\"div\"\n                        blocking={scheduleListLoader && scheduleListPreviousLoader}\n                        loader={<Loader style={loaderStyle} active type={\"semi-circle-spin\"} color=\"#FF5549\"/>}\n                    >\n\n                        <div className=\"container border p-4\">\n                            <nav>\n                                <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n                                    <a className=\"nav-item nav-link active\" id=\"nav-home-tab\" data-toggle=\"tab\"\n                                       href=\"#nav-home\"\n                                       role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Upcoming</a>\n                                    <a className=\"nav-item nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\"\n                                       href=\"#nav-profile\"\n                                       role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">Previous</a>\n                                    <a className=\"nav-item nav-link\" id=\"nav-contact-tab\" data-toggle=\"tab\"\n                                       href=\"#nav-contact\"\n                                       role=\"tab\" aria-controls=\"nav-contact\" aria-selected=\"false\">Personal Room</a>\n                                </div>\n                            </nav>\n\n                            <div className=\"tab-content\" id=\"nav-tabContent\">\n\n                                <div className=\"tab-pane fade show pt-4 active\" id=\"nav-home\" role=\"tabpanel\"\n                                     aria-labelledby=\"nav-home-tab\">\n                                    <div className=\"d-flex mb-5\">\n                                        <div className=\"mr-auto pt-2\">\n                                            {/*<span className=\"border label p-2\">\n                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start time\n                                            <b style={{color: '#000'}}>&nbsp;&nbsp;to&nbsp;&nbsp;</b>\n                                            End time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                                            </span>*/}\n\n                                            <RangeDatePicker\n                                                onChange={(startDate, endDate) => {\n\n                                                    if (Boolean(startDate))\n                                                        setScheduleListStartTime(startDate.getTime());\n                                                    else\n                                                        setScheduleListStartTime(new Date(1900, 0, 1).getTime());\n\n                                                    if (Boolean(endDate)) {\n                                                        endDate.setDate(endDate.getDate() + 1);\n                                                        setScheduleListEndTime(endDate.getTime());\n                                                    } else {\n                                                        setScheduleListEndTime(new Date(2100, 0, 1).getTime());\n                                                    }\n\n                                                }}\n                                                minDate={new Date(1900, 0, 1)}\n                                                maxDate={new Date(2100, 0, 1)}\n                                                monthFormat=\"MMM YYYY\"\n                                                startDatePlaceholder=\"Start Time\"\n                                                endDatePlaceholder=\"End Time\"\n                                                disabled={false}\n                                                className=\"schedule-date-form\"\n                                                startWeekDay=\"sunday\"\n                                                highlightToday={true}\n                                            />\n\n                                        </div>\n                                        <div className=\"pb-2\">\n                                            <button\n                                                onClick={() => createScheduleBtnClk()}\n                                                className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\"\n                                                data-toggle=\"modal\"\n                                                data-target=\"#exampleModal\">Schedule a Meeting\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    {scheduleList.map((obj, i) => (\n                                        <div key={i} className=\"d-flex meeting-schdule mb-20\">\n                                            <div className=\"col-sm-3 border p-3\">\n                                                {obj.scheduleAt.toDate().toLocaleString('default', {weekday: 'long'})},&nbsp;\n                                                {obj.scheduleAt.toDate().toLocaleString('default', {month: 'long'})}&nbsp;\n                                                {obj.scheduleAt.toDate().getDate()}\n                                                <h4>\n                                                    {obj.scheduleAt.toDate().getHours()}:\n                                                    {obj.scheduleAt.toDate().getMinutes() < 10 ? '00' : obj.scheduleAt.toDate().getMinutes()}\n                                                </h4>\n                                            </div>\n                                            <div\n                                                className={classnames('col-sm-6 border p-3', i % 2 === 0 ? 'text-danger' : '')}>\n                                                <h4 className={classnames(i % 2 === 0 ? 'text-danger' : '')}>{obj.topic}</h4>\n                                                <p>Meeting ID: {obj.meetingId}</p>\n                                            </div>\n                                            <div className=\"col-sm-3 border p-3\">\n                                                <button type=\"button\"\n                                                        onClick={() => copyInvitation(obj)}\n                                                        className=\"btn btn-sm btn-outline-primary act\">\n                                                    Copy Invitation\n                                                </button>\n                                                <button type=\"button\"\n                                                        onClick={() => startSchedule(obj)}\n                                                        className=\"btn btn-sm btn-outline-primary\">\n                                                    Start\n                                                </button>\n                                                <button type=\"button\"\n                                                        onClick={() => editSchedule(obj)}\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#exampleModal\"\n                                                        className=\"btn btn-sm btn-outline-primary\">\n                                                    Edit\n                                                </button>\n                                                <button type=\"button\"\n                                                        onClick={() => deleteSchedule(obj.sid)}\n                                                        className=\"btn btn-sm btn-outline-primary\">\n                                                    Delete\n                                                </button>\n                                                <p className=\"small label mb-0\">\n                                                    <i className=\"fa fa-wpforms\"/>\n                                                    &nbsp;&nbsp;\n                                                    Report to Unlock\n                                                </p>\n                                            </div>\n                                        </div>\n                                    ))}\n\n                                    <If condition={scheduleList.length === 0}>\n                                        <div className=\"col-12 text-center label \"\n                                             style={{paddingTop: '20%', marginBottom: '20%'}}>\n                                            The user does not have any upcoming meetings,<br/>\n                                            To schedule a new meeting click Schedule a Meeting.\n                                        </div>\n                                    </If>\n\n                                </div>\n\n                                <div className=\"tab-pane fade pt-4 \" id=\"nav-profile\" role=\"tabpanel\"\n                                     aria-labelledby=\"nav-profile-tab\">\n                                    <div className=\"d-flex mb-5\">\n                                        <div className=\"mr-auto pt-2\">\n                                            {/*<span className=\"border label p-2\">\n                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start time\n                                            <b style={{color: '#000'}}>&nbsp;&nbsp;to&nbsp;&nbsp;</b>\n                                            End time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                                            </span>*/}\n\n                                            <RangeDatePicker\n                                                onChange={(startDate, endDate) => {\n\n                                                    if (Boolean(startDate))\n                                                        setScheduleListPreviousStartTime(startDate.getTime());\n                                                    else\n                                                        setScheduleListPreviousStartTime(new Date(1900, 0, 1).getTime());\n\n                                                    if (Boolean(endDate)) {\n                                                        endDate.setDate(endDate.getDate() + 1);\n                                                        setScheduleListPreviousEndTime(endDate.getTime());\n                                                    } else {\n                                                        setScheduleListPreviousEndTime(new Date(2100, 0, 1).getTime());\n                                                    }\n\n                                                }}\n                                                minDate={new Date(1900, 0, 1)}\n                                                maxDate={new Date(2100, 0, 1)}\n                                                monthFormat=\"MMM YYYY\"\n                                                startDatePlaceholder=\"Start Time\"\n                                                endDatePlaceholder=\"End Time\"\n                                                disabled={false}\n                                                className=\"schedule-date-form\"\n                                                startWeekDay=\"sunday\"\n                                                highlightToday={true}\n                                            />\n\n                                        </div>\n                                        <div className=\"pb-2\">\n                                            {/*<button\n                                            onClick={() => createScheduleBtnClk()}\n                                            className=\"mdc-button mdc-button--raised shado-baground-textC radius10-font\"\n                                            data-toggle=\"modal\"\n                                            data-target=\"#exampleModal\">Schedule a Meeting\n                                        </button>*/}\n                                        </div>\n                                    </div>\n\n                                    {scheduleListPrevious.map((obj, i) => (\n                                        <div key={i} className=\"d-flex meeting-schdule mb-20\">\n                                            <div className=\"col-sm-3 border p-3\">\n                                                {obj.scheduleAt.toDate().toLocaleString('default', {weekday: 'long'})},&nbsp;\n                                                {obj.scheduleAt.toDate().toLocaleString('default', {month: 'long'})}&nbsp;\n                                                {obj.scheduleAt.toDate().getDate()}\n                                                <h4>\n                                                    {obj.scheduleAt.toDate().getHours()}:\n                                                    {obj.scheduleAt.toDate().getMinutes() < 10 ? '00' : obj.scheduleAt.toDate().getMinutes()}\n                                                </h4>\n                                            </div>\n                                            <div\n                                                className={classnames('col-sm-6 border p-3', i % 2 === 0 ? 'text-danger' : '')}>\n                                                <h4 className={classnames(i % 2 === 0 ? 'text-danger' : '')}>{obj.topic}</h4>\n                                                <p>Meeting ID: {obj.meetingId}</p>\n                                            </div>\n                                            <div className=\"col-sm-3 border p-3\">\n                                                <button type=\"button\"\n                                                        onClick={() => copyInvitation(obj)}\n                                                        className=\"btn btn-sm btn-outline-primary act\">\n                                                    Copy Invitation\n                                                </button>\n                                                <button type=\"button\"\n                                                        onClick={() => startSchedule(obj)}\n                                                        disabled={obj.status === 'STARTED'}\n                                                        className=\"btn btn-sm btn-outline-primary\">\n                                                    Start\n                                                </button>\n                                                <button type=\"button\"\n                                                        onClick={() => editSchedule(obj)}\n                                                        data-toggle=\"modal\"\n                                                        data-target=\"#exampleModal\"\n                                                        disabled={obj.status === 'STARTED'}\n                                                        className=\"btn btn-sm btn-outline-primary\">\n                                                    Edit\n                                                </button>\n                                                <button type=\"button\"\n                                                        onClick={() => deleteSchedule(obj.sid)}\n                                                        className=\"btn btn-sm btn-outline-primary\">\n                                                    Delete\n                                                </button>\n                                                <p className=\"small label mb-0\">\n                                                    <i className=\"fa fa-wpforms\"/>\n                                                    &nbsp;&nbsp;\n                                                    Report to Unlock\n                                                </p>\n                                            </div>\n                                        </div>\n                                    ))}\n\n                                </div>\n\n                                <div className=\"tab-pane fade pt-4 \"\n                                     id=\"nav-contact\" role=\"tabpanel\" aria-labelledby=\"nav-contact-tab\">\n\n                                    <div style={{height: '60vh'}}>\n                                        <div className=\"row\">\n                                            <div className=\"col-3\">Topic</div>\n                                            <div className=\"col-9\">{user.name}s Personal Meeting Room</div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-3\">Meeting ID</div>\n                                            <div className=\"col-9\">{user.id}</div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-3\">Email</div>\n                                            <div className=\"col-9\">{user.email}</div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-3\">Join URL:</div>\n                                            <div className=\"col-9\">{'https://meeting.unlockworld.net' + '/room/' + user.id}</div>\n                                        </div>\n                                        <div className=\"row pt-5 \" id=\"personeal-sec1\" style={{display: 'none'}}>\n                                            <form>\n                                                <div className=\"row\">\n                                                    <div className=\"form-group col-6\">\n                                                        <div className=\"col-sm-12\">\n                                                            <label\n                                                                className=\"form-control-static detail-label\">Topic</label>\n                                                        </div>\n                                                        <div id=\"display-name-form-group\"\n                                                             className=\"col-sm-12 form-group\"\n                                                             style={{margin: 0}}>\n                                                            <input type=\"text\" className=\"form-control\"\n                                                                   placeholder=\"Topic\"/>\n                                                            <div className=\"valid-feedback\">Looks good!</div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group col-6\">\n                                                        <div className=\"col-sm-12\">\n                                                            <label className=\"form-control-static detail-label\">Meeting\n                                                                ID\n                                                            </label>\n                                                        </div>\n                                                        <div id=\"display-name-form-group\"\n                                                             className=\"col-sm-12 form-group\"\n                                                             style={{margin: 0}}>\n                                                            <input type=\"text\" className=\"form-control\"\n                                                                   placeholder=\"Display Name\"/>\n                                                            <div className=\"invalid-feedback\"> Please provide a valid\n                                                                city.\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group col-6\">\n                                                        <div className=\"col-sm-12\">\n                                                            <label className=\"form-control-static detail-label\">Security\n                                                                Code\n                                                            </label>\n                                                        </div>\n                                                        <div id=\"display-name-form-group\"\n                                                             className=\"col-sm-12 form-group\"\n                                                             style={{margin: 0}}>\n                                                            <input type=\"text\" className=\"form-control\"\n                                                                   placeholder=\"Full Name\"/>\n                                                            <div className=\"valid-feedback\">Looks good!</div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group col-6\">\n                                                        <div className=\"col-sm-12\">\n                                                            <label className=\"form-control-static detail-label\">Join\n                                                                URL</label>\n                                                        </div>\n                                                        <div id=\"display-name-form-group\"\n                                                             className=\"col-sm-12 form-group\"\n                                                             style={{margin: 0}}>\n                                                            <input type=\"text\" className=\"form-control\"\n                                                                   placeholder=\"Display Name\"/>\n                                                            <div className=\"invalid-feedback\"> Please provide a valid\n                                                                city.\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"form-group col-12 pl-4 m-2\">\n                                                        <button type=\"button\"\n                                                                className=\"btn shado-baground-textS btn-md\">\n                                                            Savs change\n                                                        </button>\n                                                        <button type=\"button\"\n                                                                className=\"btn shado-baground-textC btn-md\">Cancel\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                        <div className=\"mt-5\">\n                                            <button type=\"button\"\n                                                    onClick={() => personalMeeting()}\n                                                    className=\"btn shado-baground-textS btn-md\">\n                                                Start\n                                            </button>\n                                            <button\n                                                type=\"button\"\n                                                onClick={() => copyPersonalInvitation(user.id)}\n                                                className=\"btn btn-outline-secondary btn-md gray-button\">\n                                                <i className=\"fa fa-files-o\"/>\n                                                &nbsp;&nbsp;&nbsp;&nbsp;\n                                                Copy the invitation\n                                            </button>\n                                            <button type=\"button\"\n                                                    onClick={() => homePage()}\n                                                    className=\"btn shado-baground-textC btn-md\">\n                                                Cancel\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n\n                        </div>\n                    </BlockUi>\n                </main>\n\n            </div>\n\n        </div>\n\n        <div className=\"modal fade bd-example-modal-lg\" id=\"exampleModal\" tabIndex={-1} data-backdrop=\"static\"\n             aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-centered\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\" style={{\n                        backgroundImage: 'linear-gradient(90deg, rgb(255, 34, 96), rgb(255, 115, 107))',\n                        color: '#fff',\n                        paddingBottom: 20\n                    }}>\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Schedule Meeting</h5>{/* Button */}\n                    </div>\n                    <div id=\"daynamicbody\" className=\"modal-body\">\n                        <div className=\"col-12\">\n                            <div className=\"row\">\n                                <div className=\"row pt-3 \" id=\"personeal-sec1\">\n                                    <form id=\"add-schdule\">\n                                        <div className=\"row\">\n                                            <div className=\"form-group col-12\">\n                                                <div className=\"col-sm-12\">\n                                                    <label className=\"form-control-static detail-label\">Topic</label>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: 0}}>\n                                                    <input type=\"text\"\n                                                           value={topic}\n                                                           onChange={e => setTopic(e.target.value)}\n                                                           className=\"form-control\"\n                                                           placeholder=\"My Meeting\"/>\n                                                    {/*<div className=\"invalid-feedback\"> Please provide a valid city.\n                                                    </div>*/}\n                                                </div>\n\n                                            </div>\n                                            <div className=\"form-group col-8\">\n                                                <div className=\"col-sm-12\">\n                                                    <label className=\"form-control-static detail-label\">When</label>\n                                                </div>\n                                                <div className=\"col-sm-12\">\n                                                    <div className=\"row\">\n                                                        <div id=\"display-name-form-group\"\n                                                             className=\"col-sm-7 form-group\"\n                                                             style={{margin: 0}}>\n                                                            {/*<input type=\"time\" className=\"form-control\"\n                                                                   id=\"birthdaytime\" name=\"birthdaytime\"/>*/}\n                                                            <DatePicker\n                                                                className=\"form-control\"\n                                                                placeholderText=\"Date\"\n                                                                dateFormat=\"dd/MM/yyyy\"\n                                                                minDate={new Date()}\n                                                                selected={scheduleDate}\n                                                                onChange={date => setScheduleDate(date)}/>\n\n                                                        </div>\n                                                        <div id=\"display-name-form-group\"\n                                                             className=\"col-sm-5 form-group\"\n                                                             style={{margin: 0}}>\n                                                            {/*<input type=\"time\" className=\"form-control\"\n                                                                   id=\"birthdaytime\" name=\"birthdaytime\"/>*/}\n                                                            <DatePicker\n                                                                className=\"form-control\"\n                                                                placeholderText=\"Time\"\n                                                                showTimeSelect\n                                                                showTimeSelectOnly\n                                                                timeIntervals={15}\n                                                                timeCaption=\"Time\"\n                                                                dateFormat=\"h:mm aa\"\n                                                                selected={scheduleTime}\n                                                                onChange={date => setScheduleTime(date)}\n                                                            />\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className=\"form-group col-4\">\n                                                <div className=\"col-sm-12\">\n                                                    <label className=\"form-control-static detail-label\">Meeting\n                                                        ID</label>\n                                                </div>\n                                                <div id=\"display-name-form-group\" className=\"col-sm-12 form-group\"\n                                                     style={{margin: '3px'}}>\n                                                    {/*<input type=\"text\" className=\"form-control\" readOnly={true}\n                                                           placeholder=\"Display Name\"/>\n                                                    <div className=\"invalid-feedback\"> Please provide a valid city.\n                                                    </div>*/}\n                                                    {newMeetingId}\n                                                </div>\n                                            </div>\n\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <hr/>\n                        <button type=\"button\"\n                                data-dismiss=\"modal\"\n                                className=\"mdc-button mdc-button--raised shado-baground-textC mt-2\"\n                                onClick={() => saveSchedule()}>\n                            Save change\n                        </button>\n                        <button type=\"button\"\n                                className=\"mdc-button mdc-button--raised shado-baground-textC mt-2\"\n                                data-dismiss=\"modal\">Cancel\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n    </>;\n\n\n};\n\n\nexport default Schedule;","import domready from 'domready';\nimport React from 'react';\nimport {render} from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {applyMiddleware as applyReduxMiddleware, createStore as createReduxStore} from 'redux';\nimport thunk from 'redux-thunk';\nimport Logger from './conference/Logger';\nimport RoomClient from './conference/RoomClient';\nimport reducers from './conference/redux/reducers';\n// import {BrowserRouter as Router, Route} from \"react-router-dom\";\nimport {HashRouter as Router, Route} from \"react-router-dom\";\nimport Home from \"./Home\";\nimport PreRoom from \"./conference/PreRoom\";\nimport SignIn from \"./SignIn\";\nimport SignUp from \"./SignUp\";\nimport JoinMeeting from \"./JoinMeeting\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport Schedule from \"./Schedule\";\n\nconst logger = new Logger();\nconst reduxMiddlewares = [ thunk ];\n\nconst store = createReduxStore(\n\treducers,\n\tundefined,\n\tapplyReduxMiddleware(...reduxMiddlewares)\n);\n\nRoomClient.init({ store });\n\ndomready(async () =>\n{\n\tlogger.debug('DOM ready');\n\n\trun();\n});\n\nasync function run()\n{\n\trender(\n\t\t<Provider store={store}>\n\t\t\t<Router>\n\t\t\t\t<PrivateRoute exact path={['/', '/home']} component={Home}/>\n\t\t\t\t<PrivateRoute path='/room/:rid' component={PreRoom}/>\n\t\t\t\t<Route path='/join' component={JoinMeeting}/>\n\t\t\t\t<Route path='/signin' component={SignIn}/>\n\t\t\t\t<Route path='/signup' component={SignUp}/>\n\t\t\t\t<Route path='/forgotPassword' component={ForgotPassword}/>\n\t\t\t\t<PrivateRoute path='/schedule' component={Schedule}/>\n\t\t\t</Router>\n\t\t</Provider>,\n\t\tdocument.getElementById('myDiv')\n\t);\n}\n"],"sourceRoot":""}